import"../chunks/DsnmJJEf.js";import{i as xt}from"../chunks/CGB_-Zw7.js";import{v as Lr,aY as kr,E as Fr,aZ as Dr,a_ as Ur,F as qr,x as $,a$ as xr,b0 as zr,b1 as $r,b2 as cr,b3 as jr,I as Vr,M as Lt,l as Or,J as Kr,aG as Hr,_ as zt,ar as ur,$ as z,u as F,N as j,n as c,a2 as x,a3 as $t,as as Pt,Y as ht,at as dr,a0 as At,a4 as L,a5 as A,a6 as q,aq as Yr,a1 as Q,a7 as ot,au as ut,aX as fr,aw as Te,av as Gr,aj as Jr,b4 as Qr,b5 as Wr,am as Ae,q as Zr}from"../chunks/Dr_vVydj.js";import{p as V,i as G}from"../chunks/py2TyBLm.js";import{l as Xr,c as tn,a as Dt,e as Ut,b as en,s as gr,d as rn,g as nn,R as Mt,i as on}from"../chunks/CIEdZLIy.js";import{s as Et,r as Ot,t as an,a as sn,b as ln,d as cn}from"../chunks/BB1G5IF8.js";import{b as qt,s as un,a as dn}from"../chunks/BQEZzGGH.js";import{s as fn}from"../chunks/DJ0n3E1j.js";function Kt(i,r){cr(()=>{i.dispatchEvent(new CustomEvent(r))})}function gn(i){if(i==="float")return"cssFloat";if(i==="offset")return"cssOffset";if(i.startsWith("--"))return i;const r=i.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function Pe(i){const r={},o=i.split(";");for(const e of o){const[t,n]=e.split(":");if(!t||n===void 0)break;const l=gn(t.trim());r[l]=n.trim()}return r}const hn=i=>i;function vn(i,r,o){var e=tn,t,n,l,a=null;e.a??={element:i,measure(){t=this.element.getBoundingClientRect()},apply(){if(l?.abort(),n=this.element.getBoundingClientRect(),t.left!==n.left||t.right!==n.right||t.top!==n.top||t.bottom!==n.bottom){const s=r()(this.element,{from:t,to:n},o?.());l=Gt(this.element,s,void 0,1,()=>{l?.abort(),l=void 0})}},fix(){if(!i.getAnimations().length){var{position:s,width:u,height:f}=getComputedStyle(i);if(s!=="absolute"&&s!=="fixed"){var y=i.style;a={position:y.position,width:y.width,height:y.height,transform:y.transform},y.position="absolute",y.width=u,y.height=f;var v=i.getBoundingClientRect();if(t.left!==v.left||t.top!==v.top){var h=`translate(${t.left-v.left}px, ${t.top-v.top}px)`;y.transform=y.transform?`${y.transform} ${h}`:h}}}},unfix(){if(a){var s=i.style;s.position=a.position,s.width=a.width,s.height=a.height,s.transform=a.transform}}},e.a.element=i}function kt(i,r,o,e){var t=(i&zr)!==0,n=(i&$r)!==0,l=t&&n,a=(i&xr)!==0,s=l?"both":t?"in":"out",u,f=r.inert,y=r.style.overflow,v,h;function S(){return cr(()=>u??=o()(r,e?.()??{},{direction:s}))}var m={is_global:a,in(){if(r.inert=f,!t){h?.abort(),h?.reset?.();return}n||v?.abort(),Kt(r,"introstart"),v=Gt(r,S(),h,1,()=>{Kt(r,"introend"),v?.abort(),v=u=void 0,r.style.overflow=y})},out(C){if(!n){C?.(),u=void 0;return}r.inert=!0,Kt(r,"outrostart"),h=Gt(r,S(),v,0,()=>{Kt(r,"outroend"),C?.()})},stop:()=>{v?.abort(),h?.abort()}},P=Lr;if((P.transitions??=[]).push(m),t&&kr){var b=a;if(!b){for(var T=P.parent;T&&(T.f&Fr)!==0;)for(;(T=T.parent)&&(T.f&Dr)===0;);b=!T||(T.f&Ur)!==0}b&&qr(()=>{$(()=>m.in())})}}function Gt(i,r,o,e,t){var n=e===1;if(jr(r)){var l,a=!1;return Vr(()=>{if(!a){var P=r({direction:n?"in":"out"});l=Gt(i,P,o,e,t)}}),{abort:()=>{a=!0,l?.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(o?.deactivate(),!r?.duration)return t(),{abort:Lt,deactivate:Lt,reset:Lt,t:()=>e};const{delay:s=0,css:u,tick:f,easing:y=hn}=r;var v=[];if(n&&o===void 0&&(f&&f(0,1),u)){var h=Pe(u(0,1));v.push(h,h)}var S=()=>1-e,m=i.animate(v,{duration:s,fill:"forwards"});return m.onfinish=()=>{m.cancel();var P=o?.t()??1-e;o?.abort();var b=e-P,T=r.duration*Math.abs(b),C=[];if(T>0){var R=!1;if(u)for(var D=Math.ceil(T/16.666666666666668),_=0;_<=D;_+=1){var g=P+b*y(_/D),p=Pe(u(g,1-g));C.push(p),R||=p.overflow==="hidden"}R&&(i.style.overflow="hidden"),S=()=>{var d=m.currentTime;return P+b*y(d/T)},f&&Xr(()=>{if(m.playState!=="running")return!1;var d=S();return f(d,1-d),!0})}m=i.animate(C,{duration:T,fill:"forwards"}),m.onfinish=()=>{S=()=>e,f?.(e,1-e),t()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=Lt)},deactivate:()=>{t=Lt},reset:()=>{e===0&&f?.(1,0)},t:()=>S()}}function pn(i,r,o){var e=Or(i,r);e&&e.set&&(i[r]=o,Kr(()=>{i[r]=null}))}function mn(i,r){var o=i.$$events?.[r.type],e=Hr(o)?o.slice():o==null?[]:[o];for(var t of e)t.call(this,r)}function Ne(i){return i*i*i}function Se(i){const r=i-1;return r*r*r+1}const wn=()=>{const i=fn;return{page:{subscribe:i.page.subscribe},navigating:{subscribe:i.navigating.subscribe},updated:i.updated}},yn={subscribe(i){return wn().page.subscribe(i)}};function bn(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var It={},ee,Le;function Cn(){return Le||(Le=1,ee=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),ee}var re={},_t={},ke;function Bt(){if(ke)return _t;ke=1;let i;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return _t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},_t.getSymbolTotalCodewords=function(e){return r[e]},_t.getBCHDigit=function(o){let e=0;for(;o!==0;)e++,o>>>=1;return e},_t.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');i=e},_t.isKanjiModeEnabled=function(){return typeof i<"u"},_t.toSJIS=function(e){return i(e)},_t}var ne={},Fe;function Be(){return Fe||(Fe=1,function(i){i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2};function r(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+o)}}i.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},i.from=function(e,t){if(i.isValid(e))return e;try{return r(e)}catch{return t}}}(ne)),ne}var ie,De;function _n(){if(De)return ie;De=1;function i(){this.buffer=[],this.length=0}return i.prototype={get:function(r){const o=Math.floor(r/8);return(this.buffer[o]>>>7-r%8&1)===1},put:function(r,o){for(let e=0;e<o;e++)this.putBit((r>>>o-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),r&&(this.buffer[o]|=128>>>this.length%8),this.length++}},ie=i,ie}var oe,Ue;function En(){if(Ue)return oe;Ue=1;function i(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}return i.prototype.set=function(r,o,e,t){const n=r*this.size+o;this.data[n]=e,t&&(this.reservedBit[n]=!0)},i.prototype.get=function(r,o){return this.data[r*this.size+o]},i.prototype.xor=function(r,o,e){this.data[r*this.size+o]^=e},i.prototype.isReserved=function(r,o){return this.reservedBit[r*this.size+o]},oe=i,oe}var ae={},qe;function Tn(){return qe||(qe=1,function(i){const r=Bt().getSymbolSize;i.getRowColCoords=function(e){if(e===1)return[];const t=Math.floor(e/7)+2,n=r(e),l=n===145?26:Math.ceil((n-13)/(2*t-2))*2,a=[n-7];for(let s=1;s<t-1;s++)a[s]=a[s-1]-l;return a.push(6),a.reverse()},i.getPositions=function(e){const t=[],n=i.getRowColCoords(e),l=n.length;for(let a=0;a<l;a++)for(let s=0;s<l;s++)a===0&&s===0||a===0&&s===l-1||a===l-1&&s===0||t.push([n[a],n[s]]);return t}}(ae)),ae}var se={},xe;function Sn(){if(xe)return se;xe=1;const i=Bt().getSymbolSize,r=7;return se.getPositions=function(e){const t=i(e);return[[0,0],[t-r,0],[0,t-r]]},se}var le={},ze;function Bn(){return ze||(ze=1,function(i){i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const r={N1:3,N2:3,N3:40,N4:10};i.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7},i.from=function(t){return i.isValid(t)?parseInt(t,10):void 0},i.getPenaltyN1=function(t){const n=t.size;let l=0,a=0,s=0,u=null,f=null;for(let y=0;y<n;y++){a=s=0,u=f=null;for(let v=0;v<n;v++){let h=t.get(y,v);h===u?a++:(a>=5&&(l+=r.N1+(a-5)),u=h,a=1),h=t.get(v,y),h===f?s++:(s>=5&&(l+=r.N1+(s-5)),f=h,s=1)}a>=5&&(l+=r.N1+(a-5)),s>=5&&(l+=r.N1+(s-5))}return l},i.getPenaltyN2=function(t){const n=t.size;let l=0;for(let a=0;a<n-1;a++)for(let s=0;s<n-1;s++){const u=t.get(a,s)+t.get(a,s+1)+t.get(a+1,s)+t.get(a+1,s+1);(u===4||u===0)&&l++}return l*r.N2},i.getPenaltyN3=function(t){const n=t.size;let l=0,a=0,s=0;for(let u=0;u<n;u++){a=s=0;for(let f=0;f<n;f++)a=a<<1&2047|t.get(u,f),f>=10&&(a===1488||a===93)&&l++,s=s<<1&2047|t.get(f,u),f>=10&&(s===1488||s===93)&&l++}return l*r.N3},i.getPenaltyN4=function(t){let n=0;const l=t.data.length;for(let s=0;s<l;s++)n+=t.data[s];return Math.abs(Math.ceil(n*100/l/5)-10)*r.N4};function o(e,t,n){switch(e){case i.Patterns.PATTERN000:return(t+n)%2===0;case i.Patterns.PATTERN001:return t%2===0;case i.Patterns.PATTERN010:return n%3===0;case i.Patterns.PATTERN011:return(t+n)%3===0;case i.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2===0;case i.Patterns.PATTERN101:return t*n%2+t*n%3===0;case i.Patterns.PATTERN110:return(t*n%2+t*n%3)%2===0;case i.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}i.applyMask=function(t,n){const l=n.size;for(let a=0;a<l;a++)for(let s=0;s<l;s++)n.isReserved(s,a)||n.xor(s,a,o(t,s,a))},i.getBestMask=function(t,n){const l=Object.keys(i.Patterns).length;let a=0,s=1/0;for(let u=0;u<l;u++){n(u),i.applyMask(u,t);const f=i.getPenaltyN1(t)+i.getPenaltyN2(t)+i.getPenaltyN3(t)+i.getPenaltyN4(t);i.applyMask(u,t),f<s&&(s=f,a=u)}return a}}(le)),le}var Ht={},$e;function hr(){if($e)return Ht;$e=1;const i=Be(),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Ht.getBlocksCount=function(t,n){switch(n){case i.L:return r[(t-1)*4+0];case i.M:return r[(t-1)*4+1];case i.Q:return r[(t-1)*4+2];case i.H:return r[(t-1)*4+3];default:return}},Ht.getTotalCodewordsCount=function(t,n){switch(n){case i.L:return o[(t-1)*4+0];case i.M:return o[(t-1)*4+1];case i.Q:return o[(t-1)*4+2];case i.H:return o[(t-1)*4+3];default:return}},Ht}var ce={},Ft={},je;function Rn(){if(je)return Ft;je=1;const i=new Uint8Array(512),r=new Uint8Array(256);return function(){let e=1;for(let t=0;t<255;t++)i[t]=e,r[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)i[t]=i[t-255]}(),Ft.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},Ft.exp=function(e){return i[e]},Ft.mul=function(e,t){return e===0||t===0?0:i[r[e]+r[t]]},Ft}var Ve;function Mn(){return Ve||(Ve=1,function(i){const r=Rn();i.mul=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let l=0;l<e.length;l++)for(let a=0;a<t.length;a++)n[l+a]^=r.mul(e[l],t[a]);return n},i.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const l=n[0];for(let s=0;s<t.length;s++)n[s]^=r.mul(t[s],l);let a=0;for(;a<n.length&&n[a]===0;)a++;n=n.slice(a)}return n},i.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=i.mul(t,new Uint8Array([1,r.exp(n)]));return t}}(ce)),ce}var ue,Oe;function In(){if(Oe)return ue;Oe=1;const i=Mn();function r(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}return r.prototype.initialize=function(e){this.degree=e,this.genPoly=i.generateECPolynomial(this.degree)},r.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=i.mod(t,this.genPoly),l=this.degree-n.length;if(l>0){const a=new Uint8Array(this.degree);return a.set(n,l),a}return n},ue=r,ue}var de={},fe={},ge={},Ke;function vr(){return Ke||(Ke=1,ge.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}),ge}var pt={},He;function pr(){if(He)return pt;He=1;const i="[0-9]+",r="[A-Z $%*+\\-./:]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+`)(?:.|[\r
]))+`;pt.KANJI=new RegExp(o,"g"),pt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),pt.BYTE=new RegExp(e,"g"),pt.NUMERIC=new RegExp(i,"g"),pt.ALPHANUMERIC=new RegExp(r,"g");const t=new RegExp("^"+o+"$"),n=new RegExp("^"+i+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return pt.testKanji=function(s){return t.test(s)},pt.testNumeric=function(s){return n.test(s)},pt.testAlphanumeric=function(s){return l.test(s)},pt}var Ye;function Rt(){return Ye||(Ye=1,function(i){const r=vr(),o=pr();i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(n,l){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!r.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?n.ccBits[0]:l<27?n.ccBits[1]:n.ccBits[2]},i.getBestModeForData=function(n){return o.testNumeric(n)?i.NUMERIC:o.testAlphanumeric(n)?i.ALPHANUMERIC:o.testKanji(n)?i.KANJI:i.BYTE},i.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},i.isValid=function(n){return n&&n.bit&&n.ccBits};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+t)}}i.from=function(n,l){if(i.isValid(n))return n;try{return e(n)}catch{return l}}}(fe)),fe}var Ge;function An(){return Ge||(Ge=1,function(i){const r=Bt(),o=hr(),e=Be(),t=Rt(),n=vr(),l=7973,a=r.getBCHDigit(l);function s(v,h,S){for(let m=1;m<=40;m++)if(h<=i.getCapacity(m,S,v))return m}function u(v,h){return t.getCharCountIndicator(v,h)+4}function f(v,h){let S=0;return v.forEach(function(m){const P=u(m.mode,h);S+=P+m.getBitsLength()}),S}function y(v,h){for(let S=1;S<=40;S++)if(f(v,S)<=i.getCapacity(S,h,t.MIXED))return S}i.from=function(h,S){return n.isValid(h)?parseInt(h,10):S},i.getCapacity=function(h,S,m){if(!n.isValid(h))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=t.BYTE);const P=r.getSymbolTotalCodewords(h),b=o.getTotalCodewordsCount(h,S),T=(P-b)*8;if(m===t.MIXED)return T;const C=T-u(m,h);switch(m){case t.NUMERIC:return Math.floor(C/10*3);case t.ALPHANUMERIC:return Math.floor(C/11*2);case t.KANJI:return Math.floor(C/13);case t.BYTE:default:return Math.floor(C/8)}},i.getBestVersionForData=function(h,S){let m;const P=e.from(S,e.M);if(Array.isArray(h)){if(h.length>1)return y(h,P);if(h.length===0)return 1;m=h[0]}else m=h;return s(m.mode,m.getLength(),P)},i.getEncodedBits=function(h){if(!n.isValid(h)||h<7)throw new Error("Invalid QR Code version");let S=h<<12;for(;r.getBCHDigit(S)-a>=0;)S^=l<<r.getBCHDigit(S)-a;return h<<12|S}}(de)),de}var he={},Je;function Pn(){if(Je)return he;Je=1;const i=Bt(),r=1335,o=21522,e=i.getBCHDigit(r);return he.getEncodedBits=function(n,l){const a=n.bit<<3|l;let s=a<<10;for(;i.getBCHDigit(s)-e>=0;)s^=r<<i.getBCHDigit(s)-e;return(a<<10|s)^o},he}var ve={},pe,Qe;function Nn(){if(Qe)return pe;Qe=1;const i=Rt();function r(o){this.mode=i.NUMERIC,this.data=o.toString()}return r.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){let t,n,l;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),l=parseInt(n,10),e.put(l,10);const a=this.data.length-t;a>0&&(n=this.data.substr(t),l=parseInt(n,10),e.put(l,a*3+1))},pe=r,pe}var me,We;function Ln(){if(We)return me;We=1;const i=Rt(),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=i.ALPHANUMERIC,this.data=e}return o.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let l=r.indexOf(this.data[n])*45;l+=r.indexOf(this.data[n+1]),t.put(l,11)}this.data.length%2&&t.put(r.indexOf(this.data[n]),6)},me=o,me}var we,Ze;function kn(){if(Ze)return we;Ze=1;const i=Rt();function r(o){this.mode=i.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}return r.getBitsLength=function(e){return e*8},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(o){for(let e=0,t=this.data.length;e<t;e++)o.put(this.data[e],8)},we=r,we}var ye,Xe;function Fn(){if(Xe)return ye;Xe=1;const i=Rt(),r=Bt();function o(e){this.mode=i.KANJI,this.data=e}return o.getBitsLength=function(t){return t*13},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=r.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}},ye=o,ye}var be={exports:{}},tr;function Dn(){return tr||(tr=1,function(i){var r={single_source_shortest_paths:function(o,e,t){var n={},l={};l[e]=0;var a=r.PriorityQueue.make();a.push(e,0);for(var s,u,f,y,v,h,S,m,P;!a.empty();){s=a.pop(),u=s.value,y=s.cost,v=o[u]||{};for(f in v)v.hasOwnProperty(f)&&(h=v[f],S=y+h,m=l[f],P=typeof l[f]>"u",(P||m>S)&&(l[f]=S,a.push(f,S),n[f]=u))}if(typeof t<"u"&&typeof l[t]>"u"){var b=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(b)}return n},extract_shortest_path_from_predecessor_list:function(o,e){for(var t=[],n=e;n;)t.push(n),o[n],n=o[n];return t.reverse(),t},find_path:function(o,e,t){var n=r.single_source_shortest_paths(o,e,t);return r.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(o){var e=r.PriorityQueue,t={},n;o=o||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=o.sorter||e.default_sorter,t},default_sorter:function(o,e){return o.cost-e.cost},push:function(o,e){var t={value:o,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};i.exports=r}(be)),be.exports}var er;function Un(){return er||(er=1,function(i){const r=Rt(),o=Nn(),e=Ln(),t=kn(),n=Fn(),l=pr(),a=Bt(),s=Dn();function u(b){return unescape(encodeURIComponent(b)).length}function f(b,T,C){const R=[];let D;for(;(D=b.exec(C))!==null;)R.push({data:D[0],index:D.index,mode:T,length:D[0].length});return R}function y(b){const T=f(l.NUMERIC,r.NUMERIC,b),C=f(l.ALPHANUMERIC,r.ALPHANUMERIC,b);let R,D;return a.isKanjiModeEnabled()?(R=f(l.BYTE,r.BYTE,b),D=f(l.KANJI,r.KANJI,b)):(R=f(l.BYTE_KANJI,r.BYTE,b),D=[]),T.concat(C,R,D).sort(function(g,p){return g.index-p.index}).map(function(g){return{data:g.data,mode:g.mode,length:g.length}})}function v(b,T){switch(T){case r.NUMERIC:return o.getBitsLength(b);case r.ALPHANUMERIC:return e.getBitsLength(b);case r.KANJI:return n.getBitsLength(b);case r.BYTE:return t.getBitsLength(b)}}function h(b){return b.reduce(function(T,C){const R=T.length-1>=0?T[T.length-1]:null;return R&&R.mode===C.mode?(T[T.length-1].data+=C.data,T):(T.push(C),T)},[])}function S(b){const T=[];for(let C=0;C<b.length;C++){const R=b[C];switch(R.mode){case r.NUMERIC:T.push([R,{data:R.data,mode:r.ALPHANUMERIC,length:R.length},{data:R.data,mode:r.BYTE,length:R.length}]);break;case r.ALPHANUMERIC:T.push([R,{data:R.data,mode:r.BYTE,length:R.length}]);break;case r.KANJI:T.push([R,{data:R.data,mode:r.BYTE,length:u(R.data)}]);break;case r.BYTE:T.push([{data:R.data,mode:r.BYTE,length:u(R.data)}])}}return T}function m(b,T){const C={},R={start:{}};let D=["start"];for(let _=0;_<b.length;_++){const g=b[_],p=[];for(let d=0;d<g.length;d++){const w=g[d],E=""+_+d;p.push(E),C[E]={node:w,lastCount:0},R[E]={};for(let B=0;B<D.length;B++){const M=D[B];C[M]&&C[M].node.mode===w.mode?(R[M][E]=v(C[M].lastCount+w.length,w.mode)-v(C[M].lastCount,w.mode),C[M].lastCount+=w.length):(C[M]&&(C[M].lastCount=w.length),R[M][E]=v(w.length,w.mode)+4+r.getCharCountIndicator(w.mode,T))}}D=p}for(let _=0;_<D.length;_++)R[D[_]].end=0;return{map:R,table:C}}function P(b,T){let C;const R=r.getBestModeForData(b);if(C=r.from(T,R),C!==r.BYTE&&C.bit<R.bit)throw new Error('"'+b+'" cannot be encoded with mode '+r.toString(C)+`.
 Suggested mode is: `+r.toString(R));switch(C===r.KANJI&&!a.isKanjiModeEnabled()&&(C=r.BYTE),C){case r.NUMERIC:return new o(b);case r.ALPHANUMERIC:return new e(b);case r.KANJI:return new n(b);case r.BYTE:return new t(b)}}i.fromArray=function(T){return T.reduce(function(C,R){return typeof R=="string"?C.push(P(R,null)):R.data&&C.push(P(R.data,R.mode)),C},[])},i.fromString=function(T,C){const R=y(T,a.isKanjiModeEnabled()),D=S(R),_=m(D,C),g=s.find_path(_.map,"start","end"),p=[];for(let d=1;d<g.length-1;d++)p.push(_.table[g[d]].node);return i.fromArray(h(p))},i.rawSplit=function(T){return i.fromArray(y(T,a.isKanjiModeEnabled()))}}(ve)),ve}var rr;function qn(){if(rr)return re;rr=1;const i=Bt(),r=Be(),o=_n(),e=En(),t=Tn(),n=Sn(),l=Bn(),a=hr(),s=In(),u=An(),f=Pn(),y=Rt(),v=Un();function h(_,g){const p=_.size,d=n.getPositions(g);for(let w=0;w<d.length;w++){const E=d[w][0],B=d[w][1];for(let M=-1;M<=7;M++)if(!(E+M<=-1||p<=E+M))for(let N=-1;N<=7;N++)B+N<=-1||p<=B+N||(M>=0&&M<=6&&(N===0||N===6)||N>=0&&N<=6&&(M===0||M===6)||M>=2&&M<=4&&N>=2&&N<=4?_.set(E+M,B+N,!0,!0):_.set(E+M,B+N,!1,!0))}}function S(_){const g=_.size;for(let p=8;p<g-8;p++){const d=p%2===0;_.set(p,6,d,!0),_.set(6,p,d,!0)}}function m(_,g){const p=t.getPositions(g);for(let d=0;d<p.length;d++){const w=p[d][0],E=p[d][1];for(let B=-2;B<=2;B++)for(let M=-2;M<=2;M++)B===-2||B===2||M===-2||M===2||B===0&&M===0?_.set(w+B,E+M,!0,!0):_.set(w+B,E+M,!1,!0)}}function P(_,g){const p=_.size,d=u.getEncodedBits(g);let w,E,B;for(let M=0;M<18;M++)w=Math.floor(M/3),E=M%3+p-8-3,B=(d>>M&1)===1,_.set(w,E,B,!0),_.set(E,w,B,!0)}function b(_,g,p){const d=_.size,w=f.getEncodedBits(g,p);let E,B;for(E=0;E<15;E++)B=(w>>E&1)===1,E<6?_.set(E,8,B,!0):E<8?_.set(E+1,8,B,!0):_.set(d-15+E,8,B,!0),E<8?_.set(8,d-E-1,B,!0):E<9?_.set(8,15-E-1+1,B,!0):_.set(8,15-E-1,B,!0);_.set(d-8,8,1,!0)}function T(_,g){const p=_.size;let d=-1,w=p-1,E=7,B=0;for(let M=p-1;M>0;M-=2)for(M===6&&M--;;){for(let N=0;N<2;N++)if(!_.isReserved(w,M-N)){let K=!1;B<g.length&&(K=(g[B]>>>E&1)===1),_.set(w,M-N,K),E--,E===-1&&(B++,E=7)}if(w+=d,w<0||p<=w){w-=d,d=-d;break}}}function C(_,g,p){const d=new o;p.forEach(function(N){d.put(N.mode.bit,4),d.put(N.getLength(),y.getCharCountIndicator(N.mode,_)),N.write(d)});const w=i.getSymbolTotalCodewords(_),E=a.getTotalCodewordsCount(_,g),B=(w-E)*8;for(d.getLengthInBits()+4<=B&&d.put(0,4);d.getLengthInBits()%8!==0;)d.putBit(0);const M=(B-d.getLengthInBits())/8;for(let N=0;N<M;N++)d.put(N%2?17:236,8);return R(d,_,g)}function R(_,g,p){const d=i.getSymbolTotalCodewords(g),w=a.getTotalCodewordsCount(g,p),E=d-w,B=a.getBlocksCount(g,p),M=d%B,N=B-M,K=Math.floor(d/B),k=Math.floor(E/B),W=k+1,X=K-k,vt=new s(X);let rt=0;const at=new Array(B),dt=new Array(B);let I=0;const U=new Uint8Array(_.buffer);for(let tt=0;tt<B;tt++){const mt=tt<N?k:W;at[tt]=U.slice(rt,rt+mt),dt[tt]=vt.encode(at[tt]),rt+=mt,I=Math.max(I,mt)}const O=new Uint8Array(d);let ft=0,J,H;for(J=0;J<I;J++)for(H=0;H<B;H++)J<at[H].length&&(O[ft++]=at[H][J]);for(J=0;J<X;J++)for(H=0;H<B;H++)O[ft++]=dt[H][J];return O}function D(_,g,p,d){let w;if(Array.isArray(_))w=v.fromArray(_);else if(typeof _=="string"){let K=g;if(!K){const k=v.rawSplit(_);K=u.getBestVersionForData(k,p)}w=v.fromString(_,K||40)}else throw new Error("Invalid data");const E=u.getBestVersionForData(w,p);if(!E)throw new Error("The amount of data is too big to be stored in a QR Code");if(!g)g=E;else if(g<E)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+E+`.
`);const B=C(g,p,w),M=i.getSymbolSize(g),N=new e(M);return h(N,g),S(N),m(N,g),b(N,p,0),g>=7&&P(N,g),T(N,B),isNaN(d)&&(d=l.getBestMask(N,b.bind(null,N,p))),l.applyMask(d,N),b(N,p,d),{modules:N,version:g,errorCorrectionLevel:p,maskPattern:d,segments:w}}return re.create=function(g,p){if(typeof g>"u"||g==="")throw new Error("No input text");let d=r.M,w,E;return typeof p<"u"&&(d=r.from(p.errorCorrectionLevel,r.M),w=u.from(p.version),E=l.from(p.maskPattern),p.toSJISFunc&&i.setToSJISFunction(p.toSJISFunc)),D(g,w,d,E)},re}var Ce={},_e={},nr;function mr(){return nr||(nr=1,function(i){function r(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let e=o.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+o);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");const t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}i.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,l=e.scale||4;return{width:n,scale:n?4:l,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},i.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale},i.getImageWidth=function(e,t){const n=i.getScale(e,t);return Math.floor((e+t.margin*2)*n)},i.qrToImageData=function(e,t,n){const l=t.modules.size,a=t.modules.data,s=i.getScale(l,n),u=Math.floor((l+n.margin*2)*s),f=n.margin*s,y=[n.color.light,n.color.dark];for(let v=0;v<u;v++)for(let h=0;h<u;h++){let S=(v*u+h)*4,m=n.color.light;if(v>=f&&h>=f&&v<u-f&&h<u-f){const P=Math.floor((v-f)/s),b=Math.floor((h-f)/s);m=y[a[P*l+b]?1:0]}e[S++]=m.r,e[S++]=m.g,e[S++]=m.b,e[S]=m.a}}}(_e)),_e}var ir;function xn(){return ir||(ir=1,function(i){const r=mr();function o(t,n,l){t.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=l,n.width=l,n.style.height=l+"px",n.style.width=l+"px"}function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}i.render=function(n,l,a){let s=a,u=l;typeof s>"u"&&(!l||!l.getContext)&&(s=l,l=void 0),l||(u=e()),s=r.getOptions(s);const f=r.getImageWidth(n.modules.size,s),y=u.getContext("2d"),v=y.createImageData(f,f);return r.qrToImageData(v.data,n,s),o(y,u,f),y.putImageData(v,0,0),u},i.renderToDataURL=function(n,l,a){let s=a;typeof s>"u"&&(!l||!l.getContext)&&(s=l,l=void 0),s||(s={});const u=i.render(n,l,s),f=s.type||"image/png",y=s.rendererOpts||{};return u.toDataURL(f,y.quality)}}(Ce)),Ce}var Ee={},or;function zn(){if(or)return Ee;or=1;const i=mr();function r(t,n){const l=t.a/255,a=n+'="'+t.hex+'"';return l<1?a+" "+n+'-opacity="'+l.toFixed(2).slice(1)+'"':a}function o(t,n,l){let a=t+n;return typeof l<"u"&&(a+=" "+l),a}function e(t,n,l){let a="",s=0,u=!1,f=0;for(let y=0;y<t.length;y++){const v=Math.floor(y%n),h=Math.floor(y/n);!v&&!u&&(u=!0),t[y]?(f++,y>0&&v>0&&t[y-1]||(a+=u?o("M",v+l,.5+h+l):o("m",s,0),s=0,u=!1),v+1<n&&t[y+1]||(a+=o("h",f),f=0)):s++}return a}return Ee.render=function(n,l,a){const s=i.getOptions(l),u=n.modules.size,f=n.modules.data,y=u+s.margin*2,v=s.color.light.a?"<path "+r(s.color.light,"fill")+' d="M0 0h'+y+"v"+y+'H0z"/>':"",h="<path "+r(s.color.dark,"stroke")+' d="'+e(f,u,s.margin)+'"/>',S='viewBox="0 0 '+y+" "+y+'"',P='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+S+' shape-rendering="crispEdges">'+v+h+`</svg>
`;return typeof a=="function"&&a(null,P),P},Ee}var ar;function $n(){if(ar)return It;ar=1;const i=Cn(),r=qn(),o=xn(),e=zn();function t(n,l,a,s,u){const f=[].slice.call(arguments,1),y=f.length,v=typeof f[y-1]=="function";if(!v&&!i())throw new Error("Callback required as last argument");if(v){if(y<2)throw new Error("Too few arguments provided");y===2?(u=a,a=l,l=s=void 0):y===3&&(l.getContext&&typeof u>"u"?(u=s,s=void 0):(u=s,s=a,a=l,l=void 0))}else{if(y<1)throw new Error("Too few arguments provided");return y===1?(a=l,l=s=void 0):y===2&&!l.getContext&&(s=a,a=l,l=void 0),new Promise(function(h,S){try{const m=r.create(a,s);h(n(m,l,s))}catch(m){S(m)}})}try{const h=r.create(a,s);u(null,n(h,l,s))}catch(h){u(h)}}return It.create=r.create,It.toCanvas=t.bind(null,o.render),It.toDataURL=t.bind(null,o.renderToDataURL),It.toString=t.bind(null,function(n,l,a){return e.render(n,a)}),It}var jn=$n();const Vn=bn(jn);function sr(i){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(i)}function On(i,{from:r,to:o},e={}){var{delay:t=0,duration:n=_=>Math.sqrt(_)*120,easing:l=Se}=e,a=getComputedStyle(i),s=a.transform==="none"?"":a.transform,[u,f]=a.transformOrigin.split(" ").map(parseFloat);u/=i.clientWidth,f/=i.clientHeight;var y=Kn(i),v=i.clientWidth/o.width/y,h=i.clientHeight/o.height/y,S=r.left+r.width*u,m=r.top+r.height*f,P=o.left+o.width*u,b=o.top+o.height*f,T=(S-P)*v,C=(m-b)*h,R=r.width/o.width,D=r.height/o.height;return{delay:t,duration:typeof n=="function"?n(Math.sqrt(T*T+C*C)):n,easing:l,css:(_,g)=>{var p=g*T,d=g*C,w=_+g*R,E=_+g*D;return`transform: ${s} translate(${p}px, ${d}px) scale(${w}, ${E});`}}}function Kn(i){if("currentCSSZoom"in i)return i.currentCSSZoom;for(var r=i,o=1;r!==null;)o*=+getComputedStyle(r).zoom,r=r.parentElement;return o}var Hn=z('<div class="particle-container svelte-smrzvy"></div>');function wr(i,r){zt(r,!1);let o=V(r,"particleFPS",8,45),e=V(r,"particleCount",8,8),t=V(r,"gravity",8,300),n=V(r,"horizontalSpread",8,120),l=V(r,"upwardVelocityMin",8,120),a=V(r,"upwardVelocityMax",8,100),s=V(r,"particleLifetime",8,1500),u=V(r,"particleSizeMin",8,.75),f=V(r,"particleSizeMax",8,1),y=V(r,"particleCharacter",8,"✨"),v=V(r,"enableTint",8,!1),h=V(r,"enableRotation",8,!1),S=j(),m=new Set;function P(T){if(!c(S))return;const C=[];for(let d=0;d<e();d++){const w=document.createElement("div");w.className="particle-effect-point";const E=(Math.random()-.5)*n(),B=-l()-Math.random()*a();if(w.textContent=y(),v()){const at=Math.random()*360,dt=80+Math.random()*40,I=90+Math.random()*20;w.style.filter=`hue-rotate(${at}deg) saturate(${dt}%) brightness(${I}%)`}const M=u()+Math.random()*(f()-u());w.style.fontSize=M+"em";const N=T.getBoundingClientRect().width*1,K=d/(e()-1)*N-N/2;let k=0,W=0;h()&&(k=(Math.random()-.5)*360,W=Math.random()*360),w.style.transform=`rotate(${W}deg)`,C.push({element:w,x:K,y:0,vx:E,vy:B,life:0,maxLife:s(),size:M,rotation:W,rotationSpeed:k}),c(S).appendChild(w);const X=T.getBoundingClientRect(),vt=X.left+X.width/2,rt=X.top+X.height/2;w.style.left=vt+K+"px",w.style.top=rt+"px"}const R=1e3/o();let D=performance.now(),_;function g(){const d=performance.now(),w=d-D;D=d;const E=w/1e3,B=T.getBoundingClientRect(),M=B.left+B.width/2,N=B.top+B.height/2;let K=0;if(C.forEach(k=>{if(k.life+=w,k.life>=k.maxLife)return;K++,k.vy+=t()*E,k.x+=k.vx*E,k.y+=k.vy*E;const W=k.life/k.maxLife,X=Math.max(0,Math.cos(W*Math.PI/2)),vt=Math.max(.2,1-k.life/k.maxLife*.7);h()?(k.rotation+=k.rotationSpeed*E,k.element.style.transform=`scale(${vt}) rotate(${k.rotation}deg)`):k.element.style.transform=`scale(${vt})`,k.element.style.left=M+k.x+"px",k.element.style.top=N+k.y+"px",k.element.style.opacity=X.toString()}),!T.isConnected){p();return}K>0?(_=setTimeout(g,R),m.add(_)):p()}function p(){C.forEach(d=>{d.element.parentNode&&d.element.parentNode.removeChild(d.element)}),m.delete(_)}_=setTimeout(g,R),m.add(_)}ur(()=>{m.forEach(T=>{clearTimeout(T)}),m.clear()}),xt();var b=Hn();return qt(b,T=>F(S,T),()=>c(S)),x(i,b),pn(r,"createParticleEffect",P),$t({createParticleEffect:P})}var Yn=z('<div class="topic-stat svelte-1gj20vt"><span class="topic-name svelte-1gj20vt"> </span> <div class="topic-bar svelte-1gj20vt"><div class="topic-bar-fill svelte-1gj20vt"></div> <span class="topic-count svelte-1gj20vt"> </span></div></div>'),Gn=z('<div class="topic-list svelte-1gj20vt"><div style="position: absolute; top: 0.5rem; left: 0; width: 100%; height: 1px; z-index: -1;"></div> <!></div>'),Jn=z('<div class="topic-stats svelte-1gj20vt"><h4 class="topic-header svelte-1gj20vt">Topic Interest <button class="toggle-button svelte-1gj20vt" aria-label="Toggle Topic Interest"><svg class="toggle-icon svelte-1gj20vt" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round"></path></svg></button></h4> <div class="topic-list-wrapper svelte-1gj20vt"><!></div></div>'),Qn=z('<div class="particle-effect-container svelte-1gj20vt"><!></div> <div class="stats-panel svelte-1gj20vt"><div class="summary svelte-1gj20vt"><div class="stat svelte-1gj20vt"><span class="stat-number svelte-1gj20vt"> </span> <span class="stat-label svelte-1gj20vt">Participants</span></div></div> <!></div>',1);function lr(i,r){zt(r,!1);const o=j(),e=j();let t=V(r,"userSelections",8),n=V(r,"topics",8),l=j(!0),a=j(),s=j(),u=j(0),f=j(void 0);function y(){F(l,!c(l))}function v(g,p){const d=new Map;return p.forEach(w=>{d.set(w.id,{topic:w,count:0})}),g.forEach(w=>{w.selectedTopics.forEach(E=>{const B=d.get(E);B&&B.count++})}),Array.from(d.values()).sort((w,E)=>E.count-w.count)}Pt(()=>(ht(t()),ht(n())),()=>{F(o,v(t(),n()))}),Pt(()=>ht(t()),()=>{F(e,t().length)}),Pt(()=>(c(o),c(u),c(e),c(f),c(a),c(s)),()=>{const p=c(o)[0]?.topic.id;let d=!1;c(u)===0&&c(e)>0&&(d=!0),c(u)>0&&c(f)&&p&&p!==c(f)&&c(e)>0&&(d=!0),d&&c(a)&&c(s)&&setTimeout(()=>{c(a).createParticleEffect(c(s))},300),F(u,c(e)),F(f,p)}),dr(),xt();var h=Qn(),S=At(h),m=L(S);qt(wr(m,{particleCharacter:"🏆",particleCount:24,enableRotation:!0,upwardVelocityMin:100,particleLifetime:2e3,horizontalSpread:200,$$legacy:!0}),g=>F(a,g),()=>c(a)),A(S);var P=q(S,2),b=L(P),T=L(b),C=L(T),R=L(C,!0);A(C),Yr(2),A(T),A(b);var D=q(b,2);{var _=g=>{var p=Jn(),d=L(p),w=q(L(d)),E=L(w),B=L(E);A(E),A(w),A(d);var M=q(d,2),N=L(M);{var K=k=>{var W=Gn(),X=L(W);qt(X,rt=>F(s,rt),()=>c(s));var vt=q(X,2);Ut(vt,11,()=>c(o),({topic:rt,count:at})=>rt.id,(rt,at)=>{let dt=()=>c(at).topic,I=()=>c(at).count;var U=Yn(),O=L(U),ft=L(O,!0);A(O);var J=q(O,2),H=L(J),tt=q(H,2),mt=L(tt,!0);A(tt),A(J),A(U),Q(()=>{Et(U,"data-topic-id",(dt(),$(()=>dt().id))),ot(ft,(dt(),$(()=>dt().name))),Dt(H,`width: ${c(e)>0?I()/c(e)*100:0}%`),ot(mt,I())}),vn(U,()=>On,()=>({duration:300})),x(rt,U)}),A(W),x(k,W)};G(N,k=>{c(l)&&k(K)})}A(M),A(p),Q(()=>{Et(B,"d",c(l)?"M6 15l6-6 6 6":"M6 9l6 6 6-6"),Dt(M,`height: ${c(l)?"auto":"0"}; overflow: hidden; transition: height 0.3s ease;`)}),ut("click",w,y),x(g,p)};G(D,g=>{c(o),$(()=>c(o).length>0)&&g(_)})}A(P),Q(()=>ot(R,c(e))),x(i,h),$t()}function yr(i){const r=i-1;return r*r*r+1}function Wn(i,{delay:r=0,duration:o=400,easing:e=yr,axis:t="y"}={}){const n=getComputedStyle(i),l=+n.opacity,a=t==="y"?"height":"width",s=parseFloat(n[a]),u=t==="y"?["top","bottom"]:["left","right"],f=u.map(b=>`${b[0].toUpperCase()}${b.slice(1)}`),y=parseFloat(n[`padding${f[0]}`]),v=parseFloat(n[`padding${f[1]}`]),h=parseFloat(n[`margin${f[0]}`]),S=parseFloat(n[`margin${f[1]}`]),m=parseFloat(n[`border${f[0]}Width`]),P=parseFloat(n[`border${f[1]}Width`]);return{delay:r,duration:o,easing:e,css:b=>`overflow: hidden;opacity: ${Math.min(b*20,1)*l};${a}: ${b*s}px;padding-${u[0]}: ${b*y}px;padding-${u[1]}: ${b*v}px;margin-${u[0]}: ${b*h}px;margin-${u[1]}: ${b*S}px;border-${u[0]}-width: ${b*m}px;border-${u[1]}-width: ${b*P}px;min-${a}: 0`}}function Yt(i,{delay:r=0,duration:o=400,easing:e=yr,start:t=0,opacity:n=0}={}){const l=getComputedStyle(i),a=+l.opacity,s=l.transform==="none"?"":l.transform,u=1-t,f=a*(1-n);return{delay:r,duration:o,easing:e,css:(y,v)=>`
			transform: ${s} scale(${1-u*v});
			opacity: ${a-f*v}
		`}}var Zn=z('<button class="topic-button selected svelte-1dg5t0c"> </button>'),Xn=z('<div class="selected-topics-container svelte-1dg5t0c"></div>'),ti=z('<button class="topic-button svelte-1dg5t0c"> </button>'),ei=z('<div class="auto-save-status svelte-1dg5t0c"><span class="saving spinner svelte-1dg5t0c">↻</span></div>'),ri=z('<audio preload="auto"><source type="audio/mpeg"/> <source type="audio/ogg"/></audio> <div class="component svelte-1dg5t0c"><div class="particle-effect-container svelte-1dg5t0c"><!></div> <!> <div class="topics-cloud svelte-1dg5t0c"></div> <!></div>',1);function ni(i,r){zt(r,!1);let o=V(r,"topics",8),e=V(r,"selectedTopics",12),t=V(r,"maxSelections",8),n=V(r,"isSubmitting",8),l=V(r,"particleFPS",8,45);const a=fr();let s=j(),u=j();function f(g){e().includes(g)?e(e().filter(d=>d!==g)):(e().length>=t()?e([...e().slice(1),g]):e([...e(),g]),c(u)&&(Te(u,c(u).currentTime=0),Te(u,c(u).volume=.66),c(u).play()),setTimeout(()=>{const d=document.querySelector(`[data-topic-id="${g}"].selected`);d&&c(s)&&c(s).createParticleEffect(d)},100)),a("selectionChange",{selectedTopics:e()})}xt();var y=ri(),v=At(y),h=L(v),S=q(h,2);A(v),qt(v,g=>F(u,g),()=>c(u));var m=q(v,2),P=L(m),b=L(P);qt(wr(b,{get particleFPS(){return l()},particleCharacter:"👍",enableTint:!0,$$legacy:!0}),g=>F(s,g),()=>c(s)),A(P);var T=q(P,2);{var C=g=>{var p=Xn();Ut(p,5,()=>(ht(e()),ht(o()),$(()=>e().map(d=>o().find(w=>w.id===d)))),d=>d.id,(d,w)=>{var E=Zn(),B=L(E,!0);A(E),Q(()=>{Et(E,"data-topic-id",(c(w),$(()=>c(w).id))),ot(B,(c(w),$(()=>c(w).name)))}),ut("click",E,()=>f(c(w).id)),kt(1,E,()=>Yt,()=>({duration:300,start:0,easing:Se})),kt(2,E,()=>Yt,()=>({duration:175,start:0,easing:Ne})),x(d,E)}),A(p),kt(3,p,()=>Wn,()=>({duration:300})),x(g,p)};G(T,g=>{ht(e()),$(()=>e().length>0)&&g(C)})}var R=q(T,2);Ut(R,5,()=>(ht(o()),ht(e()),$(()=>o().filter(g=>!e().includes(g.id)).sort((g,p)=>g.name.localeCompare(p.name)))),g=>g.id,(g,p)=>{var d=ti(),w=L(d,!0);A(d),Q(()=>ot(w,(c(p),$(()=>c(p).name)))),ut("click",d,()=>f(c(p).id)),kt(1,d,()=>Yt,()=>({duration:300,start:0,easing:Se})),kt(2,d,()=>Yt,()=>({duration:175,start:0,easing:Ne})),x(g,d)}),A(R);var D=q(R,2);{var _=g=>{var p=ei();x(g,p)};G(D,g=>{n()&&g(_)})}A(m),Q((g,p)=>{Et(h,"src",g),Et(S,"src",p)},[()=>(ht(Ot),$(()=>`${Ot("/")}pop.mp3`)),()=>(ht(Ot),$(()=>`${Ot("/")}pop.ogg`))]),x(i,y),$t()}var ii=z('<div class="qr-code svelte-1xrpiwp"></div>'),oi=z('<div class="cover-screen svelte-1xrpiwp" role="button" tabindex="-1"><div class="content svelte-1xrpiwp" role="document"><button class="close-button svelte-1xrpiwp">&times;</button> <h1 class="svelte-1xrpiwp"> </h1> <!></div></div>');function ai(i,r){zt(r,!1);let o=V(r,"qrCodeDataUrl",8),e=V(r,"title",8,"");const t=fr();function n(){t("close")}function l(m){m.key==="Escape"&&n()}function a(m){(m.key==="Enter"||m.key===" ")&&n()}xt();var s=oi();ut("keydown",Gr,l);var u=L(s),f=L(u),y=q(f,2),v=L(y,!0);A(y);var h=q(y,2);{var S=m=>{var P=ii();Q(()=>{Dt(P,`background-image: url(${o()??""});`),Et(P,"title",`QR Code for ${e()??""}`)}),x(m,P)};G(h,m=>{o()&&m(S)})}A(u),A(s),Q(()=>ot(v,e())),ut("click",f,n),ut("click",u,en(function(m){mn.call(this,r,m)})),ut("click",s,n),ut("keydown",s,a),x(i,s),$t()}var si=z('<div class="svelte-19317os"><svg viewBox="0 0 24 24" style="color: currentColor;" stroke-width="0" fill="currentColor" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M13.5759 17.2714L8.46576 14.484C7.83312 15.112 6.96187 15.5 6 15.5C4.067 15.5 2.5 13.933 2.5 12C2.5 10.067 4.067 8.5 6 8.5C6.96181 8.5 7.83301 8.88796 8.46564 9.51593L13.5759 6.72855C13.5262 6.49354 13.5 6.24983 13.5 6C13.5 4.067 15.067 2.5 17 2.5C18.933 2.5 20.5 4.067 20.5 6C20.5 7.933 18.933 9.5 17 9.5C16.0381 9.5 15.1669 9.11201 14.5343 8.48399L9.42404 11.2713C9.47382 11.5064 9.5 11.7501 9.5 12C9.5 12.2498 9.47383 12.4935 9.42408 12.7285L14.5343 15.516C15.167 14.888 16.0382 14.5 17 14.5C18.933 14.5 20.5 16.067 20.5 18C20.5 19.933 18.933 21.5 17 21.5C15.067 21.5 13.5 19.933 13.5 18C13.5 17.7502 13.5262 17.5064 13.5759 17.2714Z"></path></svg></div>');function li(i,r){let o=V(r,"classes",8,""),e=V(r,"width",8,"1em"),t=V(r,"height",8,"1em");var n=si(),l=L(n);A(n),Q(()=>{Dt(n,`width: ${e()??""}; height: ${t()??""};`),gr(l,0,rn(o()),"svelte-19317os"),Et(l,"width",e()),Et(l,"height",t())}),x(i,n)}var ci=z('<div class="loading svelte-1hblgs8"><h2 class="svelte-1hblgs8">Loading tangle...</h2></div>'),ui=z(`<div class="error svelte-1hblgs8"><h2 class="svelte-1hblgs8">Tangle not found</h2> <p class="svelte-1hblgs8">The tangle you're looking for doesn't exist or has expired.</p> <a href="/" class="svelte-1hblgs8">Create a new tangle</a></div>`),di=z('<button class="qr-code-button svelte-1hblgs8"></button>'),fi=z('<button class="tangle-button svelte-1hblgs8"> </button>'),gi=z('<div class="organizer-section panel svelte-1hblgs8"><div class="share-section svelte-1hblgs8"><div class="share-content svelte-1hblgs8"><div class="qr-code svelte-1hblgs8"><!></div> <div class="link-section svelte-1hblgs8"><input type="text" readonly="" class="svelte-1hblgs8"/> <button class="svelte-1hblgs8">Copy Link</button></div></div></div> <div class="participants-section svelte-1hblgs8"><!></div> <!></div>'),hi=z('<div class="user-section panel svelte-1hblgs8"><div class="participants-section svelte-1hblgs8"><!></div></div>'),vi=z('<div class="topic-selection svelte-1hblgs8"><h2 class="svelte-1hblgs8">Choose Your Topics</h2> <p class="svelte-1hblgs8"></p> <!></div>'),pi=z('<div class="user-badge svelte-1hblgs8">Your Group</div>'),mi=z('<li class="svelte-1hblgs8"> </li>'),wi=z('<div class="icebreakers svelte-1hblgs8"><strong class="svelte-1hblgs8">Icebreaker Questions:</strong> <ul class="svelte-1hblgs8"></ul></div>'),yi=z('<div><h3 class="svelte-1hblgs8"> </h3> <!> <div class="group-size svelte-1hblgs8"><strong class="svelte-1hblgs8">Members:</strong> </div> <!></div>'),bi=z('<div class="groups-list svelte-1hblgs8"></div>'),Ci=z('<div class="unassigned-notice svelte-1hblgs8"><p class="svelte-1hblgs8"><strong class="svelte-1hblgs8">Note:</strong> </p></div>'),_i=z('<div class="results-section panel svelte-1hblgs8"><h2 class="svelte-1hblgs8">Breakout Groups Created!</h2> <!> <!></div>'),Ei=z('<header class="svelte-1hblgs8"><div class="header-content svelte-1hblgs8"><h1 class="svelte-1hblgs8"> </h1> <button class="btn-icon svelte-1hblgs8"><!></button></div> <p class="svelte-1hblgs8"> </p></header> <!> <!>',1),Ti=z('<div class="container svelte-1hblgs8"><!></div> <!>',1);function Li(i,r){zt(r,!1);const[o,e]=un(),t=()=>dn(yn,"$page",o),n=j(),l=j();let a=j(null),s=j([]),u=j(null),f=j([]),y=j(!0),v=j(!1),h=j(!1),S=j(!1),m=j(""),P=j(""),b=null,T=j(null),C=j("");const R=3;Jr(async()=>{F(P,window.location.href),F(T,t().url.searchParams.get("id")),F(C,await nn("user")),await _(),await g(),d()}),ur(()=>{D()});function D(){b&&(b(),b=null)}async function _(){try{F(m,await Vn.toDataURL(c(P),{width:384,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}))}catch(I){console.error("Failed to generate QR code:",I)}}async function g(){if(c(T))try{if(F(a,await Mt.getRoom(c(T))),c(a)){if(c(a).style&&typeof c(a).style=="string"){const I=an.find(U=>U.name.toLowerCase()===c(a).style.toLowerCase());I&&sn(I)}await p()}}catch(I){console.error("Failed to load room:",I)}finally{F(y,!1)}}async function p(){if(c(a))try{const{selections:I,results:U}=await Mt.getRoomData(c(a).id);F(s,I),U&&F(u,U);const O=c(s).find(ft=>ft.userId===c(C));O&&F(f,O.selectedTopics)}catch(I){console.error("Failed to load room data:",I)}}function d(){!c(a)||c(u)||(b=Mt.createPollingSubscription(()=>Mt.getRoomData(c(a).id),({selections:I,results:U})=>{const O=I.filter(J=>J.userId!==c(C)),ft=c(s).find(J=>J.userId===c(C));return ft?F(s,[...O,ft]):F(s,O),U?(F(u,U),!1):!0}))}function w(I){F(f,I.detail.selectedTopics);const U=c(s).findIndex(O=>O.userId===c(C));U!==-1?(Te(s,c(s)[U]={...c(s)[U],selectedTopics:c(f)}),F(s,[...c(s)])):F(s,[...c(s),{userId:c(C),roomId:c(a).id,selectedTopics:c(f),updatedAt:new Date}]),E()}async function E(){if(c(a)){F(v,!0);try{const I={userId:c(C),roomId:c(a).id,selectedTopics:c(f),updatedAt:new Date};await Mt.submitUserSelection(I)}catch(I){console.error("Failed to submit selection:",I)}finally{F(v,!1)}}}async function B(){if(c(a)){F(h,!0);try{F(u,await Mt.createBreakoutGroups(c(a).id,c(C))),c(u)&&D()}catch(I){console.error("Failed to create breakout groups:",I),alert("Failed to create breakout groups. Please try again.")}finally{F(h,!1)}}}function M(){navigator.clipboard.writeText(c(P))}function N(I){if(!c(a))return I;const U=c(a).topics.find(O=>O.id===I);return U?U.name:I}function K(I){return I.members.includes(c(C))}Pt(()=>(c(a),c(C)),()=>{F(n,c(a)?c(C)===c(a).organizerId:!1)}),Pt(()=>c(u),()=>{c(u)&&c(u).groups.forEach(I=>{I.icebreakerQuestions=I.icebreakerQuestions.map(U=>U.replace(/\[.*?\]\(.*?\)/g,""))})}),Pt(()=>(c(u),c(C)),()=>{F(l,c(u)?(()=>{const I=c(u).groups.find(O=>O.members.includes(c(C))),U=c(u).groups.filter(O=>!O.members.includes(c(C)));return I?[I,...U]:c(u).groups})():[])}),dr(),xt();var k=Ti();Qr(I=>{Q(()=>Wr.title=`Tangle ${c(T)??""} - Topic Tangle`)});var W=At(k),X=L(W);{var vt=I=>{var U=ci();x(I,U)},rt=I=>{var U=Ae(),O=At(U);{var ft=H=>{var tt=ui();x(H,tt)},J=H=>{var tt=Ei(),mt=At(tt),Jt=L(mt),Qt=L(Jt),br=L(Qt);A(Qt);var Wt=q(Qt,2),Cr=L(Wt);li(Cr,{}),A(Wt),A(Jt);var Re=q(Jt,2),_r=L(Re);A(Re),A(mt);var Me=q(mt,2);{var Er=Z=>{var et=gi(),gt=L(et),bt=L(gt),wt=L(bt),Tt=L(wt);{var st=nt=>{var it=di();Q(()=>Dt(it,`background-image: url(${c(m)}) `)),ut("click",it,()=>F(S,!0)),x(nt,it)};G(Tt,nt=>{c(m)&&nt(st)})}A(wt);var lt=q(wt,2),ct=L(lt);ln(ct);var Y=q(ct,2);A(lt),A(bt),A(gt);var Ct=q(gt,2),jt=L(Ct);{var Nt=nt=>{lr(nt,{get userSelections(){return c(s)},get topics(){return c(a),$(()=>c(a).topics)}})};G(jt,nt=>{c(a)&&nt(Nt)})}A(Ct);var Zt=q(Ct,2);{var Vt=nt=>{var it=fi(),Xt=L(it,!0);A(it),Q(()=>{it.disabled=(c(h),c(s),$(()=>c(h)||c(s).length===0)),ot(Xt,c(h)?"Creating Groups...":"Tangle!")}),ut("click",it,B),x(nt,it)};G(Zt,nt=>{c(u)||nt(Vt)})}A(et),Q(()=>cn(ct,c(P))),ut("click",Y,M),x(Z,et)},Tr=Z=>{var et=Ae(),gt=At(et);{var bt=wt=>{var Tt=hi(),st=L(Tt),lt=L(st);{var ct=Y=>{lr(Y,{get userSelections(){return c(s)},get topics(){return c(a),$(()=>c(a).topics)}})};G(lt,Y=>{c(a)&&Y(ct)})}A(st),A(Tt),x(wt,Tt)};G(gt,wt=>{c(u)&&wt(bt)})}x(Z,et)};G(Me,Z=>{c(n)?Z(Er):Z(Tr,!1)})}var Sr=q(Me,2);{var Br=Z=>{var et=vi(),gt=q(L(et),2);gt.textContent="Select up to 3 topics you're interested in discussing:";var bt=q(gt,2);ni(bt,{get topics(){return c(a),$(()=>c(a).topics)},get selectedTopics(){return c(f)},maxSelections:R,get isSubmitting(){return c(v)},$$events:{selectionChange:w}}),A(et),x(Z,et)},Rr=Z=>{var et=_i(),gt=q(L(et),2);{var bt=st=>{var lt=bi();Ut(lt,5,()=>c(l),ct=>ct.id,(ct,Y)=>{var Ct=yi();let jt;var Nt=L(Ct),Zt=L(Nt,!0);A(Nt);var Vt=q(Nt,2);{var nt=yt=>{var St=pi();x(yt,St)};G(Vt,yt=>{c(Y),$(()=>K(c(Y)))&&yt(nt)})}var it=q(Vt,2),Xt=q(L(it));A(it);var Mr=q(it,2);{var Ir=yt=>{var St=wi(),Ie=q(L(St),2);Ut(Ie,5,()=>(c(Y),$(()=>c(Y).icebreakerQuestions)),on,(Ar,Pr)=>{var te=mi(),Nr=L(te,!0);A(te),Q(()=>ot(Nr,c(Pr))),x(Ar,te)}),A(Ie),A(St),x(yt,St)};G(Mr,yt=>{c(Y),$(()=>c(Y).icebreakerQuestions.length>0)&&yt(Ir)})}A(Ct),Q((yt,St)=>{jt=gr(Ct,1,"group-card svelte-1hblgs8",null,jt,yt),ot(Zt,St),ot(Xt,` ${c(Y),$(()=>c(Y).members.length)??""}`)},[()=>({"user-group":K(c(Y))}),()=>(c(Y),$(()=>N(c(Y).assignedTopics[0])))]),x(ct,Ct)}),A(lt),x(st,lt)};G(gt,st=>{c(u),$(()=>c(u).groups.length>0)&&st(bt)})}var wt=q(gt,2);{var Tt=st=>{var lt=Ci(),ct=L(lt),Y=q(L(ct));A(ct),A(lt),Q(()=>ot(Y,` ${c(u),$(()=>c(u).unassignedUsers.length)??""} participants couldn't be assigned to a group.`)),x(st,lt)};G(wt,st=>{c(u),$(()=>c(u).unassignedUsers.length>0)&&st(Tt)})}A(et),x(Z,et)};G(Sr,Z=>{c(u)?Z(Rr,!1):Z(Br)})}Q(Z=>{ot(br,`Tangle ${c(a),$(()=>c(a).id)??""}`),ot(_r,`Created ${Z??""}`)},[()=>(ht(sr),c(a),$(()=>sr(c(a).createdAt)))]),ut("click",Wt,()=>F(S,!0)),x(H,tt)};G(O,H=>{c(a)?H(J,!1):H(ft)},!0)}x(I,U)};G(X,I=>{c(y)?I(vt):I(rt,!1)})}A(W);var at=q(W,2);{var dt=I=>{{let U=Zr(()=>(c(a),$(()=>`Tangle ${c(a).id}`)));ai(I,{get qrCodeDataUrl(){return c(m)},get title(){return c(U)},$$events:{close:()=>F(S,!1)}})}};G(at,I=>{c(S)&&I(dt)})}x(i,k),$t(),e()}export{Li as component};
