import"../chunks/DsnmJJEf.js";import{i as Ot}from"../chunks/u8X0A2k3.js";import{v as Sn,aY as Bn,E as Rn,aZ as Mn,a_ as An,F as In,x as j,a$ as Pn,b0 as Nn,b1 as Ln,b2 as an,b3 as Fn,I as kn,M as It,l as Dn,J as Un,_ as Kt,aJ as sn,$ as x,u as U,N as $,n as l,a2 as q,a3 as Ht,aK as Mt,Y as ht,aL as cn,a0 as Lt,a4 as F,a5 as L,a6 as z,aI as qn,a1 as et,a7 as ut,aM as Ft,aX as zn,aO as Ee,aj as xn,b4 as jn,b5 as Vn,am as Te}from"../chunks/BmOFv_lr.js";import{p as H,i as J}from"../chunks/DshCCsDL.js";import{l as $n,c as On,a as Se,e as kt,g as Kn,R as Bt,s as Hn,i as Jn}from"../chunks/-_6-fIVp.js";import{s as Dt,r as Be,t as Yn,a as Gn,b as Qn,d as Wn}from"../chunks/B2Eg1aA2.js";import{b as Ut,s as Xn,a as Zn}from"../chunks/DMvuwqTS.js";import{s as tr}from"../chunks/BFizmN4z.js";function xt(r,n){an(()=>{r.dispatchEvent(new CustomEvent(n))})}function er(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const n=r.split("-");return n.length===1?n[0]:n[0]+n.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function Re(r){const n={},o=r.split(";");for(const e of o){const[t,i]=e.split(":");if(!t||i===void 0)break;const s=er(t.trim());n[s]=i.trim()}return n}const nr=r=>r;function rr(r,n,o){var e=On,t,i,s,a=null;e.a??={element:r,measure(){t=this.element.getBoundingClientRect()},apply(){if(s?.abort(),i=this.element.getBoundingClientRect(),t.left!==i.left||t.right!==i.right||t.top!==i.top||t.bottom!==i.bottom){const c=n()(this.element,{from:t,to:i},o?.());s=$t(this.element,c,void 0,1,()=>{s?.abort(),s=void 0})}},fix(){if(!r.getAnimations().length){var{position:c,width:u,height:d}=getComputedStyle(r);if(c!=="absolute"&&c!=="fixed"){var _=r.style;a={position:_.position,width:_.width,height:_.height,transform:_.transform},_.position="absolute",_.width=u,_.height=d;var p=r.getBoundingClientRect();if(t.left!==p.left||t.top!==p.top){var g=`translate(${t.left-p.left}px, ${t.top-p.top}px)`;_.transform=_.transform?`${_.transform} ${g}`:g}}}},unfix(){if(a){var c=r.style;c.position=a.position,c.width=a.width,c.height=a.height,c.transform=a.transform}}},e.a.element=r}function Pt(r,n,o,e){var t=(r&Nn)!==0,i=(r&Ln)!==0,s=t&&i,a=(r&Pn)!==0,c=s?"both":t?"in":"out",u,d=n.inert,_=n.style.overflow,p,g;function E(){return an(()=>u??=o()(n,e?.()??{},{direction:c}))}var b={is_global:a,in(){if(n.inert=d,!t){g?.abort(),g?.reset?.();return}i||p?.abort(),xt(n,"introstart"),p=$t(n,E(),g,1,()=>{xt(n,"introend"),p?.abort(),p=u=void 0,n.style.overflow=_})},out(S){if(!i){S?.(),u=void 0;return}n.inert=!0,xt(n,"outrostart"),g=$t(n,E(),p,0,()=>{xt(n,"outroend"),S?.()})},stop:()=>{p?.abort(),g?.abort()}},N=Sn;if((N.transitions??=[]).push(b),t&&Bn){var w=a;if(!w){for(var m=N.parent;m&&(m.f&Rn)!==0;)for(;(m=m.parent)&&(m.f&Mn)===0;);w=!m||(m.f&An)!==0}w&&In(()=>{j(()=>b.in())})}}function $t(r,n,o,e,t){var i=e===1;if(Fn(n)){var s,a=!1;return kn(()=>{if(!a){var N=n({direction:i?"in":"out"});s=$t(r,N,o,e,t)}}),{abort:()=>{a=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(o?.deactivate(),!n?.duration)return t(),{abort:It,deactivate:It,reset:It,t:()=>e};const{delay:c=0,css:u,tick:d,easing:_=nr}=n;var p=[];if(i&&o===void 0&&(d&&d(0,1),u)){var g=Re(u(0,1));p.push(g,g)}var E=()=>1-e,b=r.animate(p,{duration:c,fill:"forwards"});return b.onfinish=()=>{b.cancel();var N=o?.t()??1-e;o?.abort();var w=e-N,m=n.duration*Math.abs(w),S=[];if(m>0){var M=!1;if(u)for(var A=Math.ceil(m/16.666666666666668),h=0;h<=A;h+=1){var v=N+w*_(h/A),y=Re(u(v,1-v));S.push(y),M||=y.overflow==="hidden"}M&&(r.style.overflow="hidden"),E=()=>{var f=b.currentTime;return N+w*_(f/m)},d&&$n(()=>{if(b.playState!=="running")return!1;var f=E();return d(f,1-f),!0})}b=r.animate(S,{duration:m,fill:"forwards"}),b.onfinish=()=>{E=()=>e,d?.(e,1-e),t()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=It)},deactivate:()=>{t=It},reset:()=>{e===0&&d?.(1,0)},t:()=>E()}}function ir(r,n,o){var e=Dn(r,n);e&&e.set&&(r[n]=o,Un(()=>{r[n]=null}))}function Me(r){return r*r*r}function ye(r){const n=r-1;return n*n*n+1}const or=()=>{const r=tr;return{page:{subscribe:r.page.subscribe},navigating:{subscribe:r.navigating.subscribe},updated:r.updated}},ar={subscribe(r){return or().page.subscribe(r)}};function sr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rt={},Qt,Ae;function cr(){return Ae||(Ae=1,Qt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Qt}var Wt={},_t={},Ie;function Tt(){if(Ie)return _t;Ie=1;let r;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return _t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},_t.getSymbolTotalCodewords=function(e){return n[e]},_t.getBCHDigit=function(o){let e=0;for(;o!==0;)e++,o>>>=1;return e},_t.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');r=e},_t.isKanjiModeEnabled=function(){return typeof r<"u"},_t.toSJIS=function(e){return r(e)},_t}var Xt={},Pe;function _e(){return Pe||(Pe=1,function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function n(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+o)}}r.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},r.from=function(e,t){if(r.isValid(e))return e;try{return n(e)}catch{return t}}}(Xt)),Xt}var Zt,Ne;function lr(){if(Ne)return Zt;Ne=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(n){const o=Math.floor(n/8);return(this.buffer[o]>>>7-n%8&1)===1},put:function(n,o){for(let e=0;e<o;e++)this.putBit((n>>>o-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),n&&(this.buffer[o]|=128>>>this.length%8),this.length++}},Zt=r,Zt}var te,Le;function ur(){if(Le)return te;Le=1;function r(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}return r.prototype.set=function(n,o,e,t){const i=n*this.size+o;this.data[i]=e,t&&(this.reservedBit[i]=!0)},r.prototype.get=function(n,o){return this.data[n*this.size+o]},r.prototype.xor=function(n,o,e){this.data[n*this.size+o]^=e},r.prototype.isReserved=function(n,o){return this.reservedBit[n*this.size+o]},te=r,te}var ee={},Fe;function fr(){return Fe||(Fe=1,function(r){const n=Tt().getSymbolSize;r.getRowColCoords=function(e){if(e===1)return[];const t=Math.floor(e/7)+2,i=n(e),s=i===145?26:Math.ceil((i-13)/(2*t-2))*2,a=[i-7];for(let c=1;c<t-1;c++)a[c]=a[c-1]-s;return a.push(6),a.reverse()},r.getPositions=function(e){const t=[],i=r.getRowColCoords(e),s=i.length;for(let a=0;a<s;a++)for(let c=0;c<s;c++)a===0&&c===0||a===0&&c===s-1||a===s-1&&c===0||t.push([i[a],i[c]]);return t}}(ee)),ee}var ne={},ke;function dr(){if(ke)return ne;ke=1;const r=Tt().getSymbolSize,n=7;return ne.getPositions=function(e){const t=r(e);return[[0,0],[t-n,0],[0,t-n]]},ne}var re={},De;function gr(){return De||(De=1,function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};r.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7},r.from=function(t){return r.isValid(t)?parseInt(t,10):void 0},r.getPenaltyN1=function(t){const i=t.size;let s=0,a=0,c=0,u=null,d=null;for(let _=0;_<i;_++){a=c=0,u=d=null;for(let p=0;p<i;p++){let g=t.get(_,p);g===u?a++:(a>=5&&(s+=n.N1+(a-5)),u=g,a=1),g=t.get(p,_),g===d?c++:(c>=5&&(s+=n.N1+(c-5)),d=g,c=1)}a>=5&&(s+=n.N1+(a-5)),c>=5&&(s+=n.N1+(c-5))}return s},r.getPenaltyN2=function(t){const i=t.size;let s=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const u=t.get(a,c)+t.get(a,c+1)+t.get(a+1,c)+t.get(a+1,c+1);(u===4||u===0)&&s++}return s*n.N2},r.getPenaltyN3=function(t){const i=t.size;let s=0,a=0,c=0;for(let u=0;u<i;u++){a=c=0;for(let d=0;d<i;d++)a=a<<1&2047|t.get(u,d),d>=10&&(a===1488||a===93)&&s++,c=c<<1&2047|t.get(d,u),d>=10&&(c===1488||c===93)&&s++}return s*n.N3},r.getPenaltyN4=function(t){let i=0;const s=t.data.length;for(let c=0;c<s;c++)i+=t.data[c];return Math.abs(Math.ceil(i*100/s/5)-10)*n.N4};function o(e,t,i){switch(e){case r.Patterns.PATTERN000:return(t+i)%2===0;case r.Patterns.PATTERN001:return t%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(t+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return t*i%2+t*i%3===0;case r.Patterns.PATTERN110:return(t*i%2+t*i%3)%2===0;case r.Patterns.PATTERN111:return(t*i%3+(t+i)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}r.applyMask=function(t,i){const s=i.size;for(let a=0;a<s;a++)for(let c=0;c<s;c++)i.isReserved(c,a)||i.xor(c,a,o(t,c,a))},r.getBestMask=function(t,i){const s=Object.keys(r.Patterns).length;let a=0,c=1/0;for(let u=0;u<s;u++){i(u),r.applyMask(u,t);const d=r.getPenaltyN1(t)+r.getPenaltyN2(t)+r.getPenaltyN3(t)+r.getPenaltyN4(t);r.applyMask(u,t),d<c&&(c=d,a=u)}return a}}(re)),re}var jt={},Ue;function ln(){if(Ue)return jt;Ue=1;const r=_e(),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return jt.getBlocksCount=function(t,i){switch(i){case r.L:return n[(t-1)*4+0];case r.M:return n[(t-1)*4+1];case r.Q:return n[(t-1)*4+2];case r.H:return n[(t-1)*4+3];default:return}},jt.getTotalCodewordsCount=function(t,i){switch(i){case r.L:return o[(t-1)*4+0];case r.M:return o[(t-1)*4+1];case r.Q:return o[(t-1)*4+2];case r.H:return o[(t-1)*4+3];default:return}},jt}var ie={},Nt={},qe;function hr(){if(qe)return Nt;qe=1;const r=new Uint8Array(512),n=new Uint8Array(256);return function(){let e=1;for(let t=0;t<255;t++)r[t]=e,n[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)r[t]=r[t-255]}(),Nt.log=function(e){if(e<1)throw new Error("log("+e+")");return n[e]},Nt.exp=function(e){return r[e]},Nt.mul=function(e,t){return e===0||t===0?0:r[n[e]+n[t]]},Nt}var ze;function vr(){return ze||(ze=1,function(r){const n=hr();r.mul=function(e,t){const i=new Uint8Array(e.length+t.length-1);for(let s=0;s<e.length;s++)for(let a=0;a<t.length;a++)i[s+a]^=n.mul(e[s],t[a]);return i},r.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){const s=i[0];for(let c=0;c<t.length;c++)i[c]^=n.mul(t[c],s);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},r.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=r.mul(t,new Uint8Array([1,n.exp(i)]));return t}}(ie)),ie}var oe,xe;function pr(){if(xe)return oe;xe=1;const r=vr();function n(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}return n.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},n.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const i=r.mod(t,this.genPoly),s=this.degree-i.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(i,s),a}return i},oe=n,oe}var ae={},se={},ce={},je;function un(){return je||(je=1,ce.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}),ce}var gt={},Ve;function fn(){if(Ve)return gt;Ve=1;const r="[0-9]+",n="[A-Z $%*+\\-./:]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+`)(?:.|[\r
]))+`;gt.KANJI=new RegExp(o,"g"),gt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),gt.BYTE=new RegExp(e,"g"),gt.NUMERIC=new RegExp(r,"g"),gt.ALPHANUMERIC=new RegExp(n,"g");const t=new RegExp("^"+o+"$"),i=new RegExp("^"+r+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return gt.testKanji=function(c){return t.test(c)},gt.testNumeric=function(c){return i.test(c)},gt.testAlphanumeric=function(c){return s.test(c)},gt}var $e;function St(){return $e||($e=1,function(r){const n=un(),o=fn();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,s){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!n.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?i.ccBits[0]:s<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return o.testNumeric(i)?r.NUMERIC:o.testAlphanumeric(i)?r.ALPHANUMERIC:o.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+t)}}r.from=function(i,s){if(r.isValid(i))return i;try{return e(i)}catch{return s}}}(se)),se}var Oe;function mr(){return Oe||(Oe=1,function(r){const n=Tt(),o=ln(),e=_e(),t=St(),i=un(),s=7973,a=n.getBCHDigit(s);function c(p,g,E){for(let b=1;b<=40;b++)if(g<=r.getCapacity(b,E,p))return b}function u(p,g){return t.getCharCountIndicator(p,g)+4}function d(p,g){let E=0;return p.forEach(function(b){const N=u(b.mode,g);E+=N+b.getBitsLength()}),E}function _(p,g){for(let E=1;E<=40;E++)if(d(p,E)<=r.getCapacity(E,g,t.MIXED))return E}r.from=function(g,E){return i.isValid(g)?parseInt(g,10):E},r.getCapacity=function(g,E,b){if(!i.isValid(g))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=t.BYTE);const N=n.getSymbolTotalCodewords(g),w=o.getTotalCodewordsCount(g,E),m=(N-w)*8;if(b===t.MIXED)return m;const S=m-u(b,g);switch(b){case t.NUMERIC:return Math.floor(S/10*3);case t.ALPHANUMERIC:return Math.floor(S/11*2);case t.KANJI:return Math.floor(S/13);case t.BYTE:default:return Math.floor(S/8)}},r.getBestVersionForData=function(g,E){let b;const N=e.from(E,e.M);if(Array.isArray(g)){if(g.length>1)return _(g,N);if(g.length===0)return 1;b=g[0]}else b=g;return c(b.mode,b.getLength(),N)},r.getEncodedBits=function(g){if(!i.isValid(g)||g<7)throw new Error("Invalid QR Code version");let E=g<<12;for(;n.getBCHDigit(E)-a>=0;)E^=s<<n.getBCHDigit(E)-a;return g<<12|E}}(ae)),ae}var le={},Ke;function wr(){if(Ke)return le;Ke=1;const r=Tt(),n=1335,o=21522,e=r.getBCHDigit(n);return le.getEncodedBits=function(i,s){const a=i.bit<<3|s;let c=a<<10;for(;r.getBCHDigit(c)-e>=0;)c^=n<<r.getBCHDigit(c)-e;return(a<<10|c)^o},le}var ue={},fe,He;function yr(){if(He)return fe;He=1;const r=St();function n(o){this.mode=r.NUMERIC,this.data=o.toString()}return n.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){let t,i,s;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),s=parseInt(i,10),e.put(s,10);const a=this.data.length-t;a>0&&(i=this.data.substr(t),s=parseInt(i,10),e.put(s,a*3+1))},fe=n,fe}var de,Je;function _r(){if(Je)return de;Je=1;const r=St(),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=r.ALPHANUMERIC,this.data=e}return o.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let i;for(i=0;i+2<=this.data.length;i+=2){let s=n.indexOf(this.data[i])*45;s+=n.indexOf(this.data[i+1]),t.put(s,11)}this.data.length%2&&t.put(n.indexOf(this.data[i]),6)},de=o,de}var ge,Ye;function Cr(){if(Ye)return ge;Ye=1;const r=St();function n(o){this.mode=r.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}return n.getBitsLength=function(e){return e*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(o){for(let e=0,t=this.data.length;e<t;e++)o.put(this.data[e],8)},ge=n,ge}var he,Ge;function br(){if(Ge)return he;Ge=1;const r=St(),n=Tt();function o(e){this.mode=r.KANJI,this.data=e}return o.getBitsLength=function(t){return t*13},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let i=n.toSJIS(this.data[t]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),e.put(i,13)}},he=o,he}var ve={exports:{}},Qe;function Er(){return Qe||(Qe=1,function(r){var n={single_source_shortest_paths:function(o,e,t){var i={},s={};s[e]=0;var a=n.PriorityQueue.make();a.push(e,0);for(var c,u,d,_,p,g,E,b,N;!a.empty();){c=a.pop(),u=c.value,_=c.cost,p=o[u]||{};for(d in p)p.hasOwnProperty(d)&&(g=p[d],E=_+g,b=s[d],N=typeof s[d]>"u",(N||b>E)&&(s[d]=E,a.push(d,E),i[d]=u))}if(typeof t<"u"&&typeof s[t]>"u"){var w=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(w)}return i},extract_shortest_path_from_predecessor_list:function(o,e){for(var t=[],i=e;i;)t.push(i),o[i],i=o[i];return t.reverse(),t},find_path:function(o,e,t){var i=n.single_source_shortest_paths(o,e,t);return n.extract_shortest_path_from_predecessor_list(i,t)},PriorityQueue:{make:function(o){var e=n.PriorityQueue,t={},i;o=o||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t.queue=[],t.sorter=o.sorter||e.default_sorter,t},default_sorter:function(o,e){return o.cost-e.cost},push:function(o,e){var t={value:o,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=n}(ve)),ve.exports}var We;function Tr(){return We||(We=1,function(r){const n=St(),o=yr(),e=_r(),t=Cr(),i=br(),s=fn(),a=Tt(),c=Er();function u(w){return unescape(encodeURIComponent(w)).length}function d(w,m,S){const M=[];let A;for(;(A=w.exec(S))!==null;)M.push({data:A[0],index:A.index,mode:m,length:A[0].length});return M}function _(w){const m=d(s.NUMERIC,n.NUMERIC,w),S=d(s.ALPHANUMERIC,n.ALPHANUMERIC,w);let M,A;return a.isKanjiModeEnabled()?(M=d(s.BYTE,n.BYTE,w),A=d(s.KANJI,n.KANJI,w)):(M=d(s.BYTE_KANJI,n.BYTE,w),A=[]),m.concat(S,M,A).sort(function(v,y){return v.index-y.index}).map(function(v){return{data:v.data,mode:v.mode,length:v.length}})}function p(w,m){switch(m){case n.NUMERIC:return o.getBitsLength(w);case n.ALPHANUMERIC:return e.getBitsLength(w);case n.KANJI:return i.getBitsLength(w);case n.BYTE:return t.getBitsLength(w)}}function g(w){return w.reduce(function(m,S){const M=m.length-1>=0?m[m.length-1]:null;return M&&M.mode===S.mode?(m[m.length-1].data+=S.data,m):(m.push(S),m)},[])}function E(w){const m=[];for(let S=0;S<w.length;S++){const M=w[S];switch(M.mode){case n.NUMERIC:m.push([M,{data:M.data,mode:n.ALPHANUMERIC,length:M.length},{data:M.data,mode:n.BYTE,length:M.length}]);break;case n.ALPHANUMERIC:m.push([M,{data:M.data,mode:n.BYTE,length:M.length}]);break;case n.KANJI:m.push([M,{data:M.data,mode:n.BYTE,length:u(M.data)}]);break;case n.BYTE:m.push([{data:M.data,mode:n.BYTE,length:u(M.data)}])}}return m}function b(w,m){const S={},M={start:{}};let A=["start"];for(let h=0;h<w.length;h++){const v=w[h],y=[];for(let f=0;f<v.length;f++){const C=v[f],T=""+h+f;y.push(T),S[T]={node:C,lastCount:0},M[T]={};for(let B=0;B<A.length;B++){const R=A[B];S[R]&&S[R].node.mode===C.mode?(M[R][T]=p(S[R].lastCount+C.length,C.mode)-p(S[R].lastCount,C.mode),S[R].lastCount+=C.length):(S[R]&&(S[R].lastCount=C.length),M[R][T]=p(C.length,C.mode)+4+n.getCharCountIndicator(C.mode,m))}}A=y}for(let h=0;h<A.length;h++)M[A[h]].end=0;return{map:M,table:S}}function N(w,m){let S;const M=n.getBestModeForData(w);if(S=n.from(m,M),S!==n.BYTE&&S.bit<M.bit)throw new Error('"'+w+'" cannot be encoded with mode '+n.toString(S)+`.
 Suggested mode is: `+n.toString(M));switch(S===n.KANJI&&!a.isKanjiModeEnabled()&&(S=n.BYTE),S){case n.NUMERIC:return new o(w);case n.ALPHANUMERIC:return new e(w);case n.KANJI:return new i(w);case n.BYTE:return new t(w)}}r.fromArray=function(m){return m.reduce(function(S,M){return typeof M=="string"?S.push(N(M,null)):M.data&&S.push(N(M.data,M.mode)),S},[])},r.fromString=function(m,S){const M=_(m,a.isKanjiModeEnabled()),A=E(M),h=b(A,S),v=c.find_path(h.map,"start","end"),y=[];for(let f=1;f<v.length-1;f++)y.push(h.table[v[f]].node);return r.fromArray(g(y))},r.rawSplit=function(m){return r.fromArray(_(m,a.isKanjiModeEnabled()))}}(ue)),ue}var Xe;function Sr(){if(Xe)return Wt;Xe=1;const r=Tt(),n=_e(),o=lr(),e=ur(),t=fr(),i=dr(),s=gr(),a=ln(),c=pr(),u=mr(),d=wr(),_=St(),p=Tr();function g(h,v){const y=h.size,f=i.getPositions(v);for(let C=0;C<f.length;C++){const T=f[C][0],B=f[C][1];for(let R=-1;R<=7;R++)if(!(T+R<=-1||y<=T+R))for(let I=-1;I<=7;I++)B+I<=-1||y<=B+I||(R>=0&&R<=6&&(I===0||I===6)||I>=0&&I<=6&&(R===0||R===6)||R>=2&&R<=4&&I>=2&&I<=4?h.set(T+R,B+I,!0,!0):h.set(T+R,B+I,!1,!0))}}function E(h){const v=h.size;for(let y=8;y<v-8;y++){const f=y%2===0;h.set(y,6,f,!0),h.set(6,y,f,!0)}}function b(h,v){const y=t.getPositions(v);for(let f=0;f<y.length;f++){const C=y[f][0],T=y[f][1];for(let B=-2;B<=2;B++)for(let R=-2;R<=2;R++)B===-2||B===2||R===-2||R===2||B===0&&R===0?h.set(C+B,T+R,!0,!0):h.set(C+B,T+R,!1,!0)}}function N(h,v){const y=h.size,f=u.getEncodedBits(v);let C,T,B;for(let R=0;R<18;R++)C=Math.floor(R/3),T=R%3+y-8-3,B=(f>>R&1)===1,h.set(C,T,B,!0),h.set(T,C,B,!0)}function w(h,v,y){const f=h.size,C=d.getEncodedBits(v,y);let T,B;for(T=0;T<15;T++)B=(C>>T&1)===1,T<6?h.set(T,8,B,!0):T<8?h.set(T+1,8,B,!0):h.set(f-15+T,8,B,!0),T<8?h.set(8,f-T-1,B,!0):T<9?h.set(8,15-T-1+1,B,!0):h.set(8,15-T-1,B,!0);h.set(f-8,8,1,!0)}function m(h,v){const y=h.size;let f=-1,C=y-1,T=7,B=0;for(let R=y-1;R>0;R-=2)for(R===6&&R--;;){for(let I=0;I<2;I++)if(!h.isReserved(C,R-I)){let O=!1;B<v.length&&(O=(v[B]>>>T&1)===1),h.set(C,R-I,O),T--,T===-1&&(B++,T=7)}if(C+=f,C<0||y<=C){C-=f,f=-f;break}}}function S(h,v,y){const f=new o;y.forEach(function(I){f.put(I.mode.bit,4),f.put(I.getLength(),_.getCharCountIndicator(I.mode,h)),I.write(f)});const C=r.getSymbolTotalCodewords(h),T=a.getTotalCodewordsCount(h,v),B=(C-T)*8;for(f.getLengthInBits()+4<=B&&f.put(0,4);f.getLengthInBits()%8!==0;)f.putBit(0);const R=(B-f.getLengthInBits())/8;for(let I=0;I<R;I++)f.put(I%2?17:236,8);return M(f,h,v)}function M(h,v,y){const f=r.getSymbolTotalCodewords(v),C=a.getTotalCodewordsCount(v,y),T=f-C,B=a.getBlocksCount(v,y),R=f%B,I=B-R,O=Math.floor(f/B),k=Math.floor(T/B),nt=k+1,W=O-k,P=new c(W);let D=0;const V=new Array(B),G=new Array(B);let dt=0;const X=new Uint8Array(h.buffer);for(let ot=0;ot<B;ot++){const Ct=ot<I?k:nt;V[ot]=X.slice(D,D+Ct),G[ot]=P.encode(V[ot]),D+=Ct,dt=Math.max(dt,Ct)}const it=new Uint8Array(f);let mt=0,Y,Z;for(Y=0;Y<dt;Y++)for(Z=0;Z<B;Z++)Y<V[Z].length&&(it[mt++]=V[Z][Y]);for(Y=0;Y<W;Y++)for(Z=0;Z<B;Z++)it[mt++]=G[Z][Y];return it}function A(h,v,y,f){let C;if(Array.isArray(h))C=p.fromArray(h);else if(typeof h=="string"){let O=v;if(!O){const k=p.rawSplit(h);O=u.getBestVersionForData(k,y)}C=p.fromString(h,O||40)}else throw new Error("Invalid data");const T=u.getBestVersionForData(C,y);if(!T)throw new Error("The amount of data is too big to be stored in a QR Code");if(!v)v=T;else if(v<T)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+T+`.
`);const B=S(v,y,C),R=r.getSymbolSize(v),I=new e(R);return g(I,v),E(I),b(I,v),w(I,y,0),v>=7&&N(I,v),m(I,B),isNaN(f)&&(f=s.getBestMask(I,w.bind(null,I,y))),s.applyMask(f,I),w(I,y,f),{modules:I,version:v,errorCorrectionLevel:y,maskPattern:f,segments:C}}return Wt.create=function(v,y){if(typeof v>"u"||v==="")throw new Error("No input text");let f=n.M,C,T;return typeof y<"u"&&(f=n.from(y.errorCorrectionLevel,n.M),C=u.from(y.version),T=s.from(y.maskPattern),y.toSJISFunc&&r.setToSJISFunction(y.toSJISFunc)),A(v,C,f,T)},Wt}var pe={},me={},Ze;function dn(){return Ze||(Ze=1,function(r){function n(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let e=o.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+o);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");const t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}r.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,s=e.scale||4;return{width:i,scale:i?4:s,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},r.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale},r.getImageWidth=function(e,t){const i=r.getScale(e,t);return Math.floor((e+t.margin*2)*i)},r.qrToImageData=function(e,t,i){const s=t.modules.size,a=t.modules.data,c=r.getScale(s,i),u=Math.floor((s+i.margin*2)*c),d=i.margin*c,_=[i.color.light,i.color.dark];for(let p=0;p<u;p++)for(let g=0;g<u;g++){let E=(p*u+g)*4,b=i.color.light;if(p>=d&&g>=d&&p<u-d&&g<u-d){const N=Math.floor((p-d)/c),w=Math.floor((g-d)/c);b=_[a[N*s+w]?1:0]}e[E++]=b.r,e[E++]=b.g,e[E++]=b.b,e[E]=b.a}}}(me)),me}var tn;function Br(){return tn||(tn=1,function(r){const n=dn();function o(t,i,s){t.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=s,i.width=s,i.style.height=s+"px",i.style.width=s+"px"}function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,s,a){let c=a,u=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(u=e()),c=n.getOptions(c);const d=n.getImageWidth(i.modules.size,c),_=u.getContext("2d"),p=_.createImageData(d,d);return n.qrToImageData(p.data,i,c),o(_,u,d),_.putImageData(p,0,0),u},r.renderToDataURL=function(i,s,a){let c=a;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const u=r.render(i,s,c),d=c.type||"image/png",_=c.rendererOpts||{};return u.toDataURL(d,_.quality)}}(pe)),pe}var we={},en;function Rr(){if(en)return we;en=1;const r=dn();function n(t,i){const s=t.a/255,a=i+'="'+t.hex+'"';return s<1?a+" "+i+'-opacity="'+s.toFixed(2).slice(1)+'"':a}function o(t,i,s){let a=t+i;return typeof s<"u"&&(a+=" "+s),a}function e(t,i,s){let a="",c=0,u=!1,d=0;for(let _=0;_<t.length;_++){const p=Math.floor(_%i),g=Math.floor(_/i);!p&&!u&&(u=!0),t[_]?(d++,_>0&&p>0&&t[_-1]||(a+=u?o("M",p+s,.5+g+s):o("m",c,0),c=0,u=!1),p+1<i&&t[_+1]||(a+=o("h",d),d=0)):c++}return a}return we.render=function(i,s,a){const c=r.getOptions(s),u=i.modules.size,d=i.modules.data,_=u+c.margin*2,p=c.color.light.a?"<path "+n(c.color.light,"fill")+' d="M0 0h'+_+"v"+_+'H0z"/>':"",g="<path "+n(c.color.dark,"stroke")+' d="'+e(d,u,c.margin)+'"/>',E='viewBox="0 0 '+_+" "+_+'"',N='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+E+' shape-rendering="crispEdges">'+p+g+`</svg>
`;return typeof a=="function"&&a(null,N),N},we}var nn;function Mr(){if(nn)return Rt;nn=1;const r=cr(),n=Sr(),o=Br(),e=Rr();function t(i,s,a,c,u){const d=[].slice.call(arguments,1),_=d.length,p=typeof d[_-1]=="function";if(!p&&!r())throw new Error("Callback required as last argument");if(p){if(_<2)throw new Error("Too few arguments provided");_===2?(u=a,a=s,s=c=void 0):_===3&&(s.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=a,a=s,s=void 0))}else{if(_<1)throw new Error("Too few arguments provided");return _===1?(a=s,s=c=void 0):_===2&&!s.getContext&&(c=a,a=s,s=void 0),new Promise(function(g,E){try{const b=n.create(a,c);g(i(b,s,c))}catch(b){E(b)}})}try{const g=n.create(a,c);u(null,i(g,s,c))}catch(g){u(g)}}return Rt.create=n.create,Rt.toCanvas=t.bind(null,o.render),Rt.toDataURL=t.bind(null,o.renderToDataURL),Rt.toString=t.bind(null,function(i,s,a){return e.render(i,a)}),Rt}var Ar=Mr();const Ir=sr(Ar);function rn(r){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)}function Pr(r,{from:n,to:o},e={}){var{delay:t=0,duration:i=h=>Math.sqrt(h)*120,easing:s=ye}=e,a=getComputedStyle(r),c=a.transform==="none"?"":a.transform,[u,d]=a.transformOrigin.split(" ").map(parseFloat);u/=r.clientWidth,d/=r.clientHeight;var _=Nr(r),p=r.clientWidth/o.width/_,g=r.clientHeight/o.height/_,E=n.left+n.width*u,b=n.top+n.height*d,N=o.left+o.width*u,w=o.top+o.height*d,m=(E-N)*p,S=(b-w)*g,M=n.width/o.width,A=n.height/o.height;return{delay:t,duration:typeof i=="function"?i(Math.sqrt(m*m+S*S)):i,easing:s,css:(h,v)=>{var y=v*m,f=v*S,C=h+v*M,T=h+v*A;return`transform: ${c} translate(${y}px, ${f}px) scale(${C}, ${T});`}}}function Nr(r){if("currentCSSZoom"in r)return r.currentCSSZoom;for(var n=r,o=1;n!==null;)o*=+getComputedStyle(n).zoom,n=n.parentElement;return o}var Lr=x('<div class="particle-container svelte-smrzvy"></div>');function gn(r,n){Kt(n,!1);let o=H(n,"particleFPS",8,45),e=H(n,"particleCount",8,8),t=H(n,"gravity",8,300),i=H(n,"horizontalSpread",8,120),s=H(n,"upwardVelocityMin",8,120),a=H(n,"upwardVelocityMax",8,100),c=H(n,"particleLifetime",8,1500),u=H(n,"particleSizeMin",8,.75),d=H(n,"particleSizeMax",8,1),_=H(n,"particleCharacter",8,"✨"),p=H(n,"enableTint",8,!1),g=H(n,"enableRotation",8,!1),E=$(),b=new Set;function N(m){if(!l(E))return;const S=[];for(let f=0;f<e();f++){const C=document.createElement("div");C.className="particle-effect-point";const T=(Math.random()-.5)*i(),B=-s()-Math.random()*a();if(C.textContent=_(),p()){const V=Math.random()*360,G=80+Math.random()*40,dt=90+Math.random()*20;C.style.filter=`hue-rotate(${V}deg) saturate(${G}%) brightness(${dt}%)`}const R=u()+Math.random()*(d()-u());C.style.fontSize=R+"em";const I=m.getBoundingClientRect().width*1,O=f/(e()-1)*I-I/2;let k=0,nt=0;g()&&(k=(Math.random()-.5)*360,nt=Math.random()*360),C.style.transform=`rotate(${nt}deg)`,S.push({element:C,x:O,y:0,vx:T,vy:B,life:0,maxLife:c(),size:R,rotation:nt,rotationSpeed:k}),l(E).appendChild(C);const W=m.getBoundingClientRect(),P=W.left+W.width/2,D=W.top+W.height/2;C.style.left=P+O+"px",C.style.top=D+"px"}const M=1e3/o();let A=performance.now(),h;function v(){const f=performance.now(),C=f-A;A=f;const T=C/1e3,B=m.getBoundingClientRect(),R=B.left+B.width/2,I=B.top+B.height/2;let O=0;if(S.forEach(k=>{if(k.life+=C,k.life>=k.maxLife)return;O++,k.vy+=t()*T,k.x+=k.vx*T,k.y+=k.vy*T;const nt=k.life/k.maxLife,W=Math.max(0,Math.cos(nt*Math.PI/2)),P=Math.max(.2,1-k.life/k.maxLife*.7);g()?(k.rotation+=k.rotationSpeed*T,k.element.style.transform=`scale(${P}) rotate(${k.rotation}deg)`):k.element.style.transform=`scale(${P})`,k.element.style.left=R+k.x+"px",k.element.style.top=I+k.y+"px",k.element.style.opacity=W.toString()}),!m.isConnected){y();return}O>0?(h=setTimeout(v,M),b.add(h)):y()}function y(){S.forEach(f=>{f.element.parentNode&&f.element.parentNode.removeChild(f.element)}),b.delete(h)}h=setTimeout(v,M),b.add(h)}sn(()=>{b.forEach(m=>{clearTimeout(m)}),b.clear()}),Ot();var w=Lr();return Ut(w,m=>U(E,m),()=>l(E)),q(r,w),ir(n,"createParticleEffect",N),Ht({createParticleEffect:N})}var Fr=x('<div class="topic-stat svelte-1gj20vt"><span class="topic-name svelte-1gj20vt"> </span> <div class="topic-bar svelte-1gj20vt"><div class="topic-bar-fill svelte-1gj20vt"></div> <span class="topic-count svelte-1gj20vt"> </span></div></div>'),kr=x('<div class="topic-list svelte-1gj20vt"><div style="position: absolute; top: 0.5rem; left: 0; width: 100%; height: 1px; z-index: -1;"></div> <!></div>'),Dr=x('<div class="topic-stats svelte-1gj20vt"><h4 class="topic-header svelte-1gj20vt">Topic Interest <button class="toggle-button svelte-1gj20vt" aria-label="Toggle Topic Interest"><svg class="toggle-icon svelte-1gj20vt" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round"></path></svg></button></h4> <div class="topic-list-wrapper svelte-1gj20vt"><!></div></div>'),Ur=x('<div class="particle-effect-container svelte-1gj20vt"><!></div> <div class="stats-panel svelte-1gj20vt"><div class="summary svelte-1gj20vt"><div class="stat svelte-1gj20vt"><span class="stat-number svelte-1gj20vt"> </span> <span class="stat-label svelte-1gj20vt">Participants</span></div></div> <!></div>',1);function on(r,n){Kt(n,!1);const o=$(),e=$();let t=H(n,"userSelections",8),i=H(n,"topics",8),s=$(!0),a=$(),c=$(),u=$(0),d=$(void 0);function _(){U(s,!l(s))}function p(v,y){const f=new Map;return y.forEach(C=>{f.set(C.id,{topic:C,count:0})}),v.forEach(C=>{C.selectedTopics.forEach(T=>{const B=f.get(T);B&&B.count++})}),Array.from(f.values()).sort((C,T)=>T.count-C.count)}Mt(()=>(ht(t()),ht(i())),()=>{U(o,p(t(),i()))}),Mt(()=>ht(t()),()=>{U(e,t().length)}),Mt(()=>(l(o),l(u),l(e),l(d),l(a),l(c)),()=>{const y=l(o)[0]?.topic.id;let f=!1;l(u)===0&&l(e)>0&&(f=!0),l(u)>0&&l(d)&&y&&y!==l(d)&&l(e)>0&&(f=!0),f&&l(a)&&l(c)&&setTimeout(()=>{l(a).createParticleEffect(l(c))},300),U(u,l(e)),U(d,y)}),cn(),Ot();var g=Ur(),E=Lt(g),b=F(E);Ut(gn(b,{particleCharacter:"🏆",particleCount:24,enableRotation:!0,upwardVelocityMin:100,particleLifetime:2e3,horizontalSpread:200,$$legacy:!0}),v=>U(a,v),()=>l(a)),L(E);var N=z(E,2),w=F(N),m=F(w),S=F(m),M=F(S,!0);L(S),qn(2),L(m),L(w);var A=z(w,2);{var h=v=>{var y=Dr(),f=F(y),C=z(F(f)),T=F(C),B=F(T);L(T),L(C),L(f);var R=z(f,2),I=F(R);{var O=k=>{var nt=kr(),W=F(nt);Ut(W,D=>U(c,D),()=>l(c));var P=z(W,2);kt(P,11,()=>l(o),({topic:D,count:V})=>D.id,(D,V)=>{let G=()=>l(V).topic,dt=()=>l(V).count;var X=Fr(),it=F(X),mt=F(it,!0);L(it);var Y=z(it,2),Z=F(Y),ot=z(Z,2),Ct=F(ot,!0);L(ot),L(Y),L(X),et(()=>{Dt(X,"data-topic-id",(G(),j(()=>G().id))),ut(mt,(G(),j(()=>G().name))),Se(Z,`width: ${l(e)>0?dt()/l(e)*100:0}%`),ut(Ct,dt())}),rr(X,()=>Pr,()=>({duration:300})),q(D,X)}),L(nt),q(k,nt)};J(I,k=>{l(s)&&k(O)})}L(R),L(y),et(()=>{Dt(B,"d",l(s)?"M6 15l6-6 6 6":"M6 9l6 6 6-6"),Se(R,`height: ${l(s)?"auto":"0"}; overflow: hidden; transition: height 0.3s ease;`)}),Ft("click",C,_),q(v,y)};J(A,v=>{l(o),j(()=>l(o).length>0)&&v(h)})}L(N),et(()=>ut(M,l(e))),q(r,g),Ht()}function hn(r){const n=r-1;return n*n*n+1}function qr(r,{delay:n=0,duration:o=400,easing:e=hn,axis:t="y"}={}){const i=getComputedStyle(r),s=+i.opacity,a=t==="y"?"height":"width",c=parseFloat(i[a]),u=t==="y"?["top","bottom"]:["left","right"],d=u.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),_=parseFloat(i[`padding${d[0]}`]),p=parseFloat(i[`padding${d[1]}`]),g=parseFloat(i[`margin${d[0]}`]),E=parseFloat(i[`margin${d[1]}`]),b=parseFloat(i[`border${d[0]}Width`]),N=parseFloat(i[`border${d[1]}Width`]);return{delay:n,duration:o,easing:e,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*s};${a}: ${w*c}px;padding-${u[0]}: ${w*_}px;padding-${u[1]}: ${w*p}px;margin-${u[0]}: ${w*g}px;margin-${u[1]}: ${w*E}px;border-${u[0]}-width: ${w*b}px;border-${u[1]}-width: ${w*N}px;min-${a}: 0`}}function Vt(r,{delay:n=0,duration:o=400,easing:e=hn,start:t=0,opacity:i=0}={}){const s=getComputedStyle(r),a=+s.opacity,c=s.transform==="none"?"":s.transform,u=1-t,d=a*(1-i);return{delay:n,duration:o,easing:e,css:(_,p)=>`
			transform: ${c} scale(${1-u*p});
			opacity: ${a-d*p}
		`}}var zr=x('<button class="topic-button selected svelte-1dg5t0c"> </button>'),xr=x('<div class="selected-topics-container svelte-1dg5t0c"></div>'),jr=x('<button class="topic-button svelte-1dg5t0c"> </button>'),Vr=x('<div class="auto-save-status svelte-1dg5t0c"><span class="saving spinner svelte-1dg5t0c">↻</span></div>'),$r=x('<audio></audio> <div class="component svelte-1dg5t0c"><div class="particle-effect-container svelte-1dg5t0c"><!></div> <!> <div class="topics-cloud svelte-1dg5t0c"></div> <!></div>',1);function Or(r,n){Kt(n,!1);let o=H(n,"topics",8),e=H(n,"selectedTopics",12),t=H(n,"maxSelections",8),i=H(n,"isSubmitting",8),s=H(n,"particleFPS",8,45);const a=zn();let c=$(),u=$();function d(A){e().includes(A)?e(e().filter(v=>v!==A)):(e().length>=t()?e([...e().slice(1),A]):e([...e(),A]),l(u)&&(Ee(u,l(u).currentTime=0),Ee(u,l(u).volume=.66),l(u).play()),setTimeout(()=>{const v=document.querySelector(`[data-topic-id="${A}"].selected`);v&&l(c)&&l(c).createParticleEffect(v)},100)),a("selectionChange",{selectedTopics:e()})}Ot();var _=$r(),p=Lt(_);Ut(p,A=>U(u,A),()=>l(u));var g=z(p,2),E=F(g),b=F(E);Ut(gn(b,{get particleFPS(){return s()},particleCharacter:"👍",enableTint:!0,$$legacy:!0}),A=>U(c,A),()=>l(c)),L(E);var N=z(E,2);{var w=A=>{var h=xr();kt(h,5,()=>(ht(e()),ht(o()),j(()=>e().map(v=>o().find(y=>y.id===v)))),v=>v.id,(v,y)=>{var f=zr(),C=F(f,!0);L(f),et(()=>{Dt(f,"data-topic-id",(l(y),j(()=>l(y).id))),ut(C,(l(y),j(()=>l(y).name)))}),Ft("click",f,()=>d(l(y).id)),Pt(1,f,()=>Vt,()=>({duration:300,start:0,easing:ye})),Pt(2,f,()=>Vt,()=>({duration:175,start:0,easing:Me})),q(v,f)}),L(h),Pt(3,h,()=>qr,()=>({duration:300})),q(A,h)};J(N,A=>{ht(e()),j(()=>e().length>0)&&A(w)})}var m=z(N,2);kt(m,5,()=>(ht(o()),ht(e()),j(()=>o().filter(A=>!e().includes(A.id)).sort((A,h)=>A.name.localeCompare(h.name)))),A=>A.id,(A,h)=>{var v=jr(),y=F(v,!0);L(v),et(()=>ut(y,(l(h),j(()=>l(h).name)))),Ft("click",v,()=>d(l(h).id)),Pt(1,v,()=>Vt,()=>({duration:300,start:0,easing:ye})),Pt(2,v,()=>Vt,()=>({duration:175,start:0,easing:Me})),q(A,v)}),L(m);var S=z(m,2);{var M=A=>{var h=Vr();q(A,h)};J(S,A=>{i()&&A(M)})}L(g),et(A=>Dt(p,"src",A),[()=>(ht(Be),j(()=>`${Be("/")}pop.ogg`))]),q(r,_),Ht()}var Kr=x('<div class="loading svelte-cnc38a"><h2 class="svelte-cnc38a">Loading tangle...</h2></div>'),Hr=x(`<div class="error svelte-cnc38a"><h2 class="svelte-cnc38a">Tangle not found</h2> <p class="svelte-cnc38a">The tangle you're looking for doesn't exist or has expired.</p> <a href="/" class="svelte-cnc38a">Create a new tangle</a></div>`),Jr=x('<img alt="QR Code for tangle" class="svelte-cnc38a"/>'),Yr=x('<button class="tangle-button svelte-cnc38a"> </button>'),Gr=x('<div class="organizer-section panel svelte-cnc38a"><div class="share-section svelte-cnc38a"><div class="share-content svelte-cnc38a"><div class="qr-code svelte-cnc38a"><!></div> <div class="link-section svelte-cnc38a"><input type="text" readonly="" class="svelte-cnc38a"/> <button class="svelte-cnc38a">Copy Link</button></div></div></div> <div class="participants-section svelte-cnc38a"><!></div> <!></div>'),Qr=x('<div class="user-section panel svelte-cnc38a"><div class="participants-section svelte-cnc38a"><!></div></div>'),Wr=x('<div class="topic-selection svelte-cnc38a"><h2 class="svelte-cnc38a">Choose Your Topics</h2> <p class="svelte-cnc38a"></p> <!></div>'),Xr=x('<div class="user-badge svelte-cnc38a">Your Group</div>'),Zr=x('<li class="svelte-cnc38a"> </li>'),ti=x('<div class="icebreakers svelte-cnc38a"><strong class="svelte-cnc38a">Icebreaker Questions:</strong> <ul class="svelte-cnc38a"></ul></div>'),ei=x('<div><h3 class="svelte-cnc38a"> </h3> <!> <div class="group-size svelte-cnc38a"><strong class="svelte-cnc38a">Members:</strong> </div> <!></div>'),ni=x('<div class="groups-list svelte-cnc38a"></div>'),ri=x('<div class="unassigned-notice svelte-cnc38a"><p class="svelte-cnc38a"><strong class="svelte-cnc38a">Note:</strong> </p></div>'),ii=x('<div class="results-section panel svelte-cnc38a"><h2 class="svelte-cnc38a">Breakout Groups Created!</h2> <!> <!></div>'),oi=x('<header class="svelte-cnc38a"><h1 class="svelte-cnc38a"> </h1> <p class="svelte-cnc38a"> </p></header> <!> <!>',1),ai=x('<div class="container svelte-cnc38a"><!></div>');function vi(r,n){Kt(n,!1);const[o,e]=Xn(),t=()=>Zn(ar,"$page",o),i=$(),s=$();let a=$(null),c=$([]),u=$(null),d=$([]),_=$(!0),p=$(!1),g=$(!1),E=$(""),b=$(""),N=null,w=$(null),m=$("");const S=3;xn(async()=>{U(b,window.location.href),U(w,t().url.searchParams.get("id")),U(m,await Kn("user")),await A(),await h(),y()}),sn(()=>{M()});function M(){N&&(N(),N=null)}async function A(){try{U(E,await Ir.toDataURL(l(b),{width:384,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}))}catch(P){console.error("Failed to generate QR code:",P)}}async function h(){if(l(w))try{if(U(a,await Bt.getRoom(l(w))),l(a)){if(l(a).style&&typeof l(a).style=="string"){const P=Yn.find(D=>D.name.toLowerCase()===l(a).style.toLowerCase());P&&Gn(P)}await v()}}catch(P){console.error("Failed to load room:",P)}finally{U(_,!1)}}async function v(){if(l(a))try{const{selections:P,results:D}=await Bt.getRoomData(l(a).id);U(c,P),D&&U(u,D);const V=l(c).find(G=>G.userId===l(m));V&&U(d,V.selectedTopics)}catch(P){console.error("Failed to load room data:",P)}}function y(){!l(a)||l(u)||(N=Bt.createPollingSubscription(()=>Bt.getRoomData(l(a).id),({selections:P,results:D})=>{if(U(c,P),D)return U(u,D),!1;const V=P.find(G=>G.userId===l(m));return V?U(d,V.selectedTopics):U(d,[]),!0}))}function f(P){U(d,P.detail.selectedTopics),C()}async function C(){if(l(a)){U(p,!0);try{const P={userId:l(m),roomId:l(a).id,selectedTopics:l(d),updatedAt:new Date};await Bt.submitUserSelection(P)}catch(P){console.error("Failed to submit selection:",P)}finally{U(p,!1)}}}async function T(){if(l(a)){U(g,!0);try{U(u,await Bt.createBreakoutGroups(l(a).id,l(m))),l(u)&&M()}catch(P){console.error("Failed to create breakout groups:",P),alert("Failed to create breakout groups. Please try again.")}finally{U(g,!1)}}}function B(){navigator.clipboard.writeText(l(b))}function R(P){if(!l(a))return P;const D=l(a).topics.find(V=>V.id===P);return D?D.name:P}function I(P){return P.members.includes(l(m))}Mt(()=>(l(a),l(m)),()=>{U(i,l(a)?l(m)===l(a).organizerId:!1)}),Mt(()=>l(u),()=>{l(u)&&l(u).groups.forEach(P=>{P.icebreakerQuestions=P.icebreakerQuestions.map(D=>D.replace(/\[.*?\]\(.*?\)/g,""))})}),Mt(()=>(l(u),l(m)),()=>{U(s,l(u)?(()=>{const P=l(u).groups.find(V=>V.members.includes(l(m))),D=l(u).groups.filter(V=>!V.members.includes(l(m)));return P?[P,...D]:l(u).groups})():[])}),cn(),Ot();var O=ai();jn(P=>{et(()=>Vn.title=`Tangle ${l(w)??""} - Topic Tangle`)});var k=F(O);{var nt=P=>{var D=Kr();q(P,D)},W=P=>{var D=Te(),V=Lt(D);{var G=X=>{var it=Hr();q(X,it)},dt=X=>{var it=oi(),mt=Lt(it),Y=F(mt),Z=F(Y);L(Y);var ot=z(Y,2),Ct=F(ot);L(ot),L(mt);var Ce=z(mt,2);{var vn=Q=>{var tt=Gr(),ft=F(tt),wt=F(ft),vt=F(wt),bt=F(vt);{var at=rt=>{var lt=Jr();et(()=>Dt(lt,"src",l(E))),q(rt,lt)};J(bt,rt=>{l(E)&&rt(at)})}L(vt);var st=z(vt,2),ct=F(st);Qn(ct);var K=z(ct,2);L(st),L(wt),L(ft);var yt=z(ft,2),qt=F(yt);{var At=rt=>{on(rt,{get userSelections(){return l(c)},get topics(){return l(a),j(()=>l(a).topics)}})};J(qt,rt=>{l(a)&&rt(At)})}L(yt);var Jt=z(yt,2);{var zt=rt=>{var lt=Yr(),Yt=F(lt,!0);L(lt),et(()=>{lt.disabled=(l(g),l(c),j(()=>l(g)||l(c).length===0)),ut(Yt,l(g)?"Creating Groups...":"Tangle!")}),Ft("click",lt,T),q(rt,lt)};J(Jt,rt=>{l(u)||rt(zt)})}L(tt),et(()=>Wn(ct,l(b))),Ft("click",K,B),q(Q,tt)},pn=Q=>{var tt=Te(),ft=Lt(tt);{var wt=vt=>{var bt=Qr(),at=F(bt),st=F(at);{var ct=K=>{on(K,{get userSelections(){return l(c)},get topics(){return l(a),j(()=>l(a).topics)}})};J(st,K=>{l(a)&&K(ct)})}L(at),L(bt),q(vt,bt)};J(ft,vt=>{l(u)&&vt(wt)})}q(Q,tt)};J(Ce,Q=>{l(i)?Q(vn):Q(pn,!1)})}var mn=z(Ce,2);{var wn=Q=>{var tt=Wr(),ft=z(F(tt),2);ft.textContent="Select up to 3 topics you're interested in discussing:";var wt=z(ft,2);Or(wt,{get topics(){return l(a),j(()=>l(a).topics)},get selectedTopics(){return l(d)},maxSelections:S,get isSubmitting(){return l(p)},$$events:{selectionChange:f}}),L(tt),q(Q,tt)},yn=Q=>{var tt=ii(),ft=z(F(tt),2);{var wt=at=>{var st=ni();kt(st,5,()=>l(s),ct=>ct.id,(ct,K)=>{var yt=ei();let qt;var At=F(yt),Jt=F(At,!0);L(At);var zt=z(At,2);{var rt=pt=>{var Et=Xr();q(pt,Et)};J(zt,pt=>{l(K),j(()=>I(l(K)))&&pt(rt)})}var lt=z(zt,2),Yt=z(F(lt));L(lt);var _n=z(lt,2);{var Cn=pt=>{var Et=ti(),be=z(F(Et),2);kt(be,5,()=>(l(K),j(()=>l(K).icebreakerQuestions)),Jn,(bn,En)=>{var Gt=Zr(),Tn=F(Gt,!0);L(Gt),et(()=>ut(Tn,l(En))),q(bn,Gt)}),L(be),L(Et),q(pt,Et)};J(_n,pt=>{l(K),j(()=>l(K).icebreakerQuestions.length>0)&&pt(Cn)})}L(yt),et((pt,Et)=>{qt=Hn(yt,1,"group-card svelte-cnc38a",null,qt,pt),ut(Jt,Et),ut(Yt,` ${l(K),j(()=>l(K).members.length)??""}`)},[()=>({"user-group":I(l(K))}),()=>(l(K),j(()=>R(l(K).assignedTopics[0])))]),q(ct,yt)}),L(st),q(at,st)};J(ft,at=>{l(u),j(()=>l(u).groups.length>0)&&at(wt)})}var vt=z(ft,2);{var bt=at=>{var st=ri(),ct=F(st),K=z(F(ct));L(ct),L(st),et(()=>ut(K,` ${l(u),j(()=>l(u).unassignedUsers.length)??""} participants couldn't be assigned to a group.`)),q(at,st)};J(vt,at=>{l(u),j(()=>l(u).unassignedUsers.length>0)&&at(bt)})}L(tt),q(Q,tt)};J(mn,Q=>{l(u)?Q(yn,!1):Q(wn)})}et(Q=>{ut(Z,`Tangle: ${l(a),j(()=>l(a).id)??""}`),ut(Ct,`Created ${Q??""}`)},[()=>(ht(rn),l(a),j(()=>rn(l(a).createdAt)))]),q(X,it)};J(V,X=>{l(a)?X(dt,!1):X(G)},!0)}q(P,D)};J(k,P=>{l(_)?P(nt):P(W,!1)})}L(O),q(r,O),Ht(),e()}export{vi as component};
