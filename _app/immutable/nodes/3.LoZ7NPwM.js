import"../chunks/DsnmJJEf.js";import{i as Ot}from"../chunks/u8X0A2k3.js";import{v as Tn,aY as Sn,E as Bn,aZ as Rn,a_ as Mn,F as An,x as V,a$ as In,b0 as Pn,b1 as Nn,b2 as rn,b3 as Ln,I as Fn,M as It,l as kn,J as Dn,_ as Kt,aJ as on,$ as x,u as U,N as $,n as l,a2 as q,a3 as Ht,aK as Mt,Y as pt,aL as an,a0 as xt,a4 as F,a5 as L,a6 as z,aI as Un,a1 as rt,a7 as ut,aM as Lt,aX as qn,aj as sn,b4 as zn,b5 as xn,am as Ee}from"../chunks/BmOFv_lr.js";import{p as H,i as J}from"../chunks/DshCCsDL.js";import{l as jn,c as Vn,a as Te,e as Ft,g as $n,R as Bt,s as On,i as Kn}from"../chunks/-_6-fIVp.js";import{s as jt,t as Hn,a as Jn,r as Yn,b as Gn}from"../chunks/CTUuzB97.js";import{b as Vt,s as Qn,a as Wn}from"../chunks/DMvuwqTS.js";import{s as Xn}from"../chunks/CFLCodvA.js";function Ut(r,n){rn(()=>{r.dispatchEvent(new CustomEvent(n))})}function Zn(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const n=r.split("-");return n.length===1?n[0]:n[0]+n.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function Se(r){const n={},o=r.split(";");for(const e of o){const[t,i]=e.split(":");if(!t||i===void 0)break;const s=Zn(t.trim());n[s]=i.trim()}return n}const tr=r=>r;function er(r,n,o){var e=Vn,t,i,s,a=null;e.a??={element:r,measure(){t=this.element.getBoundingClientRect()},apply(){if(s?.abort(),i=this.element.getBoundingClientRect(),t.left!==i.left||t.right!==i.right||t.top!==i.top||t.bottom!==i.bottom){const c=n()(this.element,{from:t,to:i},o?.());s=$t(this.element,c,void 0,1,()=>{s?.abort(),s=void 0})}},fix(){if(!r.getAnimations().length){var{position:c,width:u,height:f}=getComputedStyle(r);if(c!=="absolute"&&c!=="fixed"){var y=r.style;a={position:y.position,width:y.width,height:y.height,transform:y.transform},y.position="absolute",y.width=u,y.height=f;var v=r.getBoundingClientRect();if(t.left!==v.left||t.top!==v.top){var g=`translate(${t.left-v.left}px, ${t.top-v.top}px)`;y.transform=y.transform?`${y.transform} ${g}`:g}}}},unfix(){if(a){var c=r.style;c.position=a.position,c.width=a.width,c.height=a.height,c.transform=a.transform}}},e.a.element=r}function Pt(r,n,o,e){var t=(r&Pn)!==0,i=(r&Nn)!==0,s=t&&i,a=(r&In)!==0,c=s?"both":t?"in":"out",u,f=n.inert,y=n.style.overflow,v,g;function S(){return rn(()=>u??=o()(n,e?.()??{},{direction:c}))}var E={is_global:a,in(){if(n.inert=f,!t){g?.abort(),g?.reset?.();return}i||v?.abort(),Ut(n,"introstart"),v=$t(n,S(),g,1,()=>{Ut(n,"introend"),v?.abort(),v=u=void 0,n.style.overflow=y})},out(h){if(!i){h?.(),u=void 0;return}n.inert=!0,Ut(n,"outrostart"),g=$t(n,S(),v,0,()=>{Ut(n,"outroend"),h?.()})},stop:()=>{v?.abort(),g?.abort()}},N=Tn;if((N.transitions??=[]).push(E),t&&Sn){var m=a;if(!m){for(var w=N.parent;w&&(w.f&Bn)!==0;)for(;(w=w.parent)&&(w.f&Rn)===0;);m=!w||(w.f&Mn)!==0}m&&An(()=>{V(()=>E.in())})}}function $t(r,n,o,e,t){var i=e===1;if(Ln(n)){var s,a=!1;return Fn(()=>{if(!a){var N=n({direction:i?"in":"out"});s=$t(r,N,o,e,t)}}),{abort:()=>{a=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(o?.deactivate(),!n?.duration)return t(),{abort:It,deactivate:It,reset:It,t:()=>e};const{delay:c=0,css:u,tick:f,easing:y=tr}=n;var v=[];if(i&&o===void 0&&(f&&f(0,1),u)){var g=Se(u(0,1));v.push(g,g)}var S=()=>1-e,E=r.animate(v,{duration:c,fill:"forwards"});return E.onfinish=()=>{E.cancel();var N=o?.t()??1-e;o?.abort();var m=e-N,w=n.duration*Math.abs(m),h=[];if(w>0){var b=!1;if(u)for(var P=Math.ceil(w/16.666666666666668),p=0;p<=P;p+=1){var _=N+m*y(p/P),T=Se(u(_,1-_));h.push(T),b||=T.overflow==="hidden"}b&&(r.style.overflow="hidden"),S=()=>{var d=E.currentTime;return N+m*y(d/w)},f&&jn(()=>{if(E.playState!=="running")return!1;var d=S();return f(d,1-d),!0})}E=r.animate(h,{duration:w,fill:"forwards"}),E.onfinish=()=>{S=()=>e,f?.(e,1-e),t()}},{abort:()=>{E&&(E.cancel(),E.effect=null,E.onfinish=It)},deactivate:()=>{t=It},reset:()=>{e===0&&f?.(1,0)},t:()=>S()}}function nr(r,n,o){var e=kn(r,n);e&&e.set&&(r[n]=o,Dn(()=>{r[n]=null}))}const rr=()=>{const r=Xn;return{page:{subscribe:r.page.subscribe},navigating:{subscribe:r.navigating.subscribe},updated:r.updated}},ir={subscribe(r){return rr().page.subscribe(r)}};function Be(r){return r*r*r}function ye(r){const n=r-1;return n*n*n+1}function or(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rt={},Qt,Re;function ar(){return Re||(Re=1,Qt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Qt}var Wt={},_t={},Me;function Tt(){if(Me)return _t;Me=1;let r;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return _t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},_t.getSymbolTotalCodewords=function(e){return n[e]},_t.getBCHDigit=function(o){let e=0;for(;o!==0;)e++,o>>>=1;return e},_t.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');r=e},_t.isKanjiModeEnabled=function(){return typeof r<"u"},_t.toSJIS=function(e){return r(e)},_t}var Xt={},Ae;function _e(){return Ae||(Ae=1,function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function n(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+o)}}r.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},r.from=function(e,t){if(r.isValid(e))return e;try{return n(e)}catch{return t}}}(Xt)),Xt}var Zt,Ie;function sr(){if(Ie)return Zt;Ie=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(n){const o=Math.floor(n/8);return(this.buffer[o]>>>7-n%8&1)===1},put:function(n,o){for(let e=0;e<o;e++)this.putBit((n>>>o-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),n&&(this.buffer[o]|=128>>>this.length%8),this.length++}},Zt=r,Zt}var te,Pe;function cr(){if(Pe)return te;Pe=1;function r(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}return r.prototype.set=function(n,o,e,t){const i=n*this.size+o;this.data[i]=e,t&&(this.reservedBit[i]=!0)},r.prototype.get=function(n,o){return this.data[n*this.size+o]},r.prototype.xor=function(n,o,e){this.data[n*this.size+o]^=e},r.prototype.isReserved=function(n,o){return this.reservedBit[n*this.size+o]},te=r,te}var ee={},Ne;function lr(){return Ne||(Ne=1,function(r){const n=Tt().getSymbolSize;r.getRowColCoords=function(e){if(e===1)return[];const t=Math.floor(e/7)+2,i=n(e),s=i===145?26:Math.ceil((i-13)/(2*t-2))*2,a=[i-7];for(let c=1;c<t-1;c++)a[c]=a[c-1]-s;return a.push(6),a.reverse()},r.getPositions=function(e){const t=[],i=r.getRowColCoords(e),s=i.length;for(let a=0;a<s;a++)for(let c=0;c<s;c++)a===0&&c===0||a===0&&c===s-1||a===s-1&&c===0||t.push([i[a],i[c]]);return t}}(ee)),ee}var ne={},Le;function ur(){if(Le)return ne;Le=1;const r=Tt().getSymbolSize,n=7;return ne.getPositions=function(e){const t=r(e);return[[0,0],[t-n,0],[0,t-n]]},ne}var re={},Fe;function fr(){return Fe||(Fe=1,function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};r.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7},r.from=function(t){return r.isValid(t)?parseInt(t,10):void 0},r.getPenaltyN1=function(t){const i=t.size;let s=0,a=0,c=0,u=null,f=null;for(let y=0;y<i;y++){a=c=0,u=f=null;for(let v=0;v<i;v++){let g=t.get(y,v);g===u?a++:(a>=5&&(s+=n.N1+(a-5)),u=g,a=1),g=t.get(v,y),g===f?c++:(c>=5&&(s+=n.N1+(c-5)),f=g,c=1)}a>=5&&(s+=n.N1+(a-5)),c>=5&&(s+=n.N1+(c-5))}return s},r.getPenaltyN2=function(t){const i=t.size;let s=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const u=t.get(a,c)+t.get(a,c+1)+t.get(a+1,c)+t.get(a+1,c+1);(u===4||u===0)&&s++}return s*n.N2},r.getPenaltyN3=function(t){const i=t.size;let s=0,a=0,c=0;for(let u=0;u<i;u++){a=c=0;for(let f=0;f<i;f++)a=a<<1&2047|t.get(u,f),f>=10&&(a===1488||a===93)&&s++,c=c<<1&2047|t.get(f,u),f>=10&&(c===1488||c===93)&&s++}return s*n.N3},r.getPenaltyN4=function(t){let i=0;const s=t.data.length;for(let c=0;c<s;c++)i+=t.data[c];return Math.abs(Math.ceil(i*100/s/5)-10)*n.N4};function o(e,t,i){switch(e){case r.Patterns.PATTERN000:return(t+i)%2===0;case r.Patterns.PATTERN001:return t%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(t+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return t*i%2+t*i%3===0;case r.Patterns.PATTERN110:return(t*i%2+t*i%3)%2===0;case r.Patterns.PATTERN111:return(t*i%3+(t+i)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}r.applyMask=function(t,i){const s=i.size;for(let a=0;a<s;a++)for(let c=0;c<s;c++)i.isReserved(c,a)||i.xor(c,a,o(t,c,a))},r.getBestMask=function(t,i){const s=Object.keys(r.Patterns).length;let a=0,c=1/0;for(let u=0;u<s;u++){i(u),r.applyMask(u,t);const f=r.getPenaltyN1(t)+r.getPenaltyN2(t)+r.getPenaltyN3(t)+r.getPenaltyN4(t);r.applyMask(u,t),f<c&&(c=f,a=u)}return a}}(re)),re}var qt={},ke;function cn(){if(ke)return qt;ke=1;const r=_e(),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return qt.getBlocksCount=function(t,i){switch(i){case r.L:return n[(t-1)*4+0];case r.M:return n[(t-1)*4+1];case r.Q:return n[(t-1)*4+2];case r.H:return n[(t-1)*4+3];default:return}},qt.getTotalCodewordsCount=function(t,i){switch(i){case r.L:return o[(t-1)*4+0];case r.M:return o[(t-1)*4+1];case r.Q:return o[(t-1)*4+2];case r.H:return o[(t-1)*4+3];default:return}},qt}var ie={},Nt={},De;function dr(){if(De)return Nt;De=1;const r=new Uint8Array(512),n=new Uint8Array(256);return function(){let e=1;for(let t=0;t<255;t++)r[t]=e,n[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)r[t]=r[t-255]}(),Nt.log=function(e){if(e<1)throw new Error("log("+e+")");return n[e]},Nt.exp=function(e){return r[e]},Nt.mul=function(e,t){return e===0||t===0?0:r[n[e]+n[t]]},Nt}var Ue;function gr(){return Ue||(Ue=1,function(r){const n=dr();r.mul=function(e,t){const i=new Uint8Array(e.length+t.length-1);for(let s=0;s<e.length;s++)for(let a=0;a<t.length;a++)i[s+a]^=n.mul(e[s],t[a]);return i},r.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){const s=i[0];for(let c=0;c<t.length;c++)i[c]^=n.mul(t[c],s);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},r.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=r.mul(t,new Uint8Array([1,n.exp(i)]));return t}}(ie)),ie}var oe,qe;function hr(){if(qe)return oe;qe=1;const r=gr();function n(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}return n.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},n.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const i=r.mod(t,this.genPoly),s=this.degree-i.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(i,s),a}return i},oe=n,oe}var ae={},se={},ce={},ze;function ln(){return ze||(ze=1,ce.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}),ce}var gt={},xe;function un(){if(xe)return gt;xe=1;const r="[0-9]+",n="[A-Z $%*+\\-./:]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+`)(?:.|[\r
]))+`;gt.KANJI=new RegExp(o,"g"),gt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),gt.BYTE=new RegExp(e,"g"),gt.NUMERIC=new RegExp(r,"g"),gt.ALPHANUMERIC=new RegExp(n,"g");const t=new RegExp("^"+o+"$"),i=new RegExp("^"+r+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return gt.testKanji=function(c){return t.test(c)},gt.testNumeric=function(c){return i.test(c)},gt.testAlphanumeric=function(c){return s.test(c)},gt}var je;function St(){return je||(je=1,function(r){const n=ln(),o=un();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,s){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!n.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?i.ccBits[0]:s<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return o.testNumeric(i)?r.NUMERIC:o.testAlphanumeric(i)?r.ALPHANUMERIC:o.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+t)}}r.from=function(i,s){if(r.isValid(i))return i;try{return e(i)}catch{return s}}}(se)),se}var Ve;function vr(){return Ve||(Ve=1,function(r){const n=Tt(),o=cn(),e=_e(),t=St(),i=ln(),s=7973,a=n.getBCHDigit(s);function c(v,g,S){for(let E=1;E<=40;E++)if(g<=r.getCapacity(E,S,v))return E}function u(v,g){return t.getCharCountIndicator(v,g)+4}function f(v,g){let S=0;return v.forEach(function(E){const N=u(E.mode,g);S+=N+E.getBitsLength()}),S}function y(v,g){for(let S=1;S<=40;S++)if(f(v,S)<=r.getCapacity(S,g,t.MIXED))return S}r.from=function(g,S){return i.isValid(g)?parseInt(g,10):S},r.getCapacity=function(g,S,E){if(!i.isValid(g))throw new Error("Invalid QR Code version");typeof E>"u"&&(E=t.BYTE);const N=n.getSymbolTotalCodewords(g),m=o.getTotalCodewordsCount(g,S),w=(N-m)*8;if(E===t.MIXED)return w;const h=w-u(E,g);switch(E){case t.NUMERIC:return Math.floor(h/10*3);case t.ALPHANUMERIC:return Math.floor(h/11*2);case t.KANJI:return Math.floor(h/13);case t.BYTE:default:return Math.floor(h/8)}},r.getBestVersionForData=function(g,S){let E;const N=e.from(S,e.M);if(Array.isArray(g)){if(g.length>1)return y(g,N);if(g.length===0)return 1;E=g[0]}else E=g;return c(E.mode,E.getLength(),N)},r.getEncodedBits=function(g){if(!i.isValid(g)||g<7)throw new Error("Invalid QR Code version");let S=g<<12;for(;n.getBCHDigit(S)-a>=0;)S^=s<<n.getBCHDigit(S)-a;return g<<12|S}}(ae)),ae}var le={},$e;function pr(){if($e)return le;$e=1;const r=Tt(),n=1335,o=21522,e=r.getBCHDigit(n);return le.getEncodedBits=function(i,s){const a=i.bit<<3|s;let c=a<<10;for(;r.getBCHDigit(c)-e>=0;)c^=n<<r.getBCHDigit(c)-e;return(a<<10|c)^o},le}var ue={},fe,Oe;function mr(){if(Oe)return fe;Oe=1;const r=St();function n(o){this.mode=r.NUMERIC,this.data=o.toString()}return n.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){let t,i,s;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),s=parseInt(i,10),e.put(s,10);const a=this.data.length-t;a>0&&(i=this.data.substr(t),s=parseInt(i,10),e.put(s,a*3+1))},fe=n,fe}var de,Ke;function wr(){if(Ke)return de;Ke=1;const r=St(),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=r.ALPHANUMERIC,this.data=e}return o.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let i;for(i=0;i+2<=this.data.length;i+=2){let s=n.indexOf(this.data[i])*45;s+=n.indexOf(this.data[i+1]),t.put(s,11)}this.data.length%2&&t.put(n.indexOf(this.data[i]),6)},de=o,de}var ge,He;function yr(){if(He)return ge;He=1;const r=St();function n(o){this.mode=r.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}return n.getBitsLength=function(e){return e*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(o){for(let e=0,t=this.data.length;e<t;e++)o.put(this.data[e],8)},ge=n,ge}var he,Je;function _r(){if(Je)return he;Je=1;const r=St(),n=Tt();function o(e){this.mode=r.KANJI,this.data=e}return o.getBitsLength=function(t){return t*13},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let i=n.toSJIS(this.data[t]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),e.put(i,13)}},he=o,he}var ve={exports:{}},Ye;function Cr(){return Ye||(Ye=1,function(r){var n={single_source_shortest_paths:function(o,e,t){var i={},s={};s[e]=0;var a=n.PriorityQueue.make();a.push(e,0);for(var c,u,f,y,v,g,S,E,N;!a.empty();){c=a.pop(),u=c.value,y=c.cost,v=o[u]||{};for(f in v)v.hasOwnProperty(f)&&(g=v[f],S=y+g,E=s[f],N=typeof s[f]>"u",(N||E>S)&&(s[f]=S,a.push(f,S),i[f]=u))}if(typeof t<"u"&&typeof s[t]>"u"){var m=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(m)}return i},extract_shortest_path_from_predecessor_list:function(o,e){for(var t=[],i=e;i;)t.push(i),o[i],i=o[i];return t.reverse(),t},find_path:function(o,e,t){var i=n.single_source_shortest_paths(o,e,t);return n.extract_shortest_path_from_predecessor_list(i,t)},PriorityQueue:{make:function(o){var e=n.PriorityQueue,t={},i;o=o||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t.queue=[],t.sorter=o.sorter||e.default_sorter,t},default_sorter:function(o,e){return o.cost-e.cost},push:function(o,e){var t={value:o,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=n}(ve)),ve.exports}var Ge;function br(){return Ge||(Ge=1,function(r){const n=St(),o=mr(),e=wr(),t=yr(),i=_r(),s=un(),a=Tt(),c=Cr();function u(m){return unescape(encodeURIComponent(m)).length}function f(m,w,h){const b=[];let P;for(;(P=m.exec(h))!==null;)b.push({data:P[0],index:P.index,mode:w,length:P[0].length});return b}function y(m){const w=f(s.NUMERIC,n.NUMERIC,m),h=f(s.ALPHANUMERIC,n.ALPHANUMERIC,m);let b,P;return a.isKanjiModeEnabled()?(b=f(s.BYTE,n.BYTE,m),P=f(s.KANJI,n.KANJI,m)):(b=f(s.BYTE_KANJI,n.BYTE,m),P=[]),w.concat(h,b,P).sort(function(_,T){return _.index-T.index}).map(function(_){return{data:_.data,mode:_.mode,length:_.length}})}function v(m,w){switch(w){case n.NUMERIC:return o.getBitsLength(m);case n.ALPHANUMERIC:return e.getBitsLength(m);case n.KANJI:return i.getBitsLength(m);case n.BYTE:return t.getBitsLength(m)}}function g(m){return m.reduce(function(w,h){const b=w.length-1>=0?w[w.length-1]:null;return b&&b.mode===h.mode?(w[w.length-1].data+=h.data,w):(w.push(h),w)},[])}function S(m){const w=[];for(let h=0;h<m.length;h++){const b=m[h];switch(b.mode){case n.NUMERIC:w.push([b,{data:b.data,mode:n.ALPHANUMERIC,length:b.length},{data:b.data,mode:n.BYTE,length:b.length}]);break;case n.ALPHANUMERIC:w.push([b,{data:b.data,mode:n.BYTE,length:b.length}]);break;case n.KANJI:w.push([b,{data:b.data,mode:n.BYTE,length:u(b.data)}]);break;case n.BYTE:w.push([{data:b.data,mode:n.BYTE,length:u(b.data)}])}}return w}function E(m,w){const h={},b={start:{}};let P=["start"];for(let p=0;p<m.length;p++){const _=m[p],T=[];for(let d=0;d<_.length;d++){const C=_[d],B=""+p+d;T.push(B),h[B]={node:C,lastCount:0},b[B]={};for(let R=0;R<P.length;R++){const M=P[R];h[M]&&h[M].node.mode===C.mode?(b[M][B]=v(h[M].lastCount+C.length,C.mode)-v(h[M].lastCount,C.mode),h[M].lastCount+=C.length):(h[M]&&(h[M].lastCount=C.length),b[M][B]=v(C.length,C.mode)+4+n.getCharCountIndicator(C.mode,w))}}P=T}for(let p=0;p<P.length;p++)b[P[p]].end=0;return{map:b,table:h}}function N(m,w){let h;const b=n.getBestModeForData(m);if(h=n.from(w,b),h!==n.BYTE&&h.bit<b.bit)throw new Error('"'+m+'" cannot be encoded with mode '+n.toString(h)+`.
 Suggested mode is: `+n.toString(b));switch(h===n.KANJI&&!a.isKanjiModeEnabled()&&(h=n.BYTE),h){case n.NUMERIC:return new o(m);case n.ALPHANUMERIC:return new e(m);case n.KANJI:return new i(m);case n.BYTE:return new t(m)}}r.fromArray=function(w){return w.reduce(function(h,b){return typeof b=="string"?h.push(N(b,null)):b.data&&h.push(N(b.data,b.mode)),h},[])},r.fromString=function(w,h){const b=y(w,a.isKanjiModeEnabled()),P=S(b),p=E(P,h),_=c.find_path(p.map,"start","end"),T=[];for(let d=1;d<_.length-1;d++)T.push(p.table[_[d]].node);return r.fromArray(g(T))},r.rawSplit=function(w){return r.fromArray(y(w,a.isKanjiModeEnabled()))}}(ue)),ue}var Qe;function Er(){if(Qe)return Wt;Qe=1;const r=Tt(),n=_e(),o=sr(),e=cr(),t=lr(),i=ur(),s=fr(),a=cn(),c=hr(),u=vr(),f=pr(),y=St(),v=br();function g(p,_){const T=p.size,d=i.getPositions(_);for(let C=0;C<d.length;C++){const B=d[C][0],R=d[C][1];for(let M=-1;M<=7;M++)if(!(B+M<=-1||T<=B+M))for(let A=-1;A<=7;A++)R+A<=-1||T<=R+A||(M>=0&&M<=6&&(A===0||A===6)||A>=0&&A<=6&&(M===0||M===6)||M>=2&&M<=4&&A>=2&&A<=4?p.set(B+M,R+A,!0,!0):p.set(B+M,R+A,!1,!0))}}function S(p){const _=p.size;for(let T=8;T<_-8;T++){const d=T%2===0;p.set(T,6,d,!0),p.set(6,T,d,!0)}}function E(p,_){const T=t.getPositions(_);for(let d=0;d<T.length;d++){const C=T[d][0],B=T[d][1];for(let R=-2;R<=2;R++)for(let M=-2;M<=2;M++)R===-2||R===2||M===-2||M===2||R===0&&M===0?p.set(C+R,B+M,!0,!0):p.set(C+R,B+M,!1,!0)}}function N(p,_){const T=p.size,d=u.getEncodedBits(_);let C,B,R;for(let M=0;M<18;M++)C=Math.floor(M/3),B=M%3+T-8-3,R=(d>>M&1)===1,p.set(C,B,R,!0),p.set(B,C,R,!0)}function m(p,_,T){const d=p.size,C=f.getEncodedBits(_,T);let B,R;for(B=0;B<15;B++)R=(C>>B&1)===1,B<6?p.set(B,8,R,!0):B<8?p.set(B+1,8,R,!0):p.set(d-15+B,8,R,!0),B<8?p.set(8,d-B-1,R,!0):B<9?p.set(8,15-B-1+1,R,!0):p.set(8,15-B-1,R,!0);p.set(d-8,8,1,!0)}function w(p,_){const T=p.size;let d=-1,C=T-1,B=7,R=0;for(let M=T-1;M>0;M-=2)for(M===6&&M--;;){for(let A=0;A<2;A++)if(!p.isReserved(C,M-A)){let O=!1;R<_.length&&(O=(_[R]>>>B&1)===1),p.set(C,M-A,O),B--,B===-1&&(R++,B=7)}if(C+=d,C<0||T<=C){C-=d,d=-d;break}}}function h(p,_,T){const d=new o;T.forEach(function(A){d.put(A.mode.bit,4),d.put(A.getLength(),y.getCharCountIndicator(A.mode,p)),A.write(d)});const C=r.getSymbolTotalCodewords(p),B=a.getTotalCodewordsCount(p,_),R=(C-B)*8;for(d.getLengthInBits()+4<=R&&d.put(0,4);d.getLengthInBits()%8!==0;)d.putBit(0);const M=(R-d.getLengthInBits())/8;for(let A=0;A<M;A++)d.put(A%2?17:236,8);return b(d,p,_)}function b(p,_,T){const d=r.getSymbolTotalCodewords(_),C=a.getTotalCodewordsCount(_,T),B=d-C,R=a.getBlocksCount(_,T),M=d%R,A=R-M,O=Math.floor(d/R),k=Math.floor(B/R),et=k+1,W=O-k,I=new c(W);let D=0;const j=new Array(R),G=new Array(R);let dt=0;const X=new Uint8Array(p.buffer);for(let ot=0;ot<R;ot++){const Ct=ot<A?k:et;j[ot]=X.slice(D,D+Ct),G[ot]=I.encode(j[ot]),D+=Ct,dt=Math.max(dt,Ct)}const it=new Uint8Array(d);let mt=0,Y,Z;for(Y=0;Y<dt;Y++)for(Z=0;Z<R;Z++)Y<j[Z].length&&(it[mt++]=j[Z][Y]);for(Y=0;Y<W;Y++)for(Z=0;Z<R;Z++)it[mt++]=G[Z][Y];return it}function P(p,_,T,d){let C;if(Array.isArray(p))C=v.fromArray(p);else if(typeof p=="string"){let O=_;if(!O){const k=v.rawSplit(p);O=u.getBestVersionForData(k,T)}C=v.fromString(p,O||40)}else throw new Error("Invalid data");const B=u.getBestVersionForData(C,T);if(!B)throw new Error("The amount of data is too big to be stored in a QR Code");if(!_)_=B;else if(_<B)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+B+`.
`);const R=h(_,T,C),M=r.getSymbolSize(_),A=new e(M);return g(A,_),S(A),E(A,_),m(A,T,0),_>=7&&N(A,_),w(A,R),isNaN(d)&&(d=s.getBestMask(A,m.bind(null,A,T))),s.applyMask(d,A),m(A,T,d),{modules:A,version:_,errorCorrectionLevel:T,maskPattern:d,segments:C}}return Wt.create=function(_,T){if(typeof _>"u"||_==="")throw new Error("No input text");let d=n.M,C,B;return typeof T<"u"&&(d=n.from(T.errorCorrectionLevel,n.M),C=u.from(T.version),B=s.from(T.maskPattern),T.toSJISFunc&&r.setToSJISFunction(T.toSJISFunc)),P(_,C,d,B)},Wt}var pe={},me={},We;function fn(){return We||(We=1,function(r){function n(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let e=o.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+o);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");const t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}r.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,s=e.scale||4;return{width:i,scale:i?4:s,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},r.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale},r.getImageWidth=function(e,t){const i=r.getScale(e,t);return Math.floor((e+t.margin*2)*i)},r.qrToImageData=function(e,t,i){const s=t.modules.size,a=t.modules.data,c=r.getScale(s,i),u=Math.floor((s+i.margin*2)*c),f=i.margin*c,y=[i.color.light,i.color.dark];for(let v=0;v<u;v++)for(let g=0;g<u;g++){let S=(v*u+g)*4,E=i.color.light;if(v>=f&&g>=f&&v<u-f&&g<u-f){const N=Math.floor((v-f)/c),m=Math.floor((g-f)/c);E=y[a[N*s+m]?1:0]}e[S++]=E.r,e[S++]=E.g,e[S++]=E.b,e[S]=E.a}}}(me)),me}var Xe;function Tr(){return Xe||(Xe=1,function(r){const n=fn();function o(t,i,s){t.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=s,i.width=s,i.style.height=s+"px",i.style.width=s+"px"}function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,s,a){let c=a,u=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(u=e()),c=n.getOptions(c);const f=n.getImageWidth(i.modules.size,c),y=u.getContext("2d"),v=y.createImageData(f,f);return n.qrToImageData(v.data,i,c),o(y,u,f),y.putImageData(v,0,0),u},r.renderToDataURL=function(i,s,a){let c=a;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const u=r.render(i,s,c),f=c.type||"image/png",y=c.rendererOpts||{};return u.toDataURL(f,y.quality)}}(pe)),pe}var we={},Ze;function Sr(){if(Ze)return we;Ze=1;const r=fn();function n(t,i){const s=t.a/255,a=i+'="'+t.hex+'"';return s<1?a+" "+i+'-opacity="'+s.toFixed(2).slice(1)+'"':a}function o(t,i,s){let a=t+i;return typeof s<"u"&&(a+=" "+s),a}function e(t,i,s){let a="",c=0,u=!1,f=0;for(let y=0;y<t.length;y++){const v=Math.floor(y%i),g=Math.floor(y/i);!v&&!u&&(u=!0),t[y]?(f++,y>0&&v>0&&t[y-1]||(a+=u?o("M",v+s,.5+g+s):o("m",c,0),c=0,u=!1),v+1<i&&t[y+1]||(a+=o("h",f),f=0)):c++}return a}return we.render=function(i,s,a){const c=r.getOptions(s),u=i.modules.size,f=i.modules.data,y=u+c.margin*2,v=c.color.light.a?"<path "+n(c.color.light,"fill")+' d="M0 0h'+y+"v"+y+'H0z"/>':"",g="<path "+n(c.color.dark,"stroke")+' d="'+e(f,u,c.margin)+'"/>',S='viewBox="0 0 '+y+" "+y+'"',N='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+S+' shape-rendering="crispEdges">'+v+g+`</svg>
`;return typeof a=="function"&&a(null,N),N},we}var tn;function Br(){if(tn)return Rt;tn=1;const r=ar(),n=Er(),o=Tr(),e=Sr();function t(i,s,a,c,u){const f=[].slice.call(arguments,1),y=f.length,v=typeof f[y-1]=="function";if(!v&&!r())throw new Error("Callback required as last argument");if(v){if(y<2)throw new Error("Too few arguments provided");y===2?(u=a,a=s,s=c=void 0):y===3&&(s.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=a,a=s,s=void 0))}else{if(y<1)throw new Error("Too few arguments provided");return y===1?(a=s,s=c=void 0):y===2&&!s.getContext&&(c=a,a=s,s=void 0),new Promise(function(g,S){try{const E=n.create(a,c);g(i(E,s,c))}catch(E){S(E)}})}try{const g=n.create(a,c);u(null,i(g,s,c))}catch(g){u(g)}}return Rt.create=n.create,Rt.toCanvas=t.bind(null,o.render),Rt.toDataURL=t.bind(null,o.renderToDataURL),Rt.toString=t.bind(null,function(i,s,a){return e.render(i,a)}),Rt}var Rr=Br();const Mr=or(Rr);function en(r){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)}function Ar(r,{from:n,to:o},e={}){var{delay:t=0,duration:i=p=>Math.sqrt(p)*120,easing:s=ye}=e,a=getComputedStyle(r),c=a.transform==="none"?"":a.transform,[u,f]=a.transformOrigin.split(" ").map(parseFloat);u/=r.clientWidth,f/=r.clientHeight;var y=Ir(r),v=r.clientWidth/o.width/y,g=r.clientHeight/o.height/y,S=n.left+n.width*u,E=n.top+n.height*f,N=o.left+o.width*u,m=o.top+o.height*f,w=(S-N)*v,h=(E-m)*g,b=n.width/o.width,P=n.height/o.height;return{delay:t,duration:typeof i=="function"?i(Math.sqrt(w*w+h*h)):i,easing:s,css:(p,_)=>{var T=_*w,d=_*h,C=p+_*b,B=p+_*P;return`transform: ${c} translate(${T}px, ${d}px) scale(${C}, ${B});`}}}function Ir(r){if("currentCSSZoom"in r)return r.currentCSSZoom;for(var n=r,o=1;n!==null;)o*=+getComputedStyle(n).zoom,n=n.parentElement;return o}var Pr=x('<div class="particle-container svelte-smrzvy"></div>');function dn(r,n){Kt(n,!1);let o=H(n,"particleFPS",8,45),e=H(n,"particleCount",8,8),t=H(n,"gravity",8,300),i=H(n,"horizontalSpread",8,120),s=H(n,"upwardVelocityMin",8,120),a=H(n,"upwardVelocityMax",8,100),c=H(n,"particleLifetime",8,1500),u=H(n,"particleSizeMin",8,.75),f=H(n,"particleSizeMax",8,1),y=H(n,"particleCharacter",8,"✨"),v=H(n,"enableTint",8,!1),g=H(n,"enableRotation",8,!1),S=$(),E=new Set;function N(w){if(!l(S))return;const h=[];for(let d=0;d<e();d++){const C=document.createElement("div");C.className="particle-effect-point";const B=(Math.random()-.5)*i(),R=-s()-Math.random()*a();if(C.textContent=y(),v()){const j=Math.random()*360,G=80+Math.random()*40,dt=90+Math.random()*20;C.style.filter=`hue-rotate(${j}deg) saturate(${G}%) brightness(${dt}%)`}const M=u()+Math.random()*(f()-u());C.style.fontSize=M+"em";const A=w.getBoundingClientRect().width*1,O=d/(e()-1)*A-A/2;let k=0,et=0;g()&&(k=(Math.random()-.5)*360,et=Math.random()*360),C.style.transform=`rotate(${et}deg)`,h.push({element:C,x:O,y:0,vx:B,vy:R,life:0,maxLife:c(),size:M,rotation:et,rotationSpeed:k}),l(S).appendChild(C);const W=w.getBoundingClientRect(),I=W.left+W.width/2,D=W.top+W.height/2;C.style.left=I+O+"px",C.style.top=D+"px"}const b=1e3/o();let P=performance.now(),p;function _(){const d=performance.now(),C=d-P;P=d;const B=C/1e3,R=w.getBoundingClientRect(),M=R.left+R.width/2,A=R.top+R.height/2;let O=0;if(h.forEach(k=>{if(k.life+=C,k.life>=k.maxLife)return;O++,k.vy+=t()*B,k.x+=k.vx*B,k.y+=k.vy*B;const et=k.life/k.maxLife,W=Math.max(0,Math.cos(et*Math.PI/2)),I=Math.max(.2,1-k.life/k.maxLife*.7);g()?(k.rotation+=k.rotationSpeed*B,k.element.style.transform=`scale(${I}) rotate(${k.rotation}deg)`):k.element.style.transform=`scale(${I})`,k.element.style.left=M+k.x+"px",k.element.style.top=A+k.y+"px",k.element.style.opacity=W.toString()}),!w.isConnected){T();return}O>0?(p=setTimeout(_,b),E.add(p)):T()}function T(){h.forEach(d=>{d.element.parentNode&&d.element.parentNode.removeChild(d.element)}),E.delete(p)}p=setTimeout(_,b),E.add(p)}on(()=>{E.forEach(w=>{clearTimeout(w)}),E.clear()}),Ot();var m=Pr();return Vt(m,w=>U(S,w),()=>l(S)),q(r,m),nr(n,"createParticleEffect",N),Ht({createParticleEffect:N})}var Nr=x('<div class="topic-stat svelte-1gj20vt"><span class="topic-name svelte-1gj20vt"> </span> <div class="topic-bar svelte-1gj20vt"><div class="topic-bar-fill svelte-1gj20vt"></div> <span class="topic-count svelte-1gj20vt"> </span></div></div>'),Lr=x('<div class="topic-list svelte-1gj20vt"><div style="position: absolute; top: 0.5rem; left: 0; width: 100%; height: 1px; z-index: -1;"></div> <!></div>'),Fr=x('<div class="topic-stats svelte-1gj20vt"><h4 class="topic-header svelte-1gj20vt">Topic Interest <button class="toggle-button svelte-1gj20vt" aria-label="Toggle Topic Interest"><svg class="toggle-icon svelte-1gj20vt" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round"></path></svg></button></h4> <div class="topic-list-wrapper svelte-1gj20vt"><!></div></div>'),kr=x('<div class="particle-effect-container svelte-1gj20vt"><!></div> <div class="stats-panel svelte-1gj20vt"><div class="summary svelte-1gj20vt"><div class="stat svelte-1gj20vt"><span class="stat-number svelte-1gj20vt"> </span> <span class="stat-label svelte-1gj20vt">Participants</span></div></div> <!></div>',1);function nn(r,n){Kt(n,!1);const o=$(),e=$();let t=H(n,"userSelections",8),i=H(n,"topics",8),s=$(!0),a=$(),c=$(),u=$(0),f=$(void 0);function y(){U(s,!l(s))}function v(_,T){const d=new Map;return T.forEach(C=>{d.set(C.id,{topic:C,count:0})}),_.forEach(C=>{C.selectedTopics.forEach(B=>{const R=d.get(B);R&&R.count++})}),Array.from(d.values()).sort((C,B)=>B.count-C.count)}Mt(()=>(pt(t()),pt(i())),()=>{U(o,v(t(),i()))}),Mt(()=>pt(t()),()=>{U(e,t().length)}),Mt(()=>(l(o),l(u),l(e),l(f),l(a),l(c)),()=>{const T=l(o)[0]?.topic.id;let d=!1;l(u)===0&&l(e)>0&&(d=!0),l(u)>0&&l(f)&&T&&T!==l(f)&&l(e)>0&&(d=!0),d&&l(a)&&l(c)&&setTimeout(()=>{l(a).createParticleEffect(l(c))},300),U(u,l(e)),U(f,T)}),an(),Ot();var g=kr(),S=xt(g),E=F(S);Vt(dn(E,{particleCharacter:"🏆",particleCount:24,enableRotation:!0,upwardVelocityMin:100,particleLifetime:2e3,horizontalSpread:200,$$legacy:!0}),_=>U(a,_),()=>l(a)),L(S);var N=z(S,2),m=F(N),w=F(m),h=F(w),b=F(h,!0);L(h),Un(2),L(w),L(m);var P=z(m,2);{var p=_=>{var T=Fr(),d=F(T),C=z(F(d)),B=F(C),R=F(B);L(B),L(C),L(d);var M=z(d,2),A=F(M);{var O=k=>{var et=Lr(),W=F(et);Vt(W,D=>U(c,D),()=>l(c));var I=z(W,2);Ft(I,11,()=>l(o),({topic:D,count:j})=>D.id,(D,j)=>{let G=()=>l(j).topic,dt=()=>l(j).count;var X=Nr(),it=F(X),mt=F(it,!0);L(it);var Y=z(it,2),Z=F(Y),ot=z(Z,2),Ct=F(ot,!0);L(ot),L(Y),L(X),rt(()=>{jt(X,"data-topic-id",(G(),V(()=>G().id))),ut(mt,(G(),V(()=>G().name))),Te(Z,`width: ${l(e)>0?dt()/l(e)*100:0}%`),ut(Ct,dt())}),er(X,()=>Ar,()=>({duration:300})),q(D,X)}),L(et),q(k,et)};J(A,k=>{l(s)&&k(O)})}L(M),L(T),rt(()=>{jt(R,"d",l(s)?"M6 15l6-6 6 6":"M6 9l6 6 6-6"),Te(M,`height: ${l(s)?"auto":"0"}; overflow: hidden; transition: height 0.3s ease;`)}),Lt("click",C,y),q(_,T)};J(P,_=>{l(o),V(()=>l(o).length>0)&&_(p)})}L(N),rt(()=>ut(b,l(e))),q(r,g),Ht()}function gn(r){const n=r-1;return n*n*n+1}function Dr(r,{delay:n=0,duration:o=400,easing:e=gn,axis:t="y"}={}){const i=getComputedStyle(r),s=+i.opacity,a=t==="y"?"height":"width",c=parseFloat(i[a]),u=t==="y"?["top","bottom"]:["left","right"],f=u.map(m=>`${m[0].toUpperCase()}${m.slice(1)}`),y=parseFloat(i[`padding${f[0]}`]),v=parseFloat(i[`padding${f[1]}`]),g=parseFloat(i[`margin${f[0]}`]),S=parseFloat(i[`margin${f[1]}`]),E=parseFloat(i[`border${f[0]}Width`]),N=parseFloat(i[`border${f[1]}Width`]);return{delay:n,duration:o,easing:e,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*s};${a}: ${m*c}px;padding-${u[0]}: ${m*y}px;padding-${u[1]}: ${m*v}px;margin-${u[0]}: ${m*g}px;margin-${u[1]}: ${m*S}px;border-${u[0]}-width: ${m*E}px;border-${u[1]}-width: ${m*N}px;min-${a}: 0`}}function zt(r,{delay:n=0,duration:o=400,easing:e=gn,start:t=0,opacity:i=0}={}){const s=getComputedStyle(r),a=+s.opacity,c=s.transform==="none"?"":s.transform,u=1-t,f=a*(1-i);return{delay:n,duration:o,easing:e,css:(y,v)=>`
			transform: ${c} scale(${1-u*v});
			opacity: ${a-f*v}
		`}}var Ur=x('<button class="topic-button selected svelte-1dg5t0c"> </button>'),qr=x('<div class="selected-topics-container svelte-1dg5t0c"></div>'),zr=x('<button class="topic-button svelte-1dg5t0c"> </button>'),xr=x('<div class="auto-save-status svelte-1dg5t0c"><span class="saving spinner svelte-1dg5t0c">↻</span></div>'),jr=x('<div class="component svelte-1dg5t0c"><div class="particle-effect-container svelte-1dg5t0c"><!></div> <!> <div class="topics-cloud svelte-1dg5t0c"></div> <!></div>');function Vr(r,n){Kt(n,!1);let o=H(n,"topics",8),e=H(n,"selectedTopics",12),t=H(n,"maxSelections",8),i=H(n,"isSubmitting",8),s=H(n,"particleFPS",8,45);const a=qn();let c=$(),u;sn(()=>{u=new Audio("/pop.ogg")});function f(h){e().includes(h)?e(e().filter(P=>P!==h)):(e().length>=t()?e([...e().slice(1),h]):e([...e(),h]),u&&(u.currentTime=0,u.volume=.66,u.play()),setTimeout(()=>{const P=document.querySelector(`[data-topic-id="${h}"].selected`);P&&l(c)&&l(c).createParticleEffect(P)},100)),a("selectionChange",{selectedTopics:e()})}Ot();var y=jr(),v=F(y),g=F(v);Vt(dn(g,{get particleFPS(){return s()},particleCharacter:"👍",enableTint:!0,$$legacy:!0}),h=>U(c,h),()=>l(c)),L(v);var S=z(v,2);{var E=h=>{var b=qr();Ft(b,5,()=>(pt(e()),pt(o()),V(()=>e().map(P=>o().find(p=>p.id===P)))),P=>P.id,(P,p)=>{var _=Ur(),T=F(_,!0);L(_),rt(()=>{jt(_,"data-topic-id",(l(p),V(()=>l(p).id))),ut(T,(l(p),V(()=>l(p).name)))}),Lt("click",_,()=>f(l(p).id)),Pt(1,_,()=>zt,()=>({duration:300,start:0,easing:ye})),Pt(2,_,()=>zt,()=>({duration:175,start:0,easing:Be})),q(P,_)}),L(b),Pt(3,b,()=>Dr,()=>({duration:300})),q(h,b)};J(S,h=>{pt(e()),V(()=>e().length>0)&&h(E)})}var N=z(S,2);Ft(N,5,()=>(pt(o()),pt(e()),V(()=>o().filter(h=>!e().includes(h.id)).sort((h,b)=>h.name.localeCompare(b.name)))),h=>h.id,(h,b)=>{var P=zr(),p=F(P,!0);L(P),rt(()=>ut(p,(l(b),V(()=>l(b).name)))),Lt("click",P,()=>f(l(b).id)),Pt(1,P,()=>zt,()=>({duration:300,start:0,easing:ye})),Pt(2,P,()=>zt,()=>({duration:175,start:0,easing:Be})),q(h,P)}),L(N);var m=z(N,2);{var w=h=>{var b=xr();q(h,b)};J(m,h=>{i()&&h(w)})}L(y),q(r,y),Ht()}var $r=x('<div class="loading svelte-cnc38a"><h2 class="svelte-cnc38a">Loading tangle...</h2></div>'),Or=x(`<div class="error svelte-cnc38a"><h2 class="svelte-cnc38a">Tangle not found</h2> <p class="svelte-cnc38a">The tangle you're looking for doesn't exist or has expired.</p> <a href="/" class="svelte-cnc38a">Create a new tangle</a></div>`),Kr=x('<img alt="QR Code for tangle" class="svelte-cnc38a"/>'),Hr=x('<button class="tangle-button svelte-cnc38a"> </button>'),Jr=x('<div class="organizer-section panel svelte-cnc38a"><div class="share-section svelte-cnc38a"><div class="share-content svelte-cnc38a"><div class="qr-code svelte-cnc38a"><!></div> <div class="link-section svelte-cnc38a"><input type="text" readonly="" class="svelte-cnc38a"/> <button class="svelte-cnc38a">Copy Link</button></div></div></div> <div class="participants-section svelte-cnc38a"><!></div> <!></div>'),Yr=x('<div class="user-section panel svelte-cnc38a"><div class="participants-section svelte-cnc38a"><!></div></div>'),Gr=x('<div class="topic-selection svelte-cnc38a"><h2 class="svelte-cnc38a">Choose Your Topics</h2> <p class="svelte-cnc38a"></p> <!></div>'),Qr=x('<div class="user-badge svelte-cnc38a">Your Group</div>'),Wr=x('<li class="svelte-cnc38a"> </li>'),Xr=x('<div class="icebreakers svelte-cnc38a"><strong class="svelte-cnc38a">Icebreaker Questions:</strong> <ul class="svelte-cnc38a"></ul></div>'),Zr=x('<div><h3 class="svelte-cnc38a"> </h3> <!> <div class="group-size svelte-cnc38a"><strong class="svelte-cnc38a">Members:</strong> </div> <!></div>'),ti=x('<div class="groups-list svelte-cnc38a"></div>'),ei=x('<div class="unassigned-notice svelte-cnc38a"><p class="svelte-cnc38a"><strong class="svelte-cnc38a">Note:</strong> </p></div>'),ni=x('<div class="results-section panel svelte-cnc38a"><h2 class="svelte-cnc38a">Breakout Groups Created!</h2> <!> <!></div>'),ri=x('<header class="svelte-cnc38a"><h1 class="svelte-cnc38a"> </h1> <p class="svelte-cnc38a"> </p></header> <!> <!>',1),ii=x('<div class="container svelte-cnc38a"><!></div>');function gi(r,n){Kt(n,!1);const[o,e]=Qn(),t=()=>Wn(ir,"$page",o),i=$(),s=$();let a=$(null),c=$([]),u=$(null),f=$([]),y=$(!0),v=$(!1),g=$(!1),S=$(""),E=$(""),N=null,m=$(null),w=$("");const h=3;sn(async()=>{U(E,window.location.href),U(m,t().url.searchParams.get("id")),U(w,await $n("user")),await P(),await p(),T()}),on(()=>{b()});function b(){N&&(N(),N=null)}async function P(){try{U(S,await Mr.toDataURL(l(E),{width:384,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}))}catch(I){console.error("Failed to generate QR code:",I)}}async function p(){if(l(m))try{if(U(a,await Bt.getRoom(l(m))),l(a)){if(console.log(l(a)),l(a).style&&typeof l(a).style=="string"){const I=Hn.find(D=>D.name.toLowerCase()===l(a).style.toLowerCase());I&&Jn(I)}await _()}}catch(I){console.error("Failed to load room:",I)}finally{U(y,!1)}}async function _(){if(l(a))try{const{selections:I,results:D}=await Bt.getRoomData(l(a).id);U(c,I),D&&U(u,D);const j=l(c).find(G=>G.userId===l(w));j&&U(f,j.selectedTopics)}catch(I){console.error("Failed to load room data:",I)}}function T(){!l(a)||l(u)||(N=Bt.createPollingSubscription(()=>Bt.getRoomData(l(a).id),({selections:I,results:D})=>{if(U(c,I),D)return U(u,D),!1;const j=I.find(G=>G.userId===l(w));return j?U(f,j.selectedTopics):U(f,[]),!0}))}function d(I){U(f,I.detail.selectedTopics),C()}async function C(){if(l(a)){U(v,!0);try{const I={userId:l(w),roomId:l(a).id,selectedTopics:l(f),updatedAt:new Date};await Bt.submitUserSelection(I)}catch(I){console.error("Failed to submit selection:",I)}finally{U(v,!1)}}}async function B(){if(l(a)){U(g,!0);try{U(u,await Bt.createBreakoutGroups(l(a).id,l(w))),l(u)&&b()}catch(I){console.error("Failed to create breakout groups:",I),alert("Failed to create breakout groups. Please try again.")}finally{U(g,!1)}}}function R(){navigator.clipboard.writeText(l(E))}function M(I){if(!l(a))return I;const D=l(a).topics.find(j=>j.id===I);return D?D.name:I}function A(I){return I.members.includes(l(w))}Mt(()=>(l(a),l(w)),()=>{U(i,l(a)?l(w)===l(a).organizerId:!1)}),Mt(()=>l(u),()=>{l(u)&&l(u).groups.forEach(I=>{I.icebreakerQuestions=I.icebreakerQuestions.map(D=>D.replace(/\[.*?\]\(.*?\)/g,""))})}),Mt(()=>(l(u),l(w)),()=>{U(s,l(u)?(()=>{const I=l(u).groups.find(j=>j.members.includes(l(w))),D=l(u).groups.filter(j=>!j.members.includes(l(w)));return I?[I,...D]:l(u).groups})():[])}),an(),Ot();var O=ii();zn(I=>{rt(()=>xn.title=`Tangle ${l(m)??""} - Topic Tangle`)});var k=F(O);{var et=I=>{var D=$r();q(I,D)},W=I=>{var D=Ee(),j=xt(D);{var G=X=>{var it=Or();q(X,it)},dt=X=>{var it=ri(),mt=xt(it),Y=F(mt),Z=F(Y);L(Y);var ot=z(Y,2),Ct=F(ot);L(ot),L(mt);var Ce=z(mt,2);{var hn=Q=>{var tt=Jr(),ft=F(tt),wt=F(ft),ht=F(wt),bt=F(ht);{var at=nt=>{var lt=Kr();rt(()=>jt(lt,"src",l(S))),q(nt,lt)};J(bt,nt=>{l(S)&&nt(at)})}L(ht);var st=z(ht,2),ct=F(st);Yn(ct);var K=z(ct,2);L(st),L(wt),L(ft);var yt=z(ft,2),kt=F(yt);{var At=nt=>{nn(nt,{get userSelections(){return l(c)},get topics(){return l(a),V(()=>l(a).topics)}})};J(kt,nt=>{l(a)&&nt(At)})}L(yt);var Jt=z(yt,2);{var Dt=nt=>{var lt=Hr(),Yt=F(lt,!0);L(lt),rt(()=>{lt.disabled=(l(g),l(c),V(()=>l(g)||l(c).length===0)),ut(Yt,l(g)?"Creating Groups...":"Tangle!")}),Lt("click",lt,B),q(nt,lt)};J(Jt,nt=>{l(u)||nt(Dt)})}L(tt),rt(()=>Gn(ct,l(E))),Lt("click",K,R),q(Q,tt)},vn=Q=>{var tt=Ee(),ft=xt(tt);{var wt=ht=>{var bt=Yr(),at=F(bt),st=F(at);{var ct=K=>{nn(K,{get userSelections(){return l(c)},get topics(){return l(a),V(()=>l(a).topics)}})};J(st,K=>{l(a)&&K(ct)})}L(at),L(bt),q(ht,bt)};J(ft,ht=>{l(u)&&ht(wt)})}q(Q,tt)};J(Ce,Q=>{l(i)?Q(hn):Q(vn,!1)})}var pn=z(Ce,2);{var mn=Q=>{var tt=Gr(),ft=z(F(tt),2);ft.textContent="Select up to 3 topics you're interested in discussing:";var wt=z(ft,2);Vr(wt,{get topics(){return l(a),V(()=>l(a).topics)},get selectedTopics(){return l(f)},maxSelections:h,get isSubmitting(){return l(v)},$$events:{selectionChange:d}}),L(tt),q(Q,tt)},wn=Q=>{var tt=ni(),ft=z(F(tt),2);{var wt=at=>{var st=ti();Ft(st,5,()=>l(s),ct=>ct.id,(ct,K)=>{var yt=Zr();let kt;var At=F(yt),Jt=F(At,!0);L(At);var Dt=z(At,2);{var nt=vt=>{var Et=Qr();q(vt,Et)};J(Dt,vt=>{l(K),V(()=>A(l(K)))&&vt(nt)})}var lt=z(Dt,2),Yt=z(F(lt));L(lt);var yn=z(lt,2);{var _n=vt=>{var Et=Xr(),be=z(F(Et),2);Ft(be,5,()=>(l(K),V(()=>l(K).icebreakerQuestions)),Kn,(Cn,bn)=>{var Gt=Wr(),En=F(Gt,!0);L(Gt),rt(()=>ut(En,l(bn))),q(Cn,Gt)}),L(be),L(Et),q(vt,Et)};J(yn,vt=>{l(K),V(()=>l(K).icebreakerQuestions.length>0)&&vt(_n)})}L(yt),rt((vt,Et)=>{kt=On(yt,1,"group-card svelte-cnc38a",null,kt,vt),ut(Jt,Et),ut(Yt,` ${l(K),V(()=>l(K).members.length)??""}`)},[()=>({"user-group":A(l(K))}),()=>(l(K),V(()=>M(l(K).assignedTopics[0])))]),q(ct,yt)}),L(st),q(at,st)};J(ft,at=>{l(u),V(()=>l(u).groups.length>0)&&at(wt)})}var ht=z(ft,2);{var bt=at=>{var st=ei(),ct=F(st),K=z(F(ct));L(ct),L(st),rt(()=>ut(K,` ${l(u),V(()=>l(u).unassignedUsers.length)??""} participants couldn't be assigned to a group.`)),q(at,st)};J(ht,at=>{l(u),V(()=>l(u).unassignedUsers.length>0)&&at(bt)})}L(tt),q(Q,tt)};J(pn,Q=>{l(u)?Q(wn,!1):Q(mn)})}rt(Q=>{ut(Z,`Tangle: ${l(a),V(()=>l(a).id)??""}`),ut(Ct,`Created ${Q??""}`)},[()=>(pt(en),l(a),V(()=>en(l(a).createdAt)))]),q(X,it)};J(j,X=>{l(a)?X(dt,!1):X(G)},!0)}q(I,D)};J(k,I=>{l(y)?I(et):I(W,!1)})}L(O),q(r,O),Ht(),e()}export{gi as component};
