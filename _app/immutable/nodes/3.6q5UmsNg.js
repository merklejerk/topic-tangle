import"../chunks/DsnmJJEf.js";import{i as xt}from"../chunks/CGB_-Zw7.js";import{v as Lr,aY as kr,E as Fr,aZ as qr,a_ as Dr,F as Ur,x as j,a$ as xr,b0 as zr,b1 as jr,b2 as cr,b3 as Vr,I as $r,M as Lt,l as Or,J as Hr,aG as Kr,_ as zt,ar as ur,$ as z,u as q,N as V,n as c,a2 as U,a3 as jt,as as It,Y as vt,at as dr,a0 as At,a4 as L,a5 as I,a6 as D,aq as Yr,a1 as J,a7 as ot,au as pt,aX as fr,aw as Me,aj as Gr,b4 as Jr,b5 as Qr,am as Pe,q as Wr}from"../chunks/Dr_vVydj.js";import{p as $,i as G}from"../chunks/py2TyBLm.js";import{l as Zr,c as Xr,a as qt,e as Dt,b as tn,s as gr,d as en,g as rn,R as Mt,i as nn}from"../chunks/CIEdZLIy.js";import{s as St,r as Ae,t as on,a as an,b as sn,d as ln}from"../chunks/01df4TrA.js";import{b as Ut,s as cn,a as un}from"../chunks/BQEZzGGH.js";import{s as dn}from"../chunks/Dv-IT7H_.js";function Ot(i,r){cr(()=>{i.dispatchEvent(new CustomEvent(r))})}function fn(i){if(i==="float")return"cssFloat";if(i==="offset")return"cssOffset";if(i.startsWith("--"))return i;const r=i.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function Ie(i){const r={},o=i.split(";");for(const e of o){const[t,n]=e.split(":");if(!t||n===void 0)break;const s=fn(t.trim());r[s]=n.trim()}return r}const gn=i=>i;function hn(i,r,o){var e=Xr,t,n,s,a=null;e.a??={element:i,measure(){t=this.element.getBoundingClientRect()},apply(){if(s?.abort(),n=this.element.getBoundingClientRect(),t.left!==n.left||t.right!==n.right||t.top!==n.top||t.bottom!==n.bottom){const l=r()(this.element,{from:t,to:n},o?.());s=Yt(this.element,l,void 0,1,()=>{s?.abort(),s=void 0})}},fix(){if(!i.getAnimations().length){var{position:l,width:u,height:d}=getComputedStyle(i);if(l!=="absolute"&&l!=="fixed"){var m=i.style;a={position:m.position,width:m.width,height:m.height,transform:m.transform},m.position="absolute",m.width=u,m.height=d;var p=i.getBoundingClientRect();if(t.left!==p.left||t.top!==p.top){var g=`translate(${t.left-p.left}px, ${t.top-p.top}px)`;m.transform=m.transform?`${m.transform} ${g}`:g}}}},unfix(){if(a){var l=i.style;l.position=a.position,l.width=a.width,l.height=a.height,l.transform=a.transform}}},e.a.element=i}function kt(i,r,o,e){var t=(i&zr)!==0,n=(i&jr)!==0,s=t&&n,a=(i&xr)!==0,l=s?"both":t?"in":"out",u,d=r.inert,m=r.style.overflow,p,g;function C(){return cr(()=>u??=o()(r,e?.()??{},{direction:l}))}var T={is_global:a,in(){if(r.inert=d,!t){g?.abort(),g?.reset?.();return}n||p?.abort(),Ot(r,"introstart"),p=Yt(r,C(),g,1,()=>{Ot(r,"introend"),p?.abort(),p=u=void 0,r.style.overflow=m})},out(E){if(!n){E?.(),u=void 0;return}r.inert=!0,Ot(r,"outrostart"),g=Yt(r,C(),p,0,()=>{Ot(r,"outroend"),E?.()})},stop:()=>{p?.abort(),g?.abort()}},k=Lr;if((k.transitions??=[]).push(T),t&&kr){var w=a;if(!w){for(var _=k.parent;_&&(_.f&Fr)!==0;)for(;(_=_.parent)&&(_.f&qr)===0;);w=!_||(_.f&Dr)!==0}w&&Ur(()=>{j(()=>T.in())})}}function Yt(i,r,o,e,t){var n=e===1;if(Vr(r)){var s,a=!1;return $r(()=>{if(!a){var k=r({direction:n?"in":"out"});s=Yt(i,k,o,e,t)}}),{abort:()=>{a=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(o?.deactivate(),!r?.duration)return t(),{abort:Lt,deactivate:Lt,reset:Lt,t:()=>e};const{delay:l=0,css:u,tick:d,easing:m=gn}=r;var p=[];if(n&&o===void 0&&(d&&d(0,1),u)){var g=Ie(u(0,1));p.push(g,g)}var C=()=>1-e,T=i.animate(p,{duration:l,fill:"forwards"});return T.onfinish=()=>{T.cancel();var k=o?.t()??1-e;o?.abort();var w=e-k,_=r.duration*Math.abs(w),E=[];if(_>0){var P=!1;if(u)for(var M=Math.ceil(_/16.666666666666668),h=0;h<=M;h+=1){var v=k+w*m(h/M),y=Ie(u(v,1-v));E.push(y),P||=y.overflow==="hidden"}P&&(i.style.overflow="hidden"),C=()=>{var f=T.currentTime;return k+w*m(f/_)},d&&Zr(()=>{if(T.playState!=="running")return!1;var f=C();return d(f,1-f),!0})}T=i.animate(E,{duration:_,fill:"forwards"}),T.onfinish=()=>{C=()=>e,d?.(e,1-e),t()}},{abort:()=>{T&&(T.cancel(),T.effect=null,T.onfinish=Lt)},deactivate:()=>{t=Lt},reset:()=>{e===0&&d?.(1,0)},t:()=>C()}}function vn(i,r,o){var e=Or(i,r);e&&e.set&&(i[r]=o,Hr(()=>{i[r]=null}))}function pn(i,r){var o=i.$$events?.[r.type],e=Kr(o)?o.slice():o==null?[]:[o];for(var t of e)t.call(this,r)}function Ne(i){return i*i*i}function Ee(i){const r=i-1;return r*r*r+1}const mn=()=>{const i=dn;return{page:{subscribe:i.page.subscribe},navigating:{subscribe:i.navigating.subscribe},updated:i.updated}},wn={subscribe(i){return mn().page.subscribe(i)}};function yn(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Pt={},te,Le;function bn(){return Le||(Le=1,te=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),te}var ee={},_t={},ke;function Bt(){if(ke)return _t;ke=1;let i;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return _t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17},_t.getSymbolTotalCodewords=function(e){return r[e]},_t.getBCHDigit=function(o){let e=0;for(;o!==0;)e++,o>>>=1;return e},_t.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');i=e},_t.isKanjiModeEnabled=function(){return typeof i<"u"},_t.toSJIS=function(e){return i(e)},_t}var re={},Fe;function Te(){return Fe||(Fe=1,function(i){i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2};function r(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+o)}}i.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4},i.from=function(e,t){if(i.isValid(e))return e;try{return r(e)}catch{return t}}}(re)),re}var ne,qe;function Cn(){if(qe)return ne;qe=1;function i(){this.buffer=[],this.length=0}return i.prototype={get:function(r){const o=Math.floor(r/8);return(this.buffer[o]>>>7-r%8&1)===1},put:function(r,o){for(let e=0;e<o;e++)this.putBit((r>>>o-e-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),r&&(this.buffer[o]|=128>>>this.length%8),this.length++}},ne=i,ne}var ie,De;function _n(){if(De)return ie;De=1;function i(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}return i.prototype.set=function(r,o,e,t){const n=r*this.size+o;this.data[n]=e,t&&(this.reservedBit[n]=!0)},i.prototype.get=function(r,o){return this.data[r*this.size+o]},i.prototype.xor=function(r,o,e){this.data[r*this.size+o]^=e},i.prototype.isReserved=function(r,o){return this.reservedBit[r*this.size+o]},ie=i,ie}var oe={},Ue;function En(){return Ue||(Ue=1,function(i){const r=Bt().getSymbolSize;i.getRowColCoords=function(e){if(e===1)return[];const t=Math.floor(e/7)+2,n=r(e),s=n===145?26:Math.ceil((n-13)/(2*t-2))*2,a=[n-7];for(let l=1;l<t-1;l++)a[l]=a[l-1]-s;return a.push(6),a.reverse()},i.getPositions=function(e){const t=[],n=i.getRowColCoords(e),s=n.length;for(let a=0;a<s;a++)for(let l=0;l<s;l++)a===0&&l===0||a===0&&l===s-1||a===s-1&&l===0||t.push([n[a],n[l]]);return t}}(oe)),oe}var ae={},xe;function Tn(){if(xe)return ae;xe=1;const i=Bt().getSymbolSize,r=7;return ae.getPositions=function(e){const t=i(e);return[[0,0],[t-r,0],[0,t-r]]},ae}var se={},ze;function Sn(){return ze||(ze=1,function(i){i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const r={N1:3,N2:3,N3:40,N4:10};i.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7},i.from=function(t){return i.isValid(t)?parseInt(t,10):void 0},i.getPenaltyN1=function(t){const n=t.size;let s=0,a=0,l=0,u=null,d=null;for(let m=0;m<n;m++){a=l=0,u=d=null;for(let p=0;p<n;p++){let g=t.get(m,p);g===u?a++:(a>=5&&(s+=r.N1+(a-5)),u=g,a=1),g=t.get(p,m),g===d?l++:(l>=5&&(s+=r.N1+(l-5)),d=g,l=1)}a>=5&&(s+=r.N1+(a-5)),l>=5&&(s+=r.N1+(l-5))}return s},i.getPenaltyN2=function(t){const n=t.size;let s=0;for(let a=0;a<n-1;a++)for(let l=0;l<n-1;l++){const u=t.get(a,l)+t.get(a,l+1)+t.get(a+1,l)+t.get(a+1,l+1);(u===4||u===0)&&s++}return s*r.N2},i.getPenaltyN3=function(t){const n=t.size;let s=0,a=0,l=0;for(let u=0;u<n;u++){a=l=0;for(let d=0;d<n;d++)a=a<<1&2047|t.get(u,d),d>=10&&(a===1488||a===93)&&s++,l=l<<1&2047|t.get(d,u),d>=10&&(l===1488||l===93)&&s++}return s*r.N3},i.getPenaltyN4=function(t){let n=0;const s=t.data.length;for(let l=0;l<s;l++)n+=t.data[l];return Math.abs(Math.ceil(n*100/s/5)-10)*r.N4};function o(e,t,n){switch(e){case i.Patterns.PATTERN000:return(t+n)%2===0;case i.Patterns.PATTERN001:return t%2===0;case i.Patterns.PATTERN010:return n%3===0;case i.Patterns.PATTERN011:return(t+n)%3===0;case i.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2===0;case i.Patterns.PATTERN101:return t*n%2+t*n%3===0;case i.Patterns.PATTERN110:return(t*n%2+t*n%3)%2===0;case i.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}i.applyMask=function(t,n){const s=n.size;for(let a=0;a<s;a++)for(let l=0;l<s;l++)n.isReserved(l,a)||n.xor(l,a,o(t,l,a))},i.getBestMask=function(t,n){const s=Object.keys(i.Patterns).length;let a=0,l=1/0;for(let u=0;u<s;u++){n(u),i.applyMask(u,t);const d=i.getPenaltyN1(t)+i.getPenaltyN2(t)+i.getPenaltyN3(t)+i.getPenaltyN4(t);i.applyMask(u,t),d<l&&(l=d,a=u)}return a}}(se)),se}var Ht={},je;function hr(){if(je)return Ht;je=1;const i=Te(),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Ht.getBlocksCount=function(t,n){switch(n){case i.L:return r[(t-1)*4+0];case i.M:return r[(t-1)*4+1];case i.Q:return r[(t-1)*4+2];case i.H:return r[(t-1)*4+3];default:return}},Ht.getTotalCodewordsCount=function(t,n){switch(n){case i.L:return o[(t-1)*4+0];case i.M:return o[(t-1)*4+1];case i.Q:return o[(t-1)*4+2];case i.H:return o[(t-1)*4+3];default:return}},Ht}var le={},Ft={},Ve;function Bn(){if(Ve)return Ft;Ve=1;const i=new Uint8Array(512),r=new Uint8Array(256);return function(){let e=1;for(let t=0;t<255;t++)i[t]=e,r[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)i[t]=i[t-255]}(),Ft.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},Ft.exp=function(e){return i[e]},Ft.mul=function(e,t){return e===0||t===0?0:i[r[e]+r[t]]},Ft}var $e;function Rn(){return $e||($e=1,function(i){const r=Bn();i.mul=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let s=0;s<e.length;s++)for(let a=0;a<t.length;a++)n[s+a]^=r.mul(e[s],t[a]);return n},i.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const s=n[0];for(let l=0;l<t.length;l++)n[l]^=r.mul(t[l],s);let a=0;for(;a<n.length&&n[a]===0;)a++;n=n.slice(a)}return n},i.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=i.mul(t,new Uint8Array([1,r.exp(n)]));return t}}(le)),le}var ce,Oe;function Mn(){if(Oe)return ce;Oe=1;const i=Rn();function r(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}return r.prototype.initialize=function(e){this.degree=e,this.genPoly=i.generateECPolynomial(this.degree)},r.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=i.mod(t,this.genPoly),s=this.degree-n.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(n,s),a}return n},ce=r,ce}var ue={},de={},fe={},He;function vr(){return He||(He=1,fe.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}),fe}var ht={},Ke;function pr(){if(Ke)return ht;Ke=1;const i="[0-9]+",r="[A-Z $%*+\\-./:]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+`)(?:.|[\r
]))+`;ht.KANJI=new RegExp(o,"g"),ht.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ht.BYTE=new RegExp(e,"g"),ht.NUMERIC=new RegExp(i,"g"),ht.ALPHANUMERIC=new RegExp(r,"g");const t=new RegExp("^"+o+"$"),n=new RegExp("^"+i+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ht.testKanji=function(l){return t.test(l)},ht.testNumeric=function(l){return n.test(l)},ht.testAlphanumeric=function(l){return s.test(l)},ht}var Ye;function Rt(){return Ye||(Ye=1,function(i){const r=vr(),o=pr();i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(n,s){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!r.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?n.ccBits[0]:s<27?n.ccBits[1]:n.ccBits[2]},i.getBestModeForData=function(n){return o.testNumeric(n)?i.NUMERIC:o.testAlphanumeric(n)?i.ALPHANUMERIC:o.testKanji(n)?i.KANJI:i.BYTE},i.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},i.isValid=function(n){return n&&n.bit&&n.ccBits};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+t)}}i.from=function(n,s){if(i.isValid(n))return n;try{return e(n)}catch{return s}}}(de)),de}var Ge;function Pn(){return Ge||(Ge=1,function(i){const r=Bt(),o=hr(),e=Te(),t=Rt(),n=vr(),s=7973,a=r.getBCHDigit(s);function l(p,g,C){for(let T=1;T<=40;T++)if(g<=i.getCapacity(T,C,p))return T}function u(p,g){return t.getCharCountIndicator(p,g)+4}function d(p,g){let C=0;return p.forEach(function(T){const k=u(T.mode,g);C+=k+T.getBitsLength()}),C}function m(p,g){for(let C=1;C<=40;C++)if(d(p,C)<=i.getCapacity(C,g,t.MIXED))return C}i.from=function(g,C){return n.isValid(g)?parseInt(g,10):C},i.getCapacity=function(g,C,T){if(!n.isValid(g))throw new Error("Invalid QR Code version");typeof T>"u"&&(T=t.BYTE);const k=r.getSymbolTotalCodewords(g),w=o.getTotalCodewordsCount(g,C),_=(k-w)*8;if(T===t.MIXED)return _;const E=_-u(T,g);switch(T){case t.NUMERIC:return Math.floor(E/10*3);case t.ALPHANUMERIC:return Math.floor(E/11*2);case t.KANJI:return Math.floor(E/13);case t.BYTE:default:return Math.floor(E/8)}},i.getBestVersionForData=function(g,C){let T;const k=e.from(C,e.M);if(Array.isArray(g)){if(g.length>1)return m(g,k);if(g.length===0)return 1;T=g[0]}else T=g;return l(T.mode,T.getLength(),k)},i.getEncodedBits=function(g){if(!n.isValid(g)||g<7)throw new Error("Invalid QR Code version");let C=g<<12;for(;r.getBCHDigit(C)-a>=0;)C^=s<<r.getBCHDigit(C)-a;return g<<12|C}}(ue)),ue}var ge={},Je;function An(){if(Je)return ge;Je=1;const i=Bt(),r=1335,o=21522,e=i.getBCHDigit(r);return ge.getEncodedBits=function(n,s){const a=n.bit<<3|s;let l=a<<10;for(;i.getBCHDigit(l)-e>=0;)l^=r<<i.getBCHDigit(l)-e;return(a<<10|l)^o},ge}var he={},ve,Qe;function In(){if(Qe)return ve;Qe=1;const i=Rt();function r(o){this.mode=i.NUMERIC,this.data=o.toString()}return r.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){let t,n,s;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),s=parseInt(n,10),e.put(s,10);const a=this.data.length-t;a>0&&(n=this.data.substr(t),s=parseInt(n,10),e.put(s,a*3+1))},ve=r,ve}var pe,We;function Nn(){if(We)return pe;We=1;const i=Rt(),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=i.ALPHANUMERIC,this.data=e}return o.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let s=r.indexOf(this.data[n])*45;s+=r.indexOf(this.data[n+1]),t.put(s,11)}this.data.length%2&&t.put(r.indexOf(this.data[n]),6)},pe=o,pe}var me,Ze;function Ln(){if(Ze)return me;Ze=1;const i=Rt();function r(o){this.mode=i.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}return r.getBitsLength=function(e){return e*8},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(o){for(let e=0,t=this.data.length;e<t;e++)o.put(this.data[e],8)},me=r,me}var we,Xe;function kn(){if(Xe)return we;Xe=1;const i=Rt(),r=Bt();function o(e){this.mode=i.KANJI,this.data=e}return o.getBitsLength=function(t){return t*13},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=r.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}},we=o,we}var ye={exports:{}},tr;function Fn(){return tr||(tr=1,function(i){var r={single_source_shortest_paths:function(o,e,t){var n={},s={};s[e]=0;var a=r.PriorityQueue.make();a.push(e,0);for(var l,u,d,m,p,g,C,T,k;!a.empty();){l=a.pop(),u=l.value,m=l.cost,p=o[u]||{};for(d in p)p.hasOwnProperty(d)&&(g=p[d],C=m+g,T=s[d],k=typeof s[d]>"u",(k||T>C)&&(s[d]=C,a.push(d,C),n[d]=u))}if(typeof t<"u"&&typeof s[t]>"u"){var w=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(w)}return n},extract_shortest_path_from_predecessor_list:function(o,e){for(var t=[],n=e;n;)t.push(n),o[n],n=o[n];return t.reverse(),t},find_path:function(o,e,t){var n=r.single_source_shortest_paths(o,e,t);return r.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(o){var e=r.PriorityQueue,t={},n;o=o||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=o.sorter||e.default_sorter,t},default_sorter:function(o,e){return o.cost-e.cost},push:function(o,e){var t={value:o,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};i.exports=r}(ye)),ye.exports}var er;function qn(){return er||(er=1,function(i){const r=Rt(),o=In(),e=Nn(),t=Ln(),n=kn(),s=pr(),a=Bt(),l=Fn();function u(w){return unescape(encodeURIComponent(w)).length}function d(w,_,E){const P=[];let M;for(;(M=w.exec(E))!==null;)P.push({data:M[0],index:M.index,mode:_,length:M[0].length});return P}function m(w){const _=d(s.NUMERIC,r.NUMERIC,w),E=d(s.ALPHANUMERIC,r.ALPHANUMERIC,w);let P,M;return a.isKanjiModeEnabled()?(P=d(s.BYTE,r.BYTE,w),M=d(s.KANJI,r.KANJI,w)):(P=d(s.BYTE_KANJI,r.BYTE,w),M=[]),_.concat(E,P,M).sort(function(v,y){return v.index-y.index}).map(function(v){return{data:v.data,mode:v.mode,length:v.length}})}function p(w,_){switch(_){case r.NUMERIC:return o.getBitsLength(w);case r.ALPHANUMERIC:return e.getBitsLength(w);case r.KANJI:return n.getBitsLength(w);case r.BYTE:return t.getBitsLength(w)}}function g(w){return w.reduce(function(_,E){const P=_.length-1>=0?_[_.length-1]:null;return P&&P.mode===E.mode?(_[_.length-1].data+=E.data,_):(_.push(E),_)},[])}function C(w){const _=[];for(let E=0;E<w.length;E++){const P=w[E];switch(P.mode){case r.NUMERIC:_.push([P,{data:P.data,mode:r.ALPHANUMERIC,length:P.length},{data:P.data,mode:r.BYTE,length:P.length}]);break;case r.ALPHANUMERIC:_.push([P,{data:P.data,mode:r.BYTE,length:P.length}]);break;case r.KANJI:_.push([P,{data:P.data,mode:r.BYTE,length:u(P.data)}]);break;case r.BYTE:_.push([{data:P.data,mode:r.BYTE,length:u(P.data)}])}}return _}function T(w,_){const E={},P={start:{}};let M=["start"];for(let h=0;h<w.length;h++){const v=w[h],y=[];for(let f=0;f<v.length;f++){const b=v[f],S=""+h+f;y.push(S),E[S]={node:b,lastCount:0},P[S]={};for(let B=0;B<M.length;B++){const R=M[B];E[R]&&E[R].node.mode===b.mode?(P[R][S]=p(E[R].lastCount+b.length,b.mode)-p(E[R].lastCount,b.mode),E[R].lastCount+=b.length):(E[R]&&(E[R].lastCount=b.length),P[R][S]=p(b.length,b.mode)+4+r.getCharCountIndicator(b.mode,_))}}M=y}for(let h=0;h<M.length;h++)P[M[h]].end=0;return{map:P,table:E}}function k(w,_){let E;const P=r.getBestModeForData(w);if(E=r.from(_,P),E!==r.BYTE&&E.bit<P.bit)throw new Error('"'+w+'" cannot be encoded with mode '+r.toString(E)+`.
 Suggested mode is: `+r.toString(P));switch(E===r.KANJI&&!a.isKanjiModeEnabled()&&(E=r.BYTE),E){case r.NUMERIC:return new o(w);case r.ALPHANUMERIC:return new e(w);case r.KANJI:return new n(w);case r.BYTE:return new t(w)}}i.fromArray=function(_){return _.reduce(function(E,P){return typeof P=="string"?E.push(k(P,null)):P.data&&E.push(k(P.data,P.mode)),E},[])},i.fromString=function(_,E){const P=m(_,a.isKanjiModeEnabled()),M=C(P),h=T(M,E),v=l.find_path(h.map,"start","end"),y=[];for(let f=1;f<v.length-1;f++)y.push(h.table[v[f]].node);return i.fromArray(g(y))},i.rawSplit=function(_){return i.fromArray(m(_,a.isKanjiModeEnabled()))}}(he)),he}var rr;function Dn(){if(rr)return ee;rr=1;const i=Bt(),r=Te(),o=Cn(),e=_n(),t=En(),n=Tn(),s=Sn(),a=hr(),l=Mn(),u=Pn(),d=An(),m=Rt(),p=qn();function g(h,v){const y=h.size,f=n.getPositions(v);for(let b=0;b<f.length;b++){const S=f[b][0],B=f[b][1];for(let R=-1;R<=7;R++)if(!(S+R<=-1||y<=S+R))for(let N=-1;N<=7;N++)B+N<=-1||y<=B+N||(R>=0&&R<=6&&(N===0||N===6)||N>=0&&N<=6&&(R===0||R===6)||R>=2&&R<=4&&N>=2&&N<=4?h.set(S+R,B+N,!0,!0):h.set(S+R,B+N,!1,!0))}}function C(h){const v=h.size;for(let y=8;y<v-8;y++){const f=y%2===0;h.set(y,6,f,!0),h.set(6,y,f,!0)}}function T(h,v){const y=t.getPositions(v);for(let f=0;f<y.length;f++){const b=y[f][0],S=y[f][1];for(let B=-2;B<=2;B++)for(let R=-2;R<=2;R++)B===-2||B===2||R===-2||R===2||B===0&&R===0?h.set(b+B,S+R,!0,!0):h.set(b+B,S+R,!1,!0)}}function k(h,v){const y=h.size,f=u.getEncodedBits(v);let b,S,B;for(let R=0;R<18;R++)b=Math.floor(R/3),S=R%3+y-8-3,B=(f>>R&1)===1,h.set(b,S,B,!0),h.set(S,b,B,!0)}function w(h,v,y){const f=h.size,b=d.getEncodedBits(v,y);let S,B;for(S=0;S<15;S++)B=(b>>S&1)===1,S<6?h.set(S,8,B,!0):S<8?h.set(S+1,8,B,!0):h.set(f-15+S,8,B,!0),S<8?h.set(8,f-S-1,B,!0):S<9?h.set(8,15-S-1+1,B,!0):h.set(8,15-S-1,B,!0);h.set(f-8,8,1,!0)}function _(h,v){const y=h.size;let f=-1,b=y-1,S=7,B=0;for(let R=y-1;R>0;R-=2)for(R===6&&R--;;){for(let N=0;N<2;N++)if(!h.isReserved(b,R-N)){let H=!1;B<v.length&&(H=(v[B]>>>S&1)===1),h.set(b,R-N,H),S--,S===-1&&(B++,S=7)}if(b+=f,b<0||y<=b){b-=f,f=-f;break}}}function E(h,v,y){const f=new o;y.forEach(function(N){f.put(N.mode.bit,4),f.put(N.getLength(),m.getCharCountIndicator(N.mode,h)),N.write(f)});const b=i.getSymbolTotalCodewords(h),S=a.getTotalCodewordsCount(h,v),B=(b-S)*8;for(f.getLengthInBits()+4<=B&&f.put(0,4);f.getLengthInBits()%8!==0;)f.putBit(0);const R=(B-f.getLengthInBits())/8;for(let N=0;N<R;N++)f.put(N%2?17:236,8);return P(f,h,v)}function P(h,v,y){const f=i.getSymbolTotalCodewords(v),b=a.getTotalCodewordsCount(v,y),S=f-b,B=a.getBlocksCount(v,y),R=f%B,N=B-R,H=Math.floor(f/B),F=Math.floor(S/B),Q=F+1,Z=H-F,ft=new l(Z);let rt=0;const at=new Array(B),ut=new Array(B);let A=0;const x=new Uint8Array(h.buffer);for(let tt=0;tt<B;tt++){const mt=tt<N?F:Q;at[tt]=x.slice(rt,rt+mt),ut[tt]=ft.encode(at[tt]),rt+=mt,A=Math.max(A,mt)}const O=new Uint8Array(f);let gt=0,X,K;for(X=0;X<A;X++)for(K=0;K<B;K++)X<at[K].length&&(O[gt++]=at[K][X]);for(X=0;X<Z;X++)for(K=0;K<B;K++)O[gt++]=ut[K][X];return O}function M(h,v,y,f){let b;if(Array.isArray(h))b=p.fromArray(h);else if(typeof h=="string"){let H=v;if(!H){const F=p.rawSplit(h);H=u.getBestVersionForData(F,y)}b=p.fromString(h,H||40)}else throw new Error("Invalid data");const S=u.getBestVersionForData(b,y);if(!S)throw new Error("The amount of data is too big to be stored in a QR Code");if(!v)v=S;else if(v<S)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+S+`.
`);const B=E(v,y,b),R=i.getSymbolSize(v),N=new e(R);return g(N,v),C(N),T(N,v),w(N,y,0),v>=7&&k(N,v),_(N,B),isNaN(f)&&(f=s.getBestMask(N,w.bind(null,N,y))),s.applyMask(f,N),w(N,y,f),{modules:N,version:v,errorCorrectionLevel:y,maskPattern:f,segments:b}}return ee.create=function(v,y){if(typeof v>"u"||v==="")throw new Error("No input text");let f=r.M,b,S;return typeof y<"u"&&(f=r.from(y.errorCorrectionLevel,r.M),b=u.from(y.version),S=s.from(y.maskPattern),y.toSJISFunc&&i.setToSJISFunction(y.toSJISFunc)),M(v,b,f,S)},ee}var be={},Ce={},nr;function mr(){return nr||(nr=1,function(i){function r(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let e=o.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+o);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");const t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}i.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,s=e.scale||4;return{width:n,scale:n?4:s,margin:t,color:{dark:r(e.color.dark||"#000000ff"),light:r(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},i.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale},i.getImageWidth=function(e,t){const n=i.getScale(e,t);return Math.floor((e+t.margin*2)*n)},i.qrToImageData=function(e,t,n){const s=t.modules.size,a=t.modules.data,l=i.getScale(s,n),u=Math.floor((s+n.margin*2)*l),d=n.margin*l,m=[n.color.light,n.color.dark];for(let p=0;p<u;p++)for(let g=0;g<u;g++){let C=(p*u+g)*4,T=n.color.light;if(p>=d&&g>=d&&p<u-d&&g<u-d){const k=Math.floor((p-d)/l),w=Math.floor((g-d)/l);T=m[a[k*s+w]?1:0]}e[C++]=T.r,e[C++]=T.g,e[C++]=T.b,e[C]=T.a}}}(Ce)),Ce}var ir;function Un(){return ir||(ir=1,function(i){const r=mr();function o(t,n,s){t.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=s,n.width=s,n.style.height=s+"px",n.style.width=s+"px"}function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}i.render=function(n,s,a){let l=a,u=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(u=e()),l=r.getOptions(l);const d=r.getImageWidth(n.modules.size,l),m=u.getContext("2d"),p=m.createImageData(d,d);return r.qrToImageData(p.data,n,l),o(m,u,d),m.putImageData(p,0,0),u},i.renderToDataURL=function(n,s,a){let l=a;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const u=i.render(n,s,l),d=l.type||"image/png",m=l.rendererOpts||{};return u.toDataURL(d,m.quality)}}(be)),be}var _e={},or;function xn(){if(or)return _e;or=1;const i=mr();function r(t,n){const s=t.a/255,a=n+'="'+t.hex+'"';return s<1?a+" "+n+'-opacity="'+s.toFixed(2).slice(1)+'"':a}function o(t,n,s){let a=t+n;return typeof s<"u"&&(a+=" "+s),a}function e(t,n,s){let a="",l=0,u=!1,d=0;for(let m=0;m<t.length;m++){const p=Math.floor(m%n),g=Math.floor(m/n);!p&&!u&&(u=!0),t[m]?(d++,m>0&&p>0&&t[m-1]||(a+=u?o("M",p+s,.5+g+s):o("m",l,0),l=0,u=!1),p+1<n&&t[m+1]||(a+=o("h",d),d=0)):l++}return a}return _e.render=function(n,s,a){const l=i.getOptions(s),u=n.modules.size,d=n.modules.data,m=u+l.margin*2,p=l.color.light.a?"<path "+r(l.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",g="<path "+r(l.color.dark,"stroke")+' d="'+e(d,u,l.margin)+'"/>',C='viewBox="0 0 '+m+" "+m+'"',k='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+C+' shape-rendering="crispEdges">'+p+g+`</svg>
`;return typeof a=="function"&&a(null,k),k},_e}var ar;function zn(){if(ar)return Pt;ar=1;const i=bn(),r=Dn(),o=Un(),e=xn();function t(n,s,a,l,u){const d=[].slice.call(arguments,1),m=d.length,p=typeof d[m-1]=="function";if(!p&&!i())throw new Error("Callback required as last argument");if(p){if(m<2)throw new Error("Too few arguments provided");m===2?(u=a,a=s,s=l=void 0):m===3&&(s.getContext&&typeof u>"u"?(u=l,l=void 0):(u=l,l=a,a=s,s=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(a=s,s=l=void 0):m===2&&!s.getContext&&(l=a,a=s,s=void 0),new Promise(function(g,C){try{const T=r.create(a,l);g(n(T,s,l))}catch(T){C(T)}})}try{const g=r.create(a,l);u(null,n(g,s,l))}catch(g){u(g)}}return Pt.create=r.create,Pt.toCanvas=t.bind(null,o.render),Pt.toDataURL=t.bind(null,o.renderToDataURL),Pt.toString=t.bind(null,function(n,s,a){return e.render(n,a)}),Pt}var jn=zn();const Vn=yn(jn);function sr(i){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(i)}function $n(i,{from:r,to:o},e={}){var{delay:t=0,duration:n=h=>Math.sqrt(h)*120,easing:s=Ee}=e,a=getComputedStyle(i),l=a.transform==="none"?"":a.transform,[u,d]=a.transformOrigin.split(" ").map(parseFloat);u/=i.clientWidth,d/=i.clientHeight;var m=On(i),p=i.clientWidth/o.width/m,g=i.clientHeight/o.height/m,C=r.left+r.width*u,T=r.top+r.height*d,k=o.left+o.width*u,w=o.top+o.height*d,_=(C-k)*p,E=(T-w)*g,P=r.width/o.width,M=r.height/o.height;return{delay:t,duration:typeof n=="function"?n(Math.sqrt(_*_+E*E)):n,easing:s,css:(h,v)=>{var y=v*_,f=v*E,b=h+v*P,S=h+v*M;return`transform: ${l} translate(${y}px, ${f}px) scale(${b}, ${S});`}}}function On(i){if("currentCSSZoom"in i)return i.currentCSSZoom;for(var r=i,o=1;r!==null;)o*=+getComputedStyle(r).zoom,r=r.parentElement;return o}var Hn=z('<div class="particle-container svelte-smrzvy"></div>');function wr(i,r){zt(r,!1);let o=$(r,"particleFPS",8,45),e=$(r,"particleCount",8,8),t=$(r,"gravity",8,300),n=$(r,"horizontalSpread",8,120),s=$(r,"upwardVelocityMin",8,120),a=$(r,"upwardVelocityMax",8,100),l=$(r,"particleLifetime",8,1500),u=$(r,"particleSizeMin",8,.75),d=$(r,"particleSizeMax",8,1),m=$(r,"particleCharacter",8,"âœ¨"),p=$(r,"enableTint",8,!1),g=$(r,"enableRotation",8,!1),C=V(),T=new Set;function k(_){if(!c(C))return;const E=[];for(let f=0;f<e();f++){const b=document.createElement("div");b.className="particle-effect-point";const S=(Math.random()-.5)*n(),B=-s()-Math.random()*a();if(b.textContent=m(),p()){const at=Math.random()*360,ut=80+Math.random()*40,A=90+Math.random()*20;b.style.filter=`hue-rotate(${at}deg) saturate(${ut}%) brightness(${A}%)`}const R=u()+Math.random()*(d()-u());b.style.fontSize=R+"em";const N=_.getBoundingClientRect().width*1,H=f/(e()-1)*N-N/2;let F=0,Q=0;g()&&(F=(Math.random()-.5)*360,Q=Math.random()*360),b.style.transform=`rotate(${Q}deg)`,E.push({element:b,x:H,y:0,vx:S,vy:B,life:0,maxLife:l(),size:R,rotation:Q,rotationSpeed:F}),c(C).appendChild(b);const Z=_.getBoundingClientRect(),ft=Z.left+Z.width/2,rt=Z.top+Z.height/2;b.style.left=ft+H+"px",b.style.top=rt+"px"}const P=1e3/o();let M=performance.now(),h;function v(){const f=performance.now(),b=f-M;M=f;const S=b/1e3,B=_.getBoundingClientRect(),R=B.left+B.width/2,N=B.top+B.height/2;let H=0;if(E.forEach(F=>{if(F.life+=b,F.life>=F.maxLife)return;H++,F.vy+=t()*S,F.x+=F.vx*S,F.y+=F.vy*S;const Q=F.life/F.maxLife,Z=Math.max(0,Math.cos(Q*Math.PI/2)),ft=Math.max(.2,1-F.life/F.maxLife*.7);g()?(F.rotation+=F.rotationSpeed*S,F.element.style.transform=`scale(${ft}) rotate(${F.rotation}deg)`):F.element.style.transform=`scale(${ft})`,F.element.style.left=R+F.x+"px",F.element.style.top=N+F.y+"px",F.element.style.opacity=Z.toString()}),!_.isConnected){y();return}H>0?(h=setTimeout(v,P),T.add(h)):y()}function y(){E.forEach(f=>{f.element.parentNode&&f.element.parentNode.removeChild(f.element)}),T.delete(h)}h=setTimeout(v,P),T.add(h)}ur(()=>{T.forEach(_=>{clearTimeout(_)}),T.clear()}),xt();var w=Hn();return Ut(w,_=>q(C,_),()=>c(C)),U(i,w),vn(r,"createParticleEffect",k),jt({createParticleEffect:k})}var Kn=z('<div class="topic-stat svelte-1gj20vt"><span class="topic-name svelte-1gj20vt"> </span> <div class="topic-bar svelte-1gj20vt"><div class="topic-bar-fill svelte-1gj20vt"></div> <span class="topic-count svelte-1gj20vt"> </span></div></div>'),Yn=z('<div class="topic-list svelte-1gj20vt"><div style="position: absolute; top: 0.5rem; left: 0; width: 100%; height: 1px; z-index: -1;"></div> <!></div>'),Gn=z('<div class="topic-stats svelte-1gj20vt"><h4 class="topic-header svelte-1gj20vt">Topic Interest <button class="toggle-button svelte-1gj20vt" aria-label="Toggle Topic Interest"><svg class="toggle-icon svelte-1gj20vt" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round"></path></svg></button></h4> <div class="topic-list-wrapper svelte-1gj20vt"><!></div></div>'),Jn=z('<div class="particle-effect-container svelte-1gj20vt"><!></div> <div class="stats-panel svelte-1gj20vt"><div class="summary svelte-1gj20vt"><div class="stat svelte-1gj20vt"><span class="stat-number svelte-1gj20vt"> </span> <span class="stat-label svelte-1gj20vt">Participants</span></div></div> <!></div>',1);function lr(i,r){zt(r,!1);const o=V(),e=V();let t=$(r,"userSelections",8),n=$(r,"topics",8),s=V(!0),a=V(),l=V(),u=V(0),d=V(void 0);function m(){q(s,!c(s))}function p(v,y){const f=new Map;return y.forEach(b=>{f.set(b.id,{topic:b,count:0})}),v.forEach(b=>{b.selectedTopics.forEach(S=>{const B=f.get(S);B&&B.count++})}),Array.from(f.values()).sort((b,S)=>S.count-b.count)}It(()=>(vt(t()),vt(n())),()=>{q(o,p(t(),n()))}),It(()=>vt(t()),()=>{q(e,t().length)}),It(()=>(c(o),c(u),c(e),c(d),c(a),c(l)),()=>{const y=c(o)[0]?.topic.id;let f=!1;c(u)===0&&c(e)>0&&(f=!0),c(u)>0&&c(d)&&y&&y!==c(d)&&c(e)>0&&(f=!0),f&&c(a)&&c(l)&&setTimeout(()=>{c(a).createParticleEffect(c(l))},300),q(u,c(e)),q(d,y)}),dr(),xt();var g=Jn(),C=At(g),T=L(C);Ut(wr(T,{particleCharacter:"ðŸ†",particleCount:24,enableRotation:!0,upwardVelocityMin:100,particleLifetime:2e3,horizontalSpread:200,$$legacy:!0}),v=>q(a,v),()=>c(a)),I(C);var k=D(C,2),w=L(k),_=L(w),E=L(_),P=L(E,!0);I(E),Yr(2),I(_),I(w);var M=D(w,2);{var h=v=>{var y=Gn(),f=L(y),b=D(L(f)),S=L(b),B=L(S);I(S),I(b),I(f);var R=D(f,2),N=L(R);{var H=F=>{var Q=Yn(),Z=L(Q);Ut(Z,rt=>q(l,rt),()=>c(l));var ft=D(Z,2);Dt(ft,11,()=>c(o),({topic:rt,count:at})=>rt.id,(rt,at)=>{let ut=()=>c(at).topic,A=()=>c(at).count;var x=Kn(),O=L(x),gt=L(O,!0);I(O);var X=D(O,2),K=L(X),tt=D(K,2),mt=L(tt,!0);I(tt),I(X),I(x),J(()=>{St(x,"data-topic-id",(ut(),j(()=>ut().id))),ot(gt,(ut(),j(()=>ut().name))),qt(K,`width: ${c(e)>0?A()/c(e)*100:0}%`),ot(mt,A())}),hn(x,()=>$n,()=>({duration:300})),U(rt,x)}),I(Q),U(F,Q)};G(N,F=>{c(s)&&F(H)})}I(R),I(y),J(()=>{St(B,"d",c(s)?"M6 15l6-6 6 6":"M6 9l6 6 6-6"),qt(R,`height: ${c(s)?"auto":"0"}; overflow: hidden; transition: height 0.3s ease;`)}),pt("click",b,m),U(v,y)};G(M,v=>{c(o),j(()=>c(o).length>0)&&v(h)})}I(k),J(()=>ot(P,c(e))),U(i,g),jt()}function yr(i){const r=i-1;return r*r*r+1}function Qn(i,{delay:r=0,duration:o=400,easing:e=yr,axis:t="y"}={}){const n=getComputedStyle(i),s=+n.opacity,a=t==="y"?"height":"width",l=parseFloat(n[a]),u=t==="y"?["top","bottom"]:["left","right"],d=u.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),m=parseFloat(n[`padding${d[0]}`]),p=parseFloat(n[`padding${d[1]}`]),g=parseFloat(n[`margin${d[0]}`]),C=parseFloat(n[`margin${d[1]}`]),T=parseFloat(n[`border${d[0]}Width`]),k=parseFloat(n[`border${d[1]}Width`]);return{delay:r,duration:o,easing:e,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*s};${a}: ${w*l}px;padding-${u[0]}: ${w*m}px;padding-${u[1]}: ${w*p}px;margin-${u[0]}: ${w*g}px;margin-${u[1]}: ${w*C}px;border-${u[0]}-width: ${w*T}px;border-${u[1]}-width: ${w*k}px;min-${a}: 0`}}function Kt(i,{delay:r=0,duration:o=400,easing:e=yr,start:t=0,opacity:n=0}={}){const s=getComputedStyle(i),a=+s.opacity,l=s.transform==="none"?"":s.transform,u=1-t,d=a*(1-n);return{delay:r,duration:o,easing:e,css:(m,p)=>`
			transform: ${l} scale(${1-u*p});
			opacity: ${a-d*p}
		`}}var Wn=z('<button class="topic-button selected svelte-1dg5t0c"> </button>'),Zn=z('<div class="selected-topics-container svelte-1dg5t0c"></div>'),Xn=z('<button class="topic-button svelte-1dg5t0c"> </button>'),ti=z('<div class="auto-save-status svelte-1dg5t0c"><span class="saving spinner svelte-1dg5t0c">â†»</span></div>'),ei=z('<audio></audio> <div class="component svelte-1dg5t0c"><div class="particle-effect-container svelte-1dg5t0c"><!></div> <!> <div class="topics-cloud svelte-1dg5t0c"></div> <!></div>',1);function ri(i,r){zt(r,!1);let o=$(r,"topics",8),e=$(r,"selectedTopics",12),t=$(r,"maxSelections",8),n=$(r,"isSubmitting",8),s=$(r,"particleFPS",8,45);const a=fr();let l=V(),u=V();function d(M){e().includes(M)?e(e().filter(v=>v!==M)):(e().length>=t()?e([...e().slice(1),M]):e([...e(),M]),c(u)&&(Me(u,c(u).currentTime=0),Me(u,c(u).volume=.66),c(u).play()),setTimeout(()=>{const v=document.querySelector(`[data-topic-id="${M}"].selected`);v&&c(l)&&c(l).createParticleEffect(v)},100)),a("selectionChange",{selectedTopics:e()})}xt();var m=ei(),p=At(m);Ut(p,M=>q(u,M),()=>c(u));var g=D(p,2),C=L(g),T=L(C);Ut(wr(T,{get particleFPS(){return s()},particleCharacter:"ðŸ‘",enableTint:!0,$$legacy:!0}),M=>q(l,M),()=>c(l)),I(C);var k=D(C,2);{var w=M=>{var h=Zn();Dt(h,5,()=>(vt(e()),vt(o()),j(()=>e().map(v=>o().find(y=>y.id===v)))),v=>v.id,(v,y)=>{var f=Wn(),b=L(f,!0);I(f),J(()=>{St(f,"data-topic-id",(c(y),j(()=>c(y).id))),ot(b,(c(y),j(()=>c(y).name)))}),pt("click",f,()=>d(c(y).id)),kt(1,f,()=>Kt,()=>({duration:300,start:0,easing:Ee})),kt(2,f,()=>Kt,()=>({duration:175,start:0,easing:Ne})),U(v,f)}),I(h),kt(3,h,()=>Qn,()=>({duration:300})),U(M,h)};G(k,M=>{vt(e()),j(()=>e().length>0)&&M(w)})}var _=D(k,2);Dt(_,5,()=>(vt(o()),vt(e()),j(()=>o().filter(M=>!e().includes(M.id)).sort((M,h)=>M.name.localeCompare(h.name)))),M=>M.id,(M,h)=>{var v=Xn(),y=L(v,!0);I(v),J(()=>ot(y,(c(h),j(()=>c(h).name)))),pt("click",v,()=>d(c(h).id)),kt(1,v,()=>Kt,()=>({duration:300,start:0,easing:Ee})),kt(2,v,()=>Kt,()=>({duration:175,start:0,easing:Ne})),U(M,v)}),I(_);var E=D(_,2);{var P=M=>{var h=ti();U(M,h)};G(E,M=>{n()&&M(P)})}I(g),J(M=>St(p,"src",M),[()=>(vt(Ae),j(()=>`${Ae("/")}pop.ogg`))]),U(i,m),jt()}var ni=z('<div class="qr-code svelte-1xrpiwp"></div>'),ii=z('<div class="cover-screen svelte-1xrpiwp"><div class="content svelte-1xrpiwp"><button class="close-button svelte-1xrpiwp">&times;</button> <h1 class="svelte-1xrpiwp"> </h1> <!></div></div>');function oi(i,r){zt(r,!1);let o=$(r,"qrCodeDataUrl",8),e=$(r,"title",8,"");const t=fr();function n(){t("close")}xt();var s=ii(),a=L(s),l=L(a),u=D(l,2),d=L(u,!0);I(u);var m=D(u,2);{var p=g=>{var C=ni();J(()=>{qt(C,`background-image: url(${o()??""});`),St(C,"title",`QR Code for ${e()??""}`)}),U(g,C)};G(m,g=>{o()&&g(p)})}I(a),I(s),J(()=>ot(d,e())),pt("click",l,n),pt("click",a,tn(function(g){pn.call(this,r,g)})),pt("click",s,n),U(i,s),jt()}var ai=z('<div class="svelte-19317os"><svg viewBox="0 0 24 24" style="color: currentColor;" stroke-width="0" fill="currentColor" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M13.5759 17.2714L8.46576 14.484C7.83312 15.112 6.96187 15.5 6 15.5C4.067 15.5 2.5 13.933 2.5 12C2.5 10.067 4.067 8.5 6 8.5C6.96181 8.5 7.83301 8.88796 8.46564 9.51593L13.5759 6.72855C13.5262 6.49354 13.5 6.24983 13.5 6C13.5 4.067 15.067 2.5 17 2.5C18.933 2.5 20.5 4.067 20.5 6C20.5 7.933 18.933 9.5 17 9.5C16.0381 9.5 15.1669 9.11201 14.5343 8.48399L9.42404 11.2713C9.47382 11.5064 9.5 11.7501 9.5 12C9.5 12.2498 9.47383 12.4935 9.42408 12.7285L14.5343 15.516C15.167 14.888 16.0382 14.5 17 14.5C18.933 14.5 20.5 16.067 20.5 18C20.5 19.933 18.933 21.5 17 21.5C15.067 21.5 13.5 19.933 13.5 18C13.5 17.7502 13.5262 17.5064 13.5759 17.2714Z"></path></svg></div>');function si(i,r){let o=$(r,"classes",8,""),e=$(r,"width",8,"1em"),t=$(r,"height",8,"1em");var n=ai(),s=L(n);I(n),J(()=>{qt(n,`width: ${e()??""}; height: ${t()??""};`),gr(s,0,en(o()),"svelte-19317os"),St(s,"width",e()),St(s,"height",t())}),U(i,n)}var li=z('<div class="loading svelte-1hblgs8"><h2 class="svelte-1hblgs8">Loading tangle...</h2></div>'),ci=z(`<div class="error svelte-1hblgs8"><h2 class="svelte-1hblgs8">Tangle not found</h2> <p class="svelte-1hblgs8">The tangle you're looking for doesn't exist or has expired.</p> <a href="/" class="svelte-1hblgs8">Create a new tangle</a></div>`),ui=z('<button class="qr-code-button svelte-1hblgs8"></button>'),di=z('<button class="tangle-button svelte-1hblgs8"> </button>'),fi=z('<div class="organizer-section panel svelte-1hblgs8"><div class="share-section svelte-1hblgs8"><div class="share-content svelte-1hblgs8"><div class="qr-code svelte-1hblgs8"><!></div> <div class="link-section svelte-1hblgs8"><input type="text" readonly="" class="svelte-1hblgs8"/> <button class="svelte-1hblgs8">Copy Link</button></div></div></div> <div class="participants-section svelte-1hblgs8"><!></div> <!></div>'),gi=z('<div class="user-section panel svelte-1hblgs8"><div class="participants-section svelte-1hblgs8"><!></div></div>'),hi=z('<div class="topic-selection svelte-1hblgs8"><h2 class="svelte-1hblgs8">Choose Your Topics</h2> <p class="svelte-1hblgs8"></p> <!></div>'),vi=z('<div class="user-badge svelte-1hblgs8">Your Group</div>'),pi=z('<li class="svelte-1hblgs8"> </li>'),mi=z('<div class="icebreakers svelte-1hblgs8"><strong class="svelte-1hblgs8">Icebreaker Questions:</strong> <ul class="svelte-1hblgs8"></ul></div>'),wi=z('<div><h3 class="svelte-1hblgs8"> </h3> <!> <div class="group-size svelte-1hblgs8"><strong class="svelte-1hblgs8">Members:</strong> </div> <!></div>'),yi=z('<div class="groups-list svelte-1hblgs8"></div>'),bi=z('<div class="unassigned-notice svelte-1hblgs8"><p class="svelte-1hblgs8"><strong class="svelte-1hblgs8">Note:</strong> </p></div>'),Ci=z('<div class="results-section panel svelte-1hblgs8"><h2 class="svelte-1hblgs8">Breakout Groups Created!</h2> <!> <!></div>'),_i=z('<header class="svelte-1hblgs8"><div class="header-content svelte-1hblgs8"><h1 class="svelte-1hblgs8"> </h1> <button class="btn-icon svelte-1hblgs8"><!></button></div> <p class="svelte-1hblgs8"> </p></header> <!> <!>',1),Ei=z('<div class="container svelte-1hblgs8"><!></div> <!>',1);function Ni(i,r){zt(r,!1);const[o,e]=cn(),t=()=>un(wn,"$page",o),n=V(),s=V();let a=V(null),l=V([]),u=V(null),d=V([]),m=V(!0),p=V(!1),g=V(!1),C=V(!1),T=V(""),k=V(""),w=null,_=V(null),E=V("");const P=3;Gr(async()=>{q(k,window.location.href),q(_,t().url.searchParams.get("id")),q(E,await rn("user")),await h(),await v(),f()}),ur(()=>{M()});function M(){w&&(w(),w=null)}async function h(){try{q(T,await Vn.toDataURL(c(k),{width:384,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}))}catch(A){console.error("Failed to generate QR code:",A)}}async function v(){if(c(_))try{if(q(a,await Mt.getRoom(c(_))),c(a)){if(c(a).style&&typeof c(a).style=="string"){const A=on.find(x=>x.name.toLowerCase()===c(a).style.toLowerCase());A&&an(A)}await y()}}catch(A){console.error("Failed to load room:",A)}finally{q(m,!1)}}async function y(){if(c(a))try{const{selections:A,results:x}=await Mt.getRoomData(c(a).id);q(l,A),x&&q(u,x);const O=c(l).find(gt=>gt.userId===c(E));O&&q(d,O.selectedTopics)}catch(A){console.error("Failed to load room data:",A)}}function f(){!c(a)||c(u)||(w=Mt.createPollingSubscription(()=>Mt.getRoomData(c(a).id),({selections:A,results:x})=>{if(q(l,A),x)return q(u,x),!1;const O=A.find(gt=>gt.userId===c(E));return O?q(d,O.selectedTopics):q(d,[]),!0}))}function b(A){q(d,A.detail.selectedTopics),S()}async function S(){if(c(a)){q(p,!0);try{const A={userId:c(E),roomId:c(a).id,selectedTopics:c(d),updatedAt:new Date};await Mt.submitUserSelection(A)}catch(A){console.error("Failed to submit selection:",A)}finally{q(p,!1)}}}async function B(){if(c(a)){q(g,!0);try{q(u,await Mt.createBreakoutGroups(c(a).id,c(E))),c(u)&&M()}catch(A){console.error("Failed to create breakout groups:",A),alert("Failed to create breakout groups. Please try again.")}finally{q(g,!1)}}}function R(){navigator.clipboard.writeText(c(k))}function N(A){if(!c(a))return A;const x=c(a).topics.find(O=>O.id===A);return x?x.name:A}function H(A){return A.members.includes(c(E))}It(()=>(c(a),c(E)),()=>{q(n,c(a)?c(E)===c(a).organizerId:!1)}),It(()=>c(u),()=>{c(u)&&c(u).groups.forEach(A=>{A.icebreakerQuestions=A.icebreakerQuestions.map(x=>x.replace(/\[.*?\]\(.*?\)/g,""))})}),It(()=>(c(u),c(E)),()=>{q(s,c(u)?(()=>{const A=c(u).groups.find(O=>O.members.includes(c(E))),x=c(u).groups.filter(O=>!O.members.includes(c(E)));return A?[A,...x]:c(u).groups})():[])}),dr(),xt();var F=Ei();Jr(A=>{J(()=>Qr.title=`Tangle ${c(_)??""} - Topic Tangle`)});var Q=At(F),Z=L(Q);{var ft=A=>{var x=li();U(A,x)},rt=A=>{var x=Pe(),O=At(x);{var gt=K=>{var tt=ci();U(K,tt)},X=K=>{var tt=_i(),mt=At(tt),Gt=L(mt),Jt=L(Gt),br=L(Jt);I(Jt);var Qt=D(Jt,2),Cr=L(Qt);si(Cr,{}),I(Qt),I(Gt);var Se=D(Gt,2),_r=L(Se);I(Se),I(mt);var Be=D(mt,2);{var Er=W=>{var et=fi(),dt=L(et),bt=L(dt),wt=L(bt),Et=L(wt);{var st=nt=>{var it=ui();J(()=>qt(it,`background-image: url(${c(T)}) `)),pt("click",it,()=>q(C,!0)),U(nt,it)};G(Et,nt=>{c(T)&&nt(st)})}I(wt);var lt=D(wt,2),ct=L(lt);sn(ct);var Y=D(ct,2);I(lt),I(bt),I(dt);var Ct=D(dt,2),Vt=L(Ct);{var Nt=nt=>{lr(nt,{get userSelections(){return c(l)},get topics(){return c(a),j(()=>c(a).topics)}})};G(Vt,nt=>{c(a)&&nt(Nt)})}I(Ct);var Wt=D(Ct,2);{var $t=nt=>{var it=di(),Zt=L(it,!0);I(it),J(()=>{it.disabled=(c(g),c(l),j(()=>c(g)||c(l).length===0)),ot(Zt,c(g)?"Creating Groups...":"Tangle!")}),pt("click",it,B),U(nt,it)};G(Wt,nt=>{c(u)||nt($t)})}I(et),J(()=>ln(ct,c(k))),pt("click",Y,R),U(W,et)},Tr=W=>{var et=Pe(),dt=At(et);{var bt=wt=>{var Et=gi(),st=L(Et),lt=L(st);{var ct=Y=>{lr(Y,{get userSelections(){return c(l)},get topics(){return c(a),j(()=>c(a).topics)}})};G(lt,Y=>{c(a)&&Y(ct)})}I(st),I(Et),U(wt,Et)};G(dt,wt=>{c(u)&&wt(bt)})}U(W,et)};G(Be,W=>{c(n)?W(Er):W(Tr,!1)})}var Sr=D(Be,2);{var Br=W=>{var et=hi(),dt=D(L(et),2);dt.textContent="Select up to 3 topics you're interested in discussing:";var bt=D(dt,2);ri(bt,{get topics(){return c(a),j(()=>c(a).topics)},get selectedTopics(){return c(d)},maxSelections:P,get isSubmitting(){return c(p)},$$events:{selectionChange:b}}),I(et),U(W,et)},Rr=W=>{var et=Ci(),dt=D(L(et),2);{var bt=st=>{var lt=yi();Dt(lt,5,()=>c(s),ct=>ct.id,(ct,Y)=>{var Ct=wi();let Vt;var Nt=L(Ct),Wt=L(Nt,!0);I(Nt);var $t=D(Nt,2);{var nt=yt=>{var Tt=vi();U(yt,Tt)};G($t,yt=>{c(Y),j(()=>H(c(Y)))&&yt(nt)})}var it=D($t,2),Zt=D(L(it));I(it);var Mr=D(it,2);{var Pr=yt=>{var Tt=mi(),Re=D(L(Tt),2);Dt(Re,5,()=>(c(Y),j(()=>c(Y).icebreakerQuestions)),nn,(Ar,Ir)=>{var Xt=pi(),Nr=L(Xt,!0);I(Xt),J(()=>ot(Nr,c(Ir))),U(Ar,Xt)}),I(Re),I(Tt),U(yt,Tt)};G(Mr,yt=>{c(Y),j(()=>c(Y).icebreakerQuestions.length>0)&&yt(Pr)})}I(Ct),J((yt,Tt)=>{Vt=gr(Ct,1,"group-card svelte-1hblgs8",null,Vt,yt),ot(Wt,Tt),ot(Zt,` ${c(Y),j(()=>c(Y).members.length)??""}`)},[()=>({"user-group":H(c(Y))}),()=>(c(Y),j(()=>N(c(Y).assignedTopics[0])))]),U(ct,Ct)}),I(lt),U(st,lt)};G(dt,st=>{c(u),j(()=>c(u).groups.length>0)&&st(bt)})}var wt=D(dt,2);{var Et=st=>{var lt=bi(),ct=L(lt),Y=D(L(ct));I(ct),I(lt),J(()=>ot(Y,` ${c(u),j(()=>c(u).unassignedUsers.length)??""} participants couldn't be assigned to a group.`)),U(st,lt)};G(wt,st=>{c(u),j(()=>c(u).unassignedUsers.length>0)&&st(Et)})}I(et),U(W,et)};G(Sr,W=>{c(u)?W(Rr,!1):W(Br)})}J(W=>{ot(br,`Tangle ${c(a),j(()=>c(a).id)??""}`),ot(_r,`Created ${W??""}`)},[()=>(vt(sr),c(a),j(()=>sr(c(a).createdAt)))]),pt("click",Qt,()=>q(C,!0)),U(K,tt)};G(O,K=>{c(a)?K(X,!1):K(gt)},!0)}U(A,x)};G(Z,A=>{c(m)?A(ft):A(rt,!1)})}I(Q);var at=D(Q,2);{var ut=A=>{{let x=Wr(()=>(c(a),j(()=>`Tangle ${c(a).id}`)));oi(A,{get qrCodeDataUrl(){return c(T)},get title(){return c(x)},$$events:{close:()=>q(C,!1)}})}};G(at,A=>{c(C)&&A(ut)})}U(i,F),jt(),e()}export{Ni as component};
